<!DOCTYPE html><html lang="en" class="" style="scroll-padding:60px"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>MIRI Imaging Pipeline Notebook - JWST Pipeline Notebooks</title><meta property="og:title" content="MIRI Imaging Pipeline Notebook - JWST Pipeline Notebooks"/><meta name="generator" content="mystmd"/><meta name="keywords" content=""/><meta name="image" content="/build/d28265d85bf85e9f858ef5629b9e2037.png"/><meta property="og:image" content="/build/d28265d85bf85e9f858ef5629b9e2037.png"/><link rel="stylesheet" href="/build/_assets/app-OIHP3NGU.css"/><link rel="stylesheet" href="/build/_assets/thebe-core-VKVHG5VY.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jupyter-matplotlib@0.11.3/css/mpl_widget.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous"/><link rel="icon" href="/favicon.ico"/><link rel="stylesheet" href="/myst-theme.css"/><script>
  const savedTheme = localStorage.getItem("myst:theme");
  const theme = window.matchMedia("(prefers-color-scheme: light)").matches ? 'light' : 'dark';
  const classes = document.documentElement.classList;
  const hasAnyTheme = classes.contains('light') || classes.contains('dark');
  if (!hasAnyTheme) classes.add(savedTheme ?? theme);
</script></head><body class="m-0 transition-colors duration-500 bg-white dark:bg-stone-900"><div class="myst-skip-to-article fixed top-1 left-1 h-[0px] w-[0px] focus-within:z-40 focus-within:h-auto focus-within:w-auto bg-white overflow-hidden focus-within:p-2 focus-within:ring-1" aria-label="skip to content options"><a href="#skip-to-frontmatter" class="myst-skip-to-link block px-2 py-1 text-black underline">Skip to article frontmatter</a><a href="#skip-to-article" class="myst-skip-to-link block px-2 py-1 text-black underline">Skip to article content</a></div><dialog id="myst-no-css" style="position:fixed;left:0px;top:0px;width:100vw;height:100vh;font-size:4rem;padding:1rem;color:black;background:white"><strong>Site not loading correctly?</strong><p>This may be due to an incorrect <code>BASE_URL</code> configuration. See<!-- --> <a href="https://mystmd.org/guide/deployment#deploy-base-url">the MyST Documentation</a> <!-- -->for reference.</p><script>
    (() => {
            // Test for has-styling variable set by the MyST stylesheet
            const node = document.currentScript.parentNode;
            const hasCSS = window.getComputedStyle(node).getPropertyValue("--has-styling");
            if (hasCSS === ""){
                    node.showModal();
            }

    })()
</script></dialog><div class="myst-top-nav bg-white/80 backdrop-blur dark:bg-stone-900/80 shadow dark:shadow-stone-700 p-3 md:px-8 sticky w-screen top-0 z-30 h-[60px]"><nav class="myst-top-nav-bar flex items-center justify-between flex-nowrap max-w-[1440px] mx-auto"><div class="flex flex-row xl:min-w-[19.5rem] mr-2 sm:mr-7 justify-start items-center shrink-0"><div class="block xl:hidden"><button class="myst-top-nav-menu-button flex items-center justify-center border-stone-400 text-stone-800 hover:text-stone-900 dark:text-stone-200 hover:dark:text-stone-100 w-10 h-10"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem"><path fill-rule="evenodd" d="M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd"></path></svg><span class="sr-only">Open Menu</span></button></div><a class="myst-home-link flex items-center ml-3 dark:text-white w-fit md:ml-5 xl:ml-7" href="/"><span class="text-md sm:text-xl tracking-tight sm:mr-5">Made with MyST</span></a></div><div class="flex items-center flex-grow w-auto"><div class="flex-grow hidden text-md lg:block"></div><div class="flex-grow block"></div><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R75cp:" data-state="closed" class="myst-search-bar flex items-center h-10 aspect-square sm:w-64 text-left text-gray-600 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 myst-search-bar-disabled hover:ring-blue-500 dark:hover:ring-blue-500 hover:border-blue-500 dark:hover:border-blue-500"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="p-2.5 h-10 w-10 aspect-square"><path fill-rule="evenodd" d="M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z" clip-rule="evenodd"></path></svg><span class="myst-search-text-placeholder hidden sm:block grow">Search</span><div aria-hidden="true" class="myst-search-shortcut items-center hidden mx-1 font-mono text-sm text-gray-600 sm:flex gap-x-1"><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none hide-mac">CTRL</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none show-mac">⌘</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none ">K</kbd><script>
;(() => {
const script = document.currentScript;
const root = script.parentElement;

const isMac = /mac/i.test(
      window.navigator.userAgentData?.platform ?? window.navigator.userAgent,
    );
root.querySelectorAll(".hide-mac").forEach(node => {node.classList.add(isMac ? "hidden" : "block")});
root.querySelectorAll(".show-mac").forEach(node => {node.classList.add(!isMac ? "hidden" : "block")});
})()</script></div></button><button class="myst-theme-button theme rounded-full aspect-square border border-stone-700 dark:border-white hover:bg-neutral-100 border-solid overflow-hidden text-stone-700 dark:text-white hover:text-stone-500 dark:hover:text-neutral-800 w-10 h-10 mx-3" title="Toggle theme between light and dark mode" aria-label="Toggle theme between light and dark mode"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="myst-theme-moon-icon h-full w-full p-0.5 hidden dark:block"><path fill-rule="evenodd" d="M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z" clip-rule="evenodd"></path></svg><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="myst-theme-sun-icon h-full w-full p-0.5 dark:hidden"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"></path></svg></button><div class="block sm:hidden"></div><div class="hidden sm:block"></div></div></nav></div><div class="myst-primary-sidebar fixed xl:article-grid grid-gap xl:w-screen xl:pointer-events-none overflow-auto max-xl:min-w-[300px] hidden z-10" style="top:60px"><div class="myst-primary-sidebar-pointer pointer-events-auto xl:col-margin-left flex-col overflow-hidden hidden xl:flex"><div class="myst-primary-sidebar-nav flex-grow py-6 overflow-y-auto primary-scrollbar"><nav aria-label="Navigation" class="myst-primary-sidebar-topnav overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px] lg:hidden"><div class="w-full px-1 dark:text-white font-medium"></div></nav><div class="my-3 border-b-2 lg:hidden"></div><nav aria-label="Table of Contents" class="myst-primary-sidebar-toc flex-grow overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px]"><div class="myst-toc w-full px-1 dark:text-white"><a title="JWST Pipeline Notebooks" class="block break-words focus:outline outline-blue-200 outline-2 rounded myst-toc-item p-2 my-1 rounded-lg hover:bg-slate-300/30 font-bold" href="/">JWST Pipeline Notebooks</a><div data-state="open" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 pl-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="MIRI" class="block break-words rounded py-2 grow font-semibold text-blue-800 dark:text-blue-200 cursor-pointer">MIRI</div><button class="self-stretch flex items-center flex-none px-1 rounded-l-md group hover:bg-slate-300/30 focus-visible:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:Rmpsp:" aria-expanded="true" data-state="open"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="open" id="radix-:Rmpsp:" class="pl-3 pr-[2px] collapsible-content"><a title="MIRI Conagraphy Pipeline Notebook" class="block break-words focus:outline outline-blue-200 outline-2 rounded myst-toc-item p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/notebooks/miri/coronagraphy/jwpipenb-miri-coron">MIRI Coronagraphy Notebook</a><a title="MIRI Imaging Pipeline Notebook" aria-current="page" class="block break-words focus:outline outline-blue-200 outline-2 rounded myst-toc-item p-2 my-1 rounded-lg myst-toc-item-exact bg-blue-300/30 active" href="/notebooks/miri/imaging/jwpipenb-miri-imaging">MIRI Imaging Notebook</a><a title="MIRI Imaging TSO Pipeline Notebook" class="block break-words focus:outline outline-blue-200 outline-2 rounded myst-toc-item p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/notebooks/miri/imaging-tso/jwpipenb-miri-imaging-tso">MIRI Imaging TSO Notebook</a><a title="MIRI LRS Slit Mode Pipeline Notebook" class="block break-words focus:outline outline-blue-200 outline-2 rounded myst-toc-item p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/notebooks/miri/lrs-slit/jwpipenb-miri-lrs-slit">MIRI LRS Slit Notebook</a><a title="MIRI LRS Slitless Mode TSO Pipeline Notebook" class="block break-words focus:outline outline-blue-200 outline-2 rounded myst-toc-item p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/notebooks/miri/lrs-slitless-tso/jwpipenb-miri-lrs-slitless-tso">MIRI LRS Slitless TSO Notebook</a><a title="MIRI MRS Pipeline Notebook" class="block break-words focus:outline outline-blue-200 outline-2 rounded myst-toc-item p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/notebooks/miri/mrs/jwpipenb-miri-mrs">MIRI MRS Notebook</a></div></div><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 pl-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="NIRCAM" class="block break-words rounded py-2 grow cursor-pointer">NIRCAM</div><button class="self-stretch flex items-center flex-none px-1 rounded-l-md group hover:bg-slate-300/30 focus-visible:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:Rupsp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:Rupsp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 pl-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="NIRISS" class="block break-words rounded py-2 grow cursor-pointer">NIRISS</div><button class="self-stretch flex items-center flex-none px-1 rounded-l-md group hover:bg-slate-300/30 focus-visible:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R16psp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R16psp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 pl-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="NIRSpec" class="block break-words rounded py-2 grow cursor-pointer">NIRSpec</div><button class="self-stretch flex items-center flex-none px-1 rounded-l-md group hover:bg-slate-300/30 focus-visible:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R1epsp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R1epsp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div></div></nav></div><div class="myst-primary-sidebar-footer flex-none py-6 transition-all duration-700 translate-y-6 opacity-0"><a class="myst-made-with-myst flex mx-auto text-gray-700 w-fit hover:text-blue-700 dark:text-gray-200 dark:hover:text-blue-400" href="https://mystmd.org/made-with-myst" target="_blank" rel="noreferrer"><svg style="width:24px;height:24px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" stroke="none"><g id="icon"><path fill="currentColor" d="M23.8,54.8v-3.6l4.7-0.8V17.5l-4.7-0.8V13H36l13.4,31.7h0.2l13-31.7h12.6v3.6l-4.7,0.8v32.9l4.7,0.8v3.6h-15
          v-3.6l4.9-0.8V20.8H65L51.4,53.3h-3.8l-14-32.5h-0.1l0.2,17.4v12.1l5,0.8v3.6H23.8z"></path><path fill="#F37726" d="M47,86.9c0-5.9-3.4-8.8-10.1-8.8h-8.4c-5.2,0-9.4-1.3-12.5-3.8c-3.1-2.5-5.4-6.2-6.8-11l4.8-1.6
          c1.8,5.6,6.4,8.6,13.8,8.8h9.2c6.4,0,10.8,2.5,13.1,7.5c2.3-5,6.7-7.5,13.1-7.5h8.4c7.8,0,12.7-2.9,14.6-8.7l4.8,1.6
          c-1.4,4.9-3.6,8.6-6.8,11.1c-3.1,2.5-7.3,3.7-12.4,3.8H63c-6.7,0-10,2.9-10,8.8"></path></g></svg><span class="self-center ml-2 text-sm">Made with MyST</span></a></div></div></div><main class="article-grid grid-gap"><article class="article-grid subgrid-gap col-screen article content"><div class="hidden"></div><div id="skip-to-frontmatter" aria-label="article frontmatter" class="myst-fm-block mb-8 pt-9"><div class="myst-fm-block-header flex items-center mb-5 h-6 text-sm font-light"><div class="flex-grow"></div><div class="myst-fm-block-badges"><a href="https://github.com/spacetelescope/notebook-ci-testing" title="GitHub Repository: spacetelescope/notebook-ci-testing" target="_blank" rel="noopener noreferrer" class="myst-fm-github-link text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="myst-fm-github-icon inline-block mr-1 opacity-60 hover:opacity-100"><path d="M12 2.5c-5.4 0-9.8 4.4-9.8 9.7 0 4.3 2.8 8 6.7 9.2.5.1.7-.2.7-.5v-1.8c-2.4.5-3.1-.6-3.3-1.1-.1-.3-.6-1.1-1-1.4-.3-.2-.8-.6 0-.6s1.3.7 1.5 1c.9 1.5 2.3 1.1 2.8.8.1-.6.3-1.1.6-1.3-2.2-.2-4.4-1.1-4.4-4.8 0-1.1.4-1.9 1-2.6-.1-.2-.4-1.2.1-2.6 0 0 .8-.3 2.7 1 .8-.2 1.6-.3 2.4-.3.8 0 1.7.1 2.4.3 1.9-1.3 2.7-1 2.7-1 .5 1.3.2 2.3.1 2.6.6.7 1 1.5 1 2.6 0 3.7-2.3 4.6-4.4 4.8.4.3.7.9.7 1.8V21c0 .3.2.6.7.5 3.9-1.3 6.6-4.9 6.6-9.2 0-5.4-4.4-9.8-9.8-9.8z"></path></svg></a></div><a href="https://github.com/spacetelescope/notebook-ci-testing/edit/main/notebooks/MIRI/Imaging/JWPipeNB-MIRI-imaging.ipynb" title="Edit This Page" target="_blank" rel="noopener noreferrer" class="myst-fm-edit-link text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem" class="myst-fm-edit-icon inline-block mr-1 opacity-60 hover:opacity-100"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"></path></svg></a><div class="myst-fm-downloads-dropdown relative flex inline-block mx-1 grow-0" data-headlessui-state=""><button class="myst-fm-downloads-button relative ml-2 -mr-1" id="headlessui-menu-button-:Rs8ucp:" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Downloads</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem" class="myst-fm-downloads-icon"><title>Download</title><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"></path></svg></button></div><button class="myst-fm-launch-button inline-flex size-[24px] hover:text-[#E18435] items-center justify-center" aria-label="Launch in external computing interface" title="Launch in external computing interface" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Re8ucp:" data-state="closed"><svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" class="myst-fm-launch-icon"><path d="M6.85357 3.85355L7.65355 3.05353C8.2981 2.40901 9.42858 1.96172 10.552 1.80125C11.1056 1.72217 11.6291 1.71725 12.0564 1.78124C12.4987 1.84748 12.7698 1.97696 12.8965 2.10357C13.0231 2.23018 13.1526 2.50125 13.2188 2.94357C13.2828 3.37086 13.2779 3.89439 13.1988 4.44801C13.0383 5.57139 12.591 6.70188 11.9464 7.34645L7.49999 11.7929L6.35354 10.6465C6.15827 10.4512 5.84169 10.4512 5.64643 10.6465C5.45117 10.8417 5.45117 11.1583 5.64643 11.3536L7.14644 12.8536C7.34171 13.0488 7.65829 13.0488 7.85355 12.8536L8.40073 12.3064L9.57124 14.2572C9.65046 14.3893 9.78608 14.4774 9.9389 14.4963C10.0917 14.5151 10.2447 14.4624 10.3535 14.3536L12.3535 12.3536C12.4648 12.2423 12.5172 12.0851 12.495 11.9293L12.0303 8.67679L12.6536 8.05355C13.509 7.19808 14.0117 5.82855 14.1887 4.58943C14.2784 3.9618 14.2891 3.33847 14.2078 2.79546C14.1287 2.26748 13.9519 1.74482 13.6035 1.39645C13.2552 1.04809 12.7325 0.871332 12.2045 0.792264C11.6615 0.710945 11.0382 0.721644 10.4105 0.8113C9.17143 0.988306 7.80189 1.491 6.94644 2.34642L6.32322 2.96968L3.07071 2.50504C2.91492 2.48278 2.75773 2.53517 2.64645 2.64646L0.646451 4.64645C0.537579 4.75533 0.484938 4.90829 0.50375 5.0611C0.522563 5.21391 0.61073 5.34954 0.742757 5.42876L2.69364 6.59928L2.14646 7.14645C2.0527 7.24022 2.00002 7.3674 2.00002 7.50001C2.00002 7.63261 2.0527 7.75979 2.14646 7.85356L3.64647 9.35356C3.84173 9.54883 4.15831 9.54883 4.35357 9.35356C4.54884 9.1583 4.54884 8.84172 4.35357 8.64646L3.20712 7.50001L3.85357 6.85356L6.85357 3.85355ZM10.0993 13.1936L9.12959 11.5775L11.1464 9.56067L11.4697 11.8232L10.0993 13.1936ZM3.42251 5.87041L5.43935 3.85356L3.17678 3.53034L1.80638 4.90074L3.42251 5.87041ZM2.35356 10.3535C2.54882 10.1583 2.54882 9.8417 2.35356 9.64644C2.1583 9.45118 1.84171 9.45118 1.64645 9.64644L0.646451 10.6464C0.451188 10.8417 0.451188 11.1583 0.646451 11.3535C0.841713 11.5488 1.1583 11.5488 1.35356 11.3535L2.35356 10.3535ZM3.85358 11.8536C4.04884 11.6583 4.04885 11.3417 3.85359 11.1465C3.65833 10.9512 3.34175 10.9512 3.14648 11.1465L1.14645 13.1464C0.95119 13.3417 0.951187 13.6583 1.14645 13.8535C1.34171 14.0488 1.65829 14.0488 1.85355 13.8536L3.85358 11.8536ZM5.35356 13.3535C5.54882 13.1583 5.54882 12.8417 5.35356 12.6464C5.1583 12.4512 4.84171 12.4512 4.64645 12.6464L3.64645 13.6464C3.45119 13.8417 3.45119 14.1583 3.64645 14.3535C3.84171 14.5488 4.1583 14.5488 4.35356 14.3535L5.35356 13.3535ZM9.49997 6.74881C10.1897 6.74881 10.7488 6.1897 10.7488 5.5C10.7488 4.8103 10.1897 4.25118 9.49997 4.25118C8.81026 4.25118 8.25115 4.8103 8.25115 5.5C8.25115 6.1897 8.81026 6.74881 9.49997 6.74881Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></button></div><h1 class="myst-fm-block-title mb-0">MIRI Imaging Pipeline Notebook</h1><header class="myst-fm-authors-affiliations mt-4 not-prose"><div class="myst-fm-authors-list"><span class="myst-fm-author font-semibold text-sm myst-fm-author-item inline-block"><button class="myst-fm-author-popover focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R78ucp:" data-state="closed"><span class="myst-fm-author-name">STScI</span></button></span></div></header></div><div class="block my-10 lg:sticky lg:z-10 lg:h-0 lg:pt-0 lg:my-0 lg:ml-10 lg:col-margin-right" style="top:60px"><nav></nav></div><div class="myst-jp-nb-toolbar sticky top-[60px] pb-[14px] flex justify-end w-full z-20 pointer-events-none"><div class="myst-jp-nb-toolbar-inner flex p-1 m-1 space-x-1 border rounded-full shadow pointer-events-auto border-stone-300 bg-white/80 dark:bg-stone-900/80 backdrop-blur"><div class="myst-jp-nb-toolbar-power rounded"><button class="myst-jp-nb-toolbar-power-btn flex text-center rounded-full cursor-pointer text-stone-800 dark:text-white hover:opacity-100 opacity-60" aria-label="start compute environment"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="inline-block w-6 h-6 align-top"><title>Launch kernel</title><path stroke-linecap="round" stroke-linejoin="round" d="M5.636 5.636a9 9 0 1 0 12.728 0M12 3v9"></path></svg></button></div></div></div><div id="skip-to-article"></div><div id="ZtyPo7Zjbb" class="myst-jp-nb-block relative group/block"><img id="ZdMsGfWetP" style="width:900px;margin-left:auto;margin-right:auto" src="/build/d28265d85bf85e9f858ef5629b9e2037.png" alt="stsci_logo" data-canonical-url="https://github.com/spacetelescope/jwst-pipeline-notebooks/raw/main/_static/stsci_header.png" class=""/></div><div id="zIevRJkWh0" class="myst-jp-nb-block relative group/block"><h1 id="miri-imaging-pipeline-notebook" class="relative group"><span class="heading-text">MIRI Imaging Pipeline Notebook</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#miri-imaging-pipeline-notebook" title="Link to this Section" aria-label="Link to this Section">¶</a></h1><p><strong>Authors</strong>: M. Cracraft<br/>
<strong>Last Updated</strong>: July 16, 2025<br/>
<strong>Pipeline Version</strong>: 1.19.1 (Build 12.0)</p></div><div id="D957NYtdVj" class="myst-jp-nb-block relative group/block"><p><strong>Purpose</strong>:<br/>
This notebook provides a framework for processing generic Mid-Infrared Instrument
(MIRI) Imaging data through all
three James Webb Space Telescope (JWST) pipeline stages.  Data is assumed
to be located in one observation folder according to paths set up below.
It should not be necessary to edit any cells other than in the
<a class="link" href="/notebooks/miri/imaging/jwpipenb-miri-imaging#1.-Configuration">Configuration</a> section unless modifying the standard
pipeline processing options.</p><p><strong>Data</strong>:<br/>
This example is set up to use an example dataset is from
<a target="_blank" rel="noreferrer" href="https://www.stsci.edu/jwst/science-execution/program-information" class="link">Program ID<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a>
1040 (PI: O. Detre, Co-I: A. Noriega-Crespo) which is an external flat commissioning program.
The MIRI imaging dataset uses a 5-step dither pattern. Example input data to use will be
downloaded automatically unless disabled (i.e., to use local files instead).</p><p><strong>JWST pipeline version and CRDS context</strong>:<br/>
This notebook was written for the calibration pipeline version given above and uses the context associated with this version of the JWST Calibration Pipeline. Information about this an other contexts can be found in the JWST Calibration Reference Data System (CRDS) <a class="link" href="/(https://jwst-crds.stsci.edu/)">server</a>. If you use different pipeline
versions, please refer to the table <a target="_blank" rel="noreferrer" href="https://jwst-crds.stsci.edu/display_build_contexts/" class="link">here<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a> to determine what context to use. To learn more about the differences for the pipeline, read the relevant <a target="_blank" rel="noreferrer" href="https://jwst-docs.stsci.edu/jwst-science-calibration-pipeline/jwst-operations-pipeline-build-information" class="link">documentation<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a><br/></p><p><strong>Updates</strong>:<br/>
This notebook is regularly updated as improvements are made to the
pipeline. Find the most up to date version of this notebook at:
<a target="_blank" rel="noreferrer" href="https://github.com/spacetelescope/jwst-pipeline-notebooks/" class="link">https://<wbr/>github<wbr/>.com<wbr/>/spacetelescope<wbr/>/jwst<wbr/>-pipeline<wbr/>-notebooks/<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a></p><p><strong>Recent Changes</strong>:<br/>
September 25, 2024: original notebook released<br/>
November 22, 2024: Updates to workflow when skipping pipeline modules<br/>
January 16, 2025: Add handling for dedicated backgrounds, update to jwst 1.17.1<br/>
May 5, 2025: Updated to jwst 1.18.0 (no significant changes)<br/>
July 16, 2025: Updated to jwst 1.19.1 (no significant changes)</p></div><div id="wpNr1xGBq7" class="myst-jp-nb-block relative group/block"><hr class="py-2 my-5 translate-y-2"/></div><div id="CvEMyWmjvb" class="myst-jp-nb-block relative group/block"><h2 id="table-of-contents" class="relative group"><span class="heading-text">Table of Contents</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#table-of-contents" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><ol start="1"><li><p><a class="link" href="/notebooks/miri/imaging/jwpipenb-miri-imaging#1.-Configuration">Configuration</a></p></li><li><p><a class="link" href="/notebooks/miri/imaging/jwpipenb-miri-imaging#2.-Package-Imports">Package Imports</a></p></li><li><p><a class="link" href="/notebooks/miri/imaging/jwpipenb-miri-imaging#3.-Demo-Mode-Setup-(ignore-if-not-using-demo-data)">Demo Mode Setup (ignore if not using demo data)</a></p></li><li><p><a class="link" href="/notebooks/miri/imaging/jwpipenb-miri-imaging#4.-Directory-Setup">Directory Setup</a></p></li><li><p><a class="link" href="/notebooks/miri/imaging/jwpipenb-miri-imaging#5.-Detector1-Pipeline">Detector 1 Pipeline</a></p></li><li><p><a class="link" href="/notebooks/miri/imaging/jwpipenb-miri-imaging#6.-Image2-Pipeline">Image2 Pipeline</a></p></li><li><p><a class="link" href="/notebooks/miri/imaging/jwpipenb-miri-imaging#7.-Image3-Pipeline">Image3 Pipeline</a></p></li><li><p><a class="link" href="/notebooks/miri/imaging/jwpipenb-miri-imaging#8.-Visualize-the-drizzle-combined-image">Visualize the data</a></p></li></ol></div><div id="UEwakv0B5R" class="myst-jp-nb-block relative group/block"><hr class="py-2 my-5 translate-y-2"/></div><div id="eJ720Pzbyh" class="myst-jp-nb-block relative group/block"><h2 id="id-1-configuration" class="relative group"><span class="heading-text">1. Configuration</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-1-configuration" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><hr class="py-2 my-5 translate-y-2"/><p>Set basic configuration for running notebook.</p></div><div id="fwC2aylpFY" class="myst-jp-nb-block relative group/block"><h3 id="install-dependencies-and-parameters" class="relative group"><span class="heading-text">Install dependencies and parameters</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#install-dependencies-and-parameters" title="Link to this Section" aria-label="Link to this Section">¶</a></h3></div><div id="qUyMhs3UBG" class="myst-jp-nb-block relative group/block"><p>To make sure that the pipeline version is compatabile with the steps
discussed below and the required dependencies and packages are installed,
you can create a fresh conda environment and install the provided
<code>requirements.txt</code> file before starting this notebook: <br/></p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-text" style="white-space:pre">conda create -n miri_imaging_pipeline python=3.11
conda activate miri_imaging_pipeline
pip install -r requirements.txt</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><p>Set the basic parameters to use with this notebook. These will affect
what data is used, where data is located (if already in disk), and
pipeline modules run in this data. The list of parameters are:</p><ul><li><p>demo_mode</p></li><li><p>directories with data</p></li><li><p>pipeline modules</p></li></ul></div><div id="ZFslTLBtmZ" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Basic import necessary for configuration
import os</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="go6im65QDWPTB-UFSO7C4" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="jW0kh3fxM7" class="myst-jp-nb-block relative group/block"><div class="alert alert-block alert-warning">Note that <code>demo_mode</code> must be set appropriately below.</div><p>Set <code>demo_mode = True</code> to run in demonstration mode. In this
mode this notebook will download example data from the Barbara A.
Mikulski Archive for Space Telescopes
(<a target="_blank" rel="noreferrer" href="https://mast.stsci.edu/portal/Mashup/Clients/Mast/Portal.html" class="link">MAST<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a>)
and process it through the pipeline. This will all happen in a local
directory unless modified in
<a class="link" href="/notebooks/miri/imaging/jwpipenb-miri-imaging#3.-Demo-Mode-Setup-(ignore-if-not-using-demo-data)">Section 3</a> below.<br/></p><p>Set <code>demo_mode = False</code> if you want to process your own data
that has already been downloaded and provide the location of the data.<br/></p></div><div id="k4BLLHM8sY" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Set parameters for demo_mode and processing steps.

# -----------------------------Demo Mode---------------------------------
demo_mode = True

if demo_mode:
    print(&#x27;Running in demonstration mode using online example data!&#x27;)

# --------------------------User Mode Directories------------------------
# If demo_mode = False, look for user data in these paths
if not demo_mode:
    # Set directory paths for processing specific data; these will need
    # to be changed to your local directory setup (below are given as
    # examples)
    user_home_dir = os.path.expanduser(&#x27;~&#x27;)

    # Point to where science observation data are
    # Assumes uncalibrated data in sci_dir/uncal/ and results in stage1,
    # stage2, stage3 directories
    sci_dir = os.path.join(user_home_dir, &#x27;FlightData/APT1040/data/Obs001/&#x27;)
    
    # Point to where background observation data are
    # Assumes uncalibrated data in bg_dir/uncal/ and results in stage1 directory
    #bg_dir = os.path.join(user_home_dir, &#x27;FlightData/APT1714/data/Obs02/&#x27;)
    bg_dir = &#x27;&#x27; # If no background observation, use an empty string

# --------------------------Set Processing Steps--------------------------
# Individual pipeline stages can be turned on/off here.  Note that a later
# stage won&#x27;t be able to run unless data products have already been
# produced from the prior stage.

# Science processing
dodet1 = True  # calwebb_detector1
doimage2 = True  # calwebb_image2
doimage3 = True  # calwebb_image3
doviz = True # Visualize calwebb_image3 results

# Background processing (if present)
dodet1bg = True  # calwebb_detector1</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="C_yuQ1J2Np2Tw1jdbAe44" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>Running in demonstration mode using online example data!
</span></code></pre></div></div></div></div><div id="cHOpukVr3B" class="myst-jp-nb-block relative group/block"><h3 id="set-crds-context-and-server" class="relative group"><span class="heading-text">Set CRDS context and server</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#set-crds-context-and-server" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Before importing <code>CRDS</code> and <code>JWST</code> modules, we need
to configure our environment. This includes defining a CRDS cache
directory in which to keep the reference files that will be used by the
calibration pipeline.<br/></p><p>If the root directory for the local CRDS cache directory has not been set
already, it will be set to create one in the home directory.</p></div><div id="q4NFoXi2an" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># ------------------------Set CRDS context and paths----------------------
# Each version of the calibration pipeline is associated with a specific CRDS
# context file. The pipeline will select the appropriate context file behind
# the scenes while running. However, if you wish to override the default context
# file and run the pipeline with a different context, you can set that using
# the CRDS_CONTEXT environment variable. Here we show how this is done,
# although we leave the line commented out in order to use the default context.
# If you wish to specify a different context, uncomment the line below.
#%env CRDS_CONTEXT jwst_1293.pmap

# Check whether the local CRDS cache directory has been set.
# If not, set it to the user home directory
if (os.getenv(&#x27;CRDS_PATH&#x27;) is None):
    os.environ[&#x27;CRDS_PATH&#x27;] = os.path.join(os.path.expanduser(&#x27;~&#x27;), &#x27;crds&#x27;)

# Check whether the CRDS server URL has been set.  If not, set it.
if (os.getenv(&#x27;CRDS_SERVER_URL&#x27;) is None):
    os.environ[&#x27;CRDS_SERVER_URL&#x27;] = &#x27;https://jwst-crds.stsci.edu&#x27;

# Echo CRDS path in use
print(f&quot;CRDS local filepath: {os.environ[&#x27;CRDS_PATH&#x27;]}&quot;)
print(f&quot;CRDS file server: {os.environ[&#x27;CRDS_SERVER_URL&#x27;]}&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="EPc-_m5FS0jufmeWxEWxg" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>CRDS local filepath: /home/runner/crds
CRDS file server: https://jwst-crds.stsci.edu
</span></code></pre></div></div></div></div><div id="J7YXxTvHQK" class="myst-jp-nb-block relative group/block"><hr class="py-2 my-5 translate-y-2"/></div><div id="P09T9rKEzw" class="myst-jp-nb-block relative group/block"><h2 id="id-2-package-imports" class="relative group"><span class="heading-text">2. Package Imports</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-2-package-imports" title="Link to this Section" aria-label="Link to this Section">¶</a></h2></div><div id="x6dwfau2w1" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Use the entire available screen width for this notebook
from IPython.display import display, HTML
display(HTML(&quot;&lt;style&gt;.container { width:95% !important; }&lt;/style&gt;&quot;))</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="qhVnD_WW__8jJ1i48Ogdv" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="Gngi6MfzAL" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Basic system utilities for interacting with files
# ----------------------General Imports------------------------------------
import glob
import time
from pathlib import Path
#import urllib.request

# Numpy for doing calculations
import numpy as np

# To display full ouptut of cell, not just the last result
from IPython.core.interactiveshell import InteractiveShell
InteractiveShell.ast_node_interactivity = &quot;all&quot;

# --------------------Astroquery Imports------------------------------
# ASCII files, and downloading demo files
from astroquery.mast import Observations

# ----------------Matplotlib for visualizing images-------------------
import matplotlib.pyplot as plt

# -------------------Astropy routines for visualizing detected sources----------
from astropy.table import Table
from astropy.io import fits

# ----------------------JWST calibration pipeline------------------------
import jwst
import crds

from jwst.pipeline import Detector1Pipeline
from jwst.pipeline import Image2Pipeline
from jwst.pipeline import Image3Pipeline

# JWST pipeline utilities
from jwst import datamodels
from jwst.datamodels import ImageModel
from jwst.associations import asn_from_list as afl  # Tools for creating association files
from jwst.associations.lib.rules_level2_base import DMSLevel2bBase  # Definition of a Lvl2 association file
from jwst.associations.lib.rules_level3_base import DMS_Level3_Base  # Definition of a Lvl3 association file

# Echo pipeline version and CRDS context in use
print(f&quot;JWST Calibration Pipeline Version: {jwst.__version__}&quot;)
print(f&quot;Using CRDS Context: {crds.get_context_name(&#x27;jwst&#x27;)}&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="TL-hMsY9Cp0fH5plxHbiZ" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>CRDS - INFO -  Calibration SW Found: jwst 1.19.1 (/home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages/jwst-1.19.1.dist-info)
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>JWST Calibration Pipeline Version: 1.19.1
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>Using CRDS Context: jwst_1413.pmap
</span></code></pre></div></div></div></div><div id="H02b2aRkcD" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Start a timer to keep track of runtime
time0 = time.perf_counter()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="O2P5vVNg_woUhpdryoobX" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="PoTEFIhX7q" class="myst-jp-nb-block relative group/block"><hr class="py-2 my-5 translate-y-2"/></div><div id="rrfphS5ydr" class="myst-jp-nb-block relative group/block"><h2 id="id-3-demo-mode-setup-ignore-if-not-using-demo-data" class="relative group"><span class="heading-text">3. Demo Mode Setup (ignore if not using demo data)</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-3-demo-mode-setup-ignore-if-not-using-demo-data" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><hr class="py-2 my-5 translate-y-2"/><p>If running in demonstration mode, set up the program information to
retrieve the uncalibrated data automatically from MAST using
<a target="_blank" rel="noreferrer" href="https://astroquery.readthedocs.io/en/latest/mast/mast.html" class="link">astroquery<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a>.
MAST allows for flexibility of searching by the proposal ID and the
observation ID instead of just filenames.<br/></p><p>For illustrative purposes, we focus on data taken through the MIRI
<a target="_blank" rel="noreferrer" href="https://jwst-docs.stsci.edu/jwst-mid-infrared-instrument/miri-observing-modes/miri-imaging#MIRIImaging-MIRIFiltersImagingfilters" class="link">F770W filter<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a>
and start with uncalibrated data products. The files are named
<code>jw01040001005_03103_0000n_miri_uncal.fits</code>, where <em>n</em> refers to the
dither step number which ranges from 1 - 5.</p><p>More information about the JWST file naming conventions can be found at:
<a target="_blank" rel="noreferrer" href="https://jwst-pipeline.readthedocs.io/en/latest/jwst/data_products/file_naming.html" class="link">https://<wbr/>jwst<wbr/>-pipeline<wbr/>.readthedocs<wbr/>.io<wbr/>/en<wbr/>/latest<wbr/>/jwst<wbr/>/data<wbr/>_products<wbr/>/file<wbr/>_naming<wbr/>.html<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a></p></div><div id="IvbndtlfyQ" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Set up the program information and paths for demo program
if demo_mode:
    print(&#x27;Running in demonstration mode and will download example data from MAST!&#x27;)
    program = &#x27;01040&#x27;
    sci_observtn = &quot;001&quot;
    visit = &quot;005&quot;
    data_dir = os.path.join(&#x27;.&#x27;, &#x27;mir_im_demo_data&#x27;)
    download_dir = data_dir
    sci_dir = os.path.join(data_dir, &#x27;Obs&#x27; + sci_observtn)
    uncal_dir = os.path.join(sci_dir, &#x27;uncal&#x27;)
    bg_dir = &#x27;&#x27;

    # Ensure filepaths for input data exist
    if not os.path.exists(uncal_dir):
        os.makedirs(uncal_dir)

    # Create directory if it does not exist
    if not os.path.isdir(data_dir):
        os.mkdir(data_dir)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="nGPaKPx3aoBuZpPjmnLK7" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>Running in demonstration mode and will download example data from MAST!
</span></code></pre></div></div></div></div><div id="ZZFgtB3HCP" class="myst-jp-nb-block relative group/block"><p>Identify list of science (SCI) uncalibrated files associated with visits.</p><div class="alert alert-block alert-warning">Selects only filter <em>f770w</em> data</div></div><div id="zG4BP1yrzg" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Obtain a list of observation IDs for the specified demo program
if demo_mode:
    # Science data
    sci_obs_id_table = Observations.query_criteria(instrument_name=[&quot;MIRI/IMAGE&quot;],
                                                   provenance_name=[&quot;CALJWST&quot;],  # Executed observations
                                                   filters=[&#x27;F770W&#x27;],  # Data for Specific Filter
                                                   obs_id=[&#x27;jw&#x27; + program + &#x27;-o&#x27; + sci_observtn + &#x27;*&#x27;]
                                                   )</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="AOcZg2f5Hs7vVjEhG80P4" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="uL3Mp0S8PN" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Turn the list of visits into a list of uncalibrated data files
if demo_mode:
    # Define types of files to select
    file_dict = {&#x27;uncal&#x27;: {&#x27;product_type&#x27;: &#x27;SCIENCE&#x27;,
                           &#x27;productSubGroupDescription&#x27;: &#x27;UNCAL&#x27;,
                           &#x27;calib_level&#x27;: [1]}}

    # Science files
    sci_files_to_download = []

    # Loop over visits identifying uncalibrated files that are associated
    # with them
    for exposure in (sci_obs_id_table):
        products = Observations.get_product_list(exposure)
        for filetype, query_dict in file_dict.items():
            filtered_products = Observations.filter_products(products, productType=query_dict[&#x27;product_type&#x27;],
                                                             productSubGroupDescription=query_dict[&#x27;productSubGroupDescription&#x27;],
                                                             calib_level=query_dict[&#x27;calib_level&#x27;])
            sci_files_to_download.extend(filtered_products[&#x27;dataURI&#x27;])

    # Download only the files in a single visit
    sci_files_to_download = [match for match in sci_files_to_download if (&#x27;jw&#x27; + program + sci_observtn + visit) in match]
    sci_files_to_download = sorted(sci_files_to_download)
    print(f&quot;Science files selected for downloading: {len(sci_files_to_download)}&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="2nT3aUNJPsZ27V-d2d74i" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>Science files selected for downloading: 5
</span></code></pre></div></div></div></div><div id="jILbhm50uN" class="myst-jp-nb-block relative group/block"><p>Download all the uncal files and place them into the appropriate
directories.<br/></p><div class="alert alert-block alert-warning">Warning: If this notebook is halted during this step the downloaded file may be incomplete, and cause crashes later on!</div></div><div id="aLK8IqRv6R" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">if demo_mode:
    for filename in sci_files_to_download:
        sci_manifest = Observations.download_file(filename,
                                                  local_path=os.path.join(uncal_dir, Path(filename).name))</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="UuvXofoKgi73YOm6ZxAxk" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>INFO: Found cached file ./mir_im_demo_data/Obs001/uncal/jw01040001005_03103_00001_mirimage_uncal.fits with expected size 15909120. [astroquery.query]
INFO: Found cached file ./mir_im_demo_data/Obs001/uncal/jw01040001005_03103_00002_mirimage_uncal.fits with expected size 15909120. [astroquery.query]
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>INFO: Found cached file ./mir_im_demo_data/Obs001/uncal/jw01040001005_03103_00003_mirimage_uncal.fits with expected size 15909120. [astroquery.query]
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>INFO: Found cached file ./mir_im_demo_data/Obs001/uncal/jw01040001005_03103_00004_mirimage_uncal.fits with expected size 15909120. [astroquery.query]
INFO: Found cached file ./mir_im_demo_data/Obs001/uncal/jw01040001005_03103_00005_mirimage_uncal.fits with expected size 15909120. [astroquery.query]
</span></code></pre></div></div></div></div><div id="gfte6wSXsQ" class="myst-jp-nb-block relative group/block"><hr class="py-2 my-5 translate-y-2"/></div><div id="VQ7AQ3Eg1b" class="myst-jp-nb-block relative group/block"><h2 id="id-4-directory-setup" class="relative group"><span class="heading-text">4. Directory Setup</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-4-directory-setup" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><hr class="py-2 my-5 translate-y-2"/><p>Set up detailed paths to input/output stages here.</p></div><div id="rAx4mWxw7z" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Define output subdirectories to keep science data products organized
uncal_dir = os.path.join(sci_dir, &#x27;uncal&#x27;)  # Uncalibrated pipeline inputs should be here
det1_dir = os.path.join(sci_dir, &#x27;stage1&#x27;)  # calwebb_detector1 pipeline outputs will go here
image2_dir = os.path.join(sci_dir, &#x27;stage2&#x27;)  # calwebb_spec2 pipeline outputs will go here
image3_dir = os.path.join(sci_dir, &#x27;stage3&#x27;)  # calwebb_spec3 pipeline outputs will go here

# Output subdirectories to keep background data products organized
uncal_bgdir = os.path.join(bg_dir, &#x27;uncal&#x27;)  # Uncalibrated pipeline inputs should be here
det1_bgdir = os.path.join(bg_dir, &#x27;stage1&#x27;)  # calwebb_detector1 pipeline outputs will go here

# We need to check that the desired output directories exist, and if not
# create them
if not os.path.exists(det1_dir):
    os.makedirs(det1_dir)
if not os.path.exists(image2_dir):
    os.makedirs(image2_dir)
if not os.path.exists(image3_dir):
    os.makedirs(image3_dir)
    
if ((bg_dir != &#x27;&#x27;) &amp; (not os.path.exists(det1_bgdir))):
    os.makedirs(det1_bgdir)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="euGYw35cbTL3ZdoOioUD0" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="iel0JbL7Vs" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Print out the time benchmark
time1 = time.perf_counter()
print(f&quot;Runtime so far: {time1 - time0:0.0f} seconds&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="f99ad16PeG_RfIzPQTv98" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>Runtime so far: 5 seconds
</span></code></pre></div></div></div></div><div id="FZwQNkhw5g" class="myst-jp-nb-block relative group/block"><hr class="py-2 my-5 translate-y-2"/></div><div id="U5tGCctqEg" class="myst-jp-nb-block relative group/block"><h2 id="id-5-detector1-pipeline" class="relative group"><span class="heading-text">5. Detector1 Pipeline</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-5-detector1-pipeline" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Run the datasets through the
<a target="_blank" rel="noreferrer" href="https://jwst-docs.stsci.edu/jwst-science-calibration-pipeline-overview/stages-of-jwst-data-processing/calwebb_detector1" class="link">Detector1<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a>
stage of the pipeline to apply detector level calibrations and create a
countrate data product where slopes are fitted to the integration ramps.
These <code>*_rate.fits</code> products are 2D (nrows x ncols), averaged over all
integrations. 3D countrate data products (<code>*_rateints.fits</code>) are also
created (nintegrations x nrows x ncols) which have the fitted ramp slopes
for each integration.<br/></p><p>By default, all steps in the <code>Detector1</code> stage of the pipeline are run for
MIRI except: the <code>group_scale</code>, <code>ipc</code> and the <code>gain_scale</code> steps.<br/></p><p>MIRI performs a few pipeline steps in calwebb_detector1 that are not performed for other instruments.
The <a target="_blank" rel="noreferrer" href="https://jwst-pipeline.readthedocs.io/en/latest/jwst/emicorr/index.html#emicorr-step" class="link">emicorr<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a> step corrects
for known noise patterns in MIRI data. For certain subarrays, these noise patterns are clearly imprinted on
the data in the <code>rate.fits</code> files.<br/></p><p>The <a target="_blank" rel="noreferrer" href="https://jwst-pipeline.readthedocs.io/en/latest/jwst/firstframe/index.html#firstframe-step" class="link">firstframe<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a> step flags the first frame in each integration as bad, if the number of groups per integration is greater than 3.<br/></p><p>The <a target="_blank" rel="noreferrer" href="https://jwst-pipeline.readthedocs.io/en/latest/jwst/lastframe/index.html#lastframe-step" class="link">lastframe<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a> step
flags the last frame in each integration as bad, if the number of groups per integration is greater than 2.<br/></p><p>The <a target="_blank" rel="noreferrer" href="https://jwst-pipeline.readthedocs.io/en/latest/jwst/reset/index.html#reset-step" class="link">reset<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a> correction step
corrects for the reset anomaly effect. This effect is caused by the non-ideal behavior of the field effect
transistor (FET) upon resetting in the dark causing the initial frames in an integration to be offset
from their expected values.<br/></p><p>The <a target="_blank" rel="noreferrer" href="https://jwst-pipeline.readthedocs.io/en/latest/jwst/rscd/index.html#rscd-step" class="link">rscd<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a> step reads a reference
file for each data file and determines how many frames at the start of a ramp should be flagged as bad. There are a
number of nonlinearities at the start of MIRI ramps, and the flagging allows the more linear portion of the ramp to
be used for jump detection and ramp fitting, without using the initial, non-linear portion of the ramp. The number
of groups flagged depend on filter and subarray.<br/></p><p>As of CRDS context <code>jwst_1201.pmap</code> and later, the
<a target="_blank" rel="noreferrer" href="https://jwst-pipeline.readthedocs.io/en/latest/api/jwst.jump.JumpStep.html" class="link">jump<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a> step
of the <code>DETECTOR1</code> stage of the pipeline will remove residuals associated
with <a target="_blank" rel="noreferrer" href="https://jwst-docs.stsci.edu/known-issues-with-jwst-data/shower-and-snowball-artifacts" class="link">showers<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a>
for the MIRI imaging mode, but only for data with filter F1500W and shorter. The default parameters for this correction,
where <code>find_showers</code> set to <code>True</code> turns on the shower
removal algorithm, are specified in the <code>pars-jumpstep</code> parameter
reference files. Users may wish to alter parameters to optimize removal of
shower residuals. Available parameters are discussed in the
<a target="_blank" rel="noreferrer" href="https://www.stsci.edu/files/live/sites/www/files/home/jwst/documentation/technical-documents/_documents/JWST-STScI-008545.pdf" class="link">Detection and Flagging of Showers and Snowballs in JWST Technical Report (Regan 2023)<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a>.</p></div><div id="SxmNCNNbyX" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Set up a dictionary to define how the Detector1 pipeline should be configured

# Boilerplate dictionary setup
det1dict = {}
det1dict[&#x27;group_scale&#x27;], det1dict[&#x27;dq_init&#x27;], det1dict[&#x27;emicorr&#x27;] = {}, {}, {}
det1dict[&#x27;saturation&#x27;], det1dict[&#x27;firstframe&#x27;], det1dict[&#x27;lastframe&#x27;] = {}, {}, {}
det1dict[&#x27;reset&#x27;], det1dict[&#x27;linearity&#x27;], det1dict[&#x27;rscd&#x27;] = {}, {}, {}
det1dict[&#x27;dark_current&#x27;], det1dict[&#x27;refpix&#x27;], det1dict[&#x27;jump&#x27;] = {}, {}, {}
det1dict[&#x27;ramp_fit&#x27;], det1dict[&#x27;gain_scale&#x27;] = {}, {}

# Overrides for whether or not certain steps should be skipped
# skipping the refpix step
#det1dict[&#x27;refpix&#x27;][&#x27;skip&#x27;] = True
#det1dict[&#x27;jump&#x27;][&#x27;find_showers&#x27;] = False # Turn off detection of cosmic ray showers

# Overrides for various reference files
# Files should be in the base local directory or provide full path
#det1dict[&#x27;dq_init&#x27;][&#x27;override_mask&#x27;] = &#x27;myfile.fits&#x27;  # Bad pixel mask
#det1dict[&#x27;saturation&#x27;][&#x27;override_saturation&#x27;] = &#x27;myfile.fits&#x27;  # Saturation
#det1dict[&#x27;reset&#x27;][&#x27;override_reset&#x27;] = &#x27;myfile.fits&#x27;  # Reset
#det1dict[&#x27;linearity&#x27;][&#x27;override_linearity&#x27;] = &#x27;myfile.fits&#x27;  # Linearity
#det1dict[&#x27;rscd&#x27;][&#x27;override_rscd&#x27;] = &#x27;myfile.fits&#x27;  # RSCD
#det1dict[&#x27;dark_current&#x27;][&#x27;override_dark&#x27;] = &#x27;myfile.fits&#x27;  # Dark current subtraction
#det1dict[&#x27;jump&#x27;][&#x27;override_gain&#x27;] = &#x27;myfile.fits&#x27;  # Gain used by jump step
#det1dict[&#x27;ramp_fit&#x27;][&#x27;override_gain&#x27;] = &#x27;myfile.fits&#x27;  # Gain used by ramp fitting step
#det1dict[&#x27;jump&#x27;][&#x27;override_readnoise&#x27;] = &#x27;myfile.fits&#x27;  # Read noise used by jump step
#det1dict[&#x27;ramp_fit&#x27;][&#x27;override_readnoise&#x27;] = &#x27;myfile.fits&#x27;  # Read noise used by ramp fitting step

# Turn on multi-core processing (off by default).  Choose what fraction of cores to use (quarter, half, or all)
det1dict[&#x27;jump&#x27;][&#x27;maximum_cores&#x27;] = &#x27;half&#x27;

# Alter parameters to optimize removal of shower residuals (example)
#det1dict[&#x27;jump&#x27;][&#x27;after_jump_flag_dn1&#x27;] = X  # A floating point value in units of DN
#det1dict[&#x27;jump&#x27;][&#x27;after_jump_flag_time1&#x27;] = x.x # A floating point value in units of seconds</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="VF3N-L8YwLLq4XciAz0QR" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="SrTD9T4mQC" class="myst-jp-nb-block relative group/block"><h3 id="calibrating-science-files" class="relative group"><span class="heading-text">Calibrating Science Files</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#calibrating-science-files" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Look for input science files and run calwebb_detector1 pipeline using the call method.</p></div><div id="pw9UhWZ3LA" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">uncal_files = sorted(glob.glob(os.path.join(uncal_dir, &#x27;*_uncal.fits&#x27;)))
uncal_bgfiles = sorted(glob.glob(os.path.join(uncal_bgdir, &#x27;*_uncal.fits&#x27;)))

print(&#x27;Found &#x27; + str(len(uncal_files)) + &#x27; science input files&#x27;)
print(&#x27;Found &#x27; + str(len(uncal_bgfiles)) + &#x27; background input files&#x27;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="lVYpP7LJlqnytT8EUOmVE" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>Found 5 science input files
Found 0 background input files
</span></code></pre></div></div></div></div><div id="LmC6dT9s5u" class="myst-jp-nb-block relative group/block"><p>Look at the first file to determine exposure parameters and practice using
JWST datamodels¶</p></div><div id="wl6dovnunn" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">if dodet1:
    # print file name
    print(uncal_files[0])

    # Open file as JWST datamodel
    examine = datamodels.open(uncal_files[0])

    # Print out exposure info
    print(f&quot;Instrument: {examine.meta.instrument.name}&quot;)
    print(f&quot;Filter: {examine.meta.instrument.filter}&quot;)
    print(f&quot;Number of integrations: {examine.meta.exposure.nints}&quot;)
    print(f&quot;Number of groups: {examine.meta.exposure.ngroups}&quot;)
    print(f&quot;Readout pattern: {examine.meta.exposure.readpatt}&quot;)
    print(f&quot;Dither position number: {examine.meta.dither.position_number}&quot;)
    print(&quot;\n&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="fkaxYa7gYAERVMtEhjvZV" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>./mir_im_demo_data/Obs001/uncal/jw01040001005_03103_00001_mirimage_uncal.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>Instrument: MIRI
Filter: F770W
Number of integrations: 1
Number of groups: 6
Readout pattern: FASTR1
Dither position number: 1


</span></code></pre></div></div></div></div><div id="vgHD3dr1bN" class="myst-jp-nb-block relative group/block"><p>From the above, we confirm that the demo data file is for the MIRI instrument
using the <code>F770W</code> filter in the <a target="_blank" rel="noreferrer" href="https://jwst-docs.stsci.edu/jwst-mid-infrared-instrument/miri-instrumentation/miri-filters-and-dispersers#gsc.tab=0" class="link">Filter Wheel<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a>. This observation uses
the MIRI <a target="_blank" rel="noreferrer" href="https://jwst-docs.stsci.edu/jwst-mid-infrared-instrument/miri-instrumentation/miri-detector-overview/miri-detector-readout-overview#gsc.tab=0" class="link">readout pattern<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a> FASTR1,
6 groups per integration, and 1 integration per exposure. This data file
is the 1st dither position in this exposure sequence. For more information
about how JWST exposures are defined by up-the-ramp sampling, see the
<a target="_blank" rel="noreferrer" href="https://jwst-docs.stsci.edu/understanding-exposure-times" class="link">Understanding Exposure Times JDox article<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a>.<br/></p><p>This metadata will be the same for all exposures in this observation other
than the dither position number.</p></div><div id="u6YsSkwjQJ" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Run Detector1 stage of pipeline, specifying:
# output directory to save *_rate.fits files
# save_results flag set to True so the rate files are saved

if dodet1:
    for uncal in uncal_files:
        rate_result = Detector1Pipeline.call(uncal, output_dir=det1_dir, steps=det1dict, save_results=True,)
else:
    print(&#x27;Skipping Detector1 processing&#x27;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="NC_7JJsNWkDeWLO_eaAHs" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:18,241 - stpipe - INFO - PARS-EMICORRSTEP parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-emicorrstep_0003.asdf
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:18,259 - stpipe - INFO - PARS-DARKCURRENTSTEP parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-darkcurrentstep_0001.asdf
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:18,270 - stpipe - INFO - PARS-JUMPSTEP parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-jumpstep_0005.asdf
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:18,282 - stpipe - INFO - PARS-DETECTOR1PIPELINE parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-detector1pipeline_0008.asdf
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:18,298 - stpipe.Detector1Pipeline - INFO - Detector1Pipeline instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:18,299 - stpipe.Detector1Pipeline.group_scale - INFO - GroupScaleStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:18,300 - stpipe.Detector1Pipeline.dq_init - INFO - DQInitStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:18,301 - stpipe.Detector1Pipeline.emicorr - INFO - EmiCorrStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:18,302 - stpipe.Detector1Pipeline.saturation - INFO - SaturationStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:18,303 - stpipe.Detector1Pipeline.ipc - INFO - IPCStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:18,304 - stpipe.Detector1Pipeline.superbias - INFO - SuperBiasStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:18,305 - stpipe.Detector1Pipeline.refpix - INFO - RefPixStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:18,307 - stpipe.Detector1Pipeline.rscd - INFO - RscdStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:18,308 - stpipe.Detector1Pipeline.firstframe - INFO - FirstFrameStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:18,309 - stpipe.Detector1Pipeline.lastframe - INFO - LastFrameStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:18,310 - stpipe.Detector1Pipeline.linearity - INFO - LinearityStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:18,311 - stpipe.Detector1Pipeline.dark_current - INFO - DarkCurrentStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:18,312 - stpipe.Detector1Pipeline.reset - INFO - ResetStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:18,313 - stpipe.Detector1Pipeline.persistence - INFO - PersistenceStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:18,314 - stpipe.Detector1Pipeline.charge_migration - INFO - ChargeMigrationStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:18,316 - stpipe.Detector1Pipeline.jump - INFO - JumpStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:18,317 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - CleanFlickerNoiseStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:18,318 - stpipe.Detector1Pipeline.ramp_fit - INFO - RampFitStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:18,320 - stpipe.Detector1Pipeline.gain_scale - INFO - GainScaleStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:18,443 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline running with args (&#x27;./mir_im_demo_data/Obs001/uncal/jw01040001005_03103_00001_mirimage_uncal.fits&#x27;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:18,463 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline parameters are:
  pre_hooks: []
  post_hooks: []
  output_file: None
  output_dir: ./mir_im_demo_data/Obs001/stage1
  output_ext: .fits
  output_use_model: False
  output_use_index: True
  save_results: True
  skip: False
  suffix: None
  search_output_file: True
  input_dir: &#x27;&#x27;
  save_calibrated_ramp: False
  steps:
    group_scale:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
    dq_init:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
    emicorr:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      algorithm: joint
      nints_to_phase: None
      nbins: None
      scale_reference: True
      onthefly_corr_freq: None
      use_n_cycles: 3
      fit_ints_separately: False
      user_supplied_reffile: None
      save_intermediate_results: False
    saturation:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      n_pix_grow_sat: 1
      use_readpatt: True
    ipc:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
    superbias:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
    refpix:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      odd_even_columns: True
      use_side_ref_pixels: True
      side_smoothing_length: 11
      side_gain: 1.0
      odd_even_rows: True
      ovr_corr_mitigation_ftr: 3.0
      preserve_irs2_refpix: False
      irs2_mean_subtraction: False
      refpix_algorithm: median
      sigreject: 4.0
      gaussmooth: 1.0
      halfwidth: 30
    rscd:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
    firstframe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      bright_use_group1: False
    lastframe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
    linearity:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
    dark_current:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      dark_output: None
      average_dark_current: 1.0
    reset:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
    persistence:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      input_trapsfilled: &#x27;&#x27;
      flag_pers_cutoff: 40.0
      save_persistence: False
      save_trapsfilled: True
      modify_input: False
    charge_migration:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      signal_threshold: 25000.0
    jump:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      rejection_threshold: 4.0
      three_group_rejection_threshold: 6.0
      four_group_rejection_threshold: 5.0
      maximum_cores: half
      flag_4_neighbors: True
      max_jump_to_flag_neighbors: 1000
      min_jump_to_flag_neighbors: 30
      after_jump_flag_dn1: 500
      after_jump_flag_time1: 15
      after_jump_flag_dn2: 1000
      after_jump_flag_time2: 3000
      expand_large_events: False
      min_sat_area: 1
      min_jump_area: 0
      expand_factor: 0
      use_ellipses: False
      sat_required_snowball: False
      min_sat_radius_extend: 0.0
      sat_expand: 0
      edge_size: 0
      mask_snowball_core_next_int: True
      snowball_time_masked_next_int: 4000
      find_showers: True
      max_shower_amplitude: 4.0
      extend_snr_threshold: 3.0
      extend_min_area: 50
      extend_inner_radius: 1
      extend_outer_radius: 2.6
      extend_ellipse_expand_ratio: 1.1
      time_masked_after_shower: 30
      min_diffs_single_pass: 10
      max_extended_radius: 200
      minimum_groups: 3
      minimum_sigclip_groups: 100
      only_use_ints: True
    clean_flicker_noise:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      fit_method: median
      fit_by_channel: False
      background_method: median
      background_box_size: None
      mask_science_regions: False
      apply_flat_field: False
      n_sigma: 2.0
      fit_histogram: False
      single_mask: True
      user_mask: None
      save_mask: False
      save_background: False
      save_noise: False
    ramp_fit:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      algorithm: OLS_C
      int_name: &#x27;&#x27;
      save_opt: False
      opt_name: &#x27;&#x27;
      suppress_one_group: True
      firstgroup: None
      lastgroup: None
      maximum_cores: &#x27;1&#x27;
    gain_scale:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:18,484 - stpipe.Detector1Pipeline - INFO - Prefetching reference files for dataset: &#x27;jw01040001005_03103_00001_mirimage_uncal.fits&#x27; reftypes = [&#x27;dark&#x27;, &#x27;emicorr&#x27;, &#x27;gain&#x27;, &#x27;linearity&#x27;, &#x27;mask&#x27;, &#x27;persat&#x27;, &#x27;readnoise&#x27;, &#x27;reset&#x27;, &#x27;rscd&#x27;, &#x27;saturation&#x27;, &#x27;superbias&#x27;, &#x27;trapdensity&#x27;, &#x27;trappars&#x27;]
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:18,486 - stpipe.Detector1Pipeline - INFO - Prefetch for DARK reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_dark_0113.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:18,487 - stpipe.Detector1Pipeline - INFO - Prefetch for EMICORR reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_emicorr_0003.asdf&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:18,488 - stpipe.Detector1Pipeline - INFO - Prefetch for GAIN reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_gain_0034.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:18,488 - stpipe.Detector1Pipeline - INFO - Prefetch for LINEARITY reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_linearity_0032.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:18,489 - stpipe.Detector1Pipeline - INFO - Prefetch for MASK reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_mask_0036.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:18,489 - stpipe.Detector1Pipeline - INFO - Prefetch for PERSAT reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:18,490 - stpipe.Detector1Pipeline - INFO - Prefetch for READNOISE reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_readnoise_0085.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:18,490 - stpipe.Detector1Pipeline - INFO - Prefetch for RESET reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_reset_0077.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:18,490 - stpipe.Detector1Pipeline - INFO - Prefetch for RSCD reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_rscd_0017.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:18,491 - stpipe.Detector1Pipeline - INFO - Prefetch for SATURATION reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_saturation_0034.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:18,492 - stpipe.Detector1Pipeline - INFO - Prefetch for SUPERBIAS reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:18,492 - stpipe.Detector1Pipeline - INFO - Prefetch for TRAPDENSITY reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:18,492 - stpipe.Detector1Pipeline - INFO - Prefetch for TRAPPARS reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:18,493 - jwst.pipeline.calwebb_detector1 - INFO - Starting calwebb_detector1 ...
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:18,728 - stpipe.Detector1Pipeline.group_scale - INFO - Step group_scale running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00001_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:18,736 - stpipe.Detector1Pipeline.group_scale - INFO - NFRAMES and FRMDIVSR are equal; correction not needed
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:18,737 - stpipe.Detector1Pipeline.group_scale - INFO - Step will be skipped
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:18,739 - stpipe.Detector1Pipeline.group_scale - INFO - Step group_scale done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:18,874 - stpipe.Detector1Pipeline.dq_init - INFO - Step dq_init running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00001_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:18,886 - stpipe.Detector1Pipeline.dq_init - INFO - Using MASK reference file /home/runner/crds/references/jwst/miri/jwst_miri_mask_0036.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:18,931 - stdatamodels.dynamicdq - WARNING - Keyword RESERVED_4 does not correspond to an existing DQ mnemonic, so will be ignored
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:18,941 - stdatamodels.dynamicdq - WARNING - Keyword UNRELIABLE_RESET does not correspond to an existing DQ mnemonic, so will be ignored
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:18,955 - CRDS - INFO -  Calibration SW Found: jwst 1.19.1 (/home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages/jwst-1.19.1.dist-info)
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:19,058 - stpipe.Detector1Pipeline.dq_init - INFO - Step dq_init done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:19,190 - stpipe.Detector1Pipeline.emicorr - INFO - Step emicorr running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00001_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:19,215 - stpipe.Detector1Pipeline.emicorr - INFO - Using CRDS reference file: /home/runner/crds/references/jwst/miri/jwst_miri_emicorr_0003.asdf
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:19,234 - jwst.emicorr.emicorr - INFO - Using reference file to get subarray case.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:19,235 - jwst.emicorr.emicorr - INFO - With configuration: Subarray=FULL, Read_pattern=FASTR1, Detector=MIRIMAGE
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:19,235 - jwst.emicorr.emicorr - INFO - Will correct data for the following 1 frequencies: 
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:19,236 - jwst.emicorr.emicorr - INFO -    [&#x27;Hz10&#x27;]
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:19,236 - jwst.emicorr.emicorr - INFO - Running EMI fit with algorithm = &#x27;joint&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:25,290 - stpipe.Detector1Pipeline.emicorr - INFO - Step emicorr done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:25,436 - stpipe.Detector1Pipeline.saturation - INFO - Step saturation running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00001_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:25,450 - stpipe.Detector1Pipeline.saturation - INFO - Using SATURATION reference file /home/runner/crds/references/jwst/miri/jwst_miri_saturation_0034.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:25,451 - stpipe.Detector1Pipeline.saturation - INFO - Using SUPERBIAS reference file N/A
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:25,473 - stdatamodels.dynamicdq - WARNING - Keyword RESERVED_4 does not correspond to an existing DQ mnemonic, so will be ignored
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:25,482 - stdatamodels.dynamicdq - WARNING - Keyword UNRELIABLE_RESET does not correspond to an existing DQ mnemonic, so will be ignored
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:25,502 - jwst.saturation.saturation - INFO - Using read_pattern with nframes 1
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:25,549 - stcal.saturation.saturation - INFO - Detected 820 saturated pixels
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:25,552 - stcal.saturation.saturation - INFO - Detected 76 A/D floor pixels
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:25,556 - stpipe.Detector1Pipeline.saturation - INFO - Step saturation done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:25,679 - stpipe.Detector1Pipeline.ipc - INFO - Step ipc running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00001_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:25,679 - stpipe.Detector1Pipeline.ipc - INFO - Step skipped.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:25,793 - stpipe.Detector1Pipeline.firstframe - INFO - Step firstframe running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00001_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:25,813 - stpipe.Detector1Pipeline.firstframe - INFO - Step firstframe done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:25,936 - stpipe.Detector1Pipeline.lastframe - INFO - Step lastframe running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00001_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:25,968 - stpipe.Detector1Pipeline.lastframe - INFO - Step lastframe done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:26,095 - stpipe.Detector1Pipeline.reset - INFO - Step reset running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00001_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:26,113 - stpipe.Detector1Pipeline.reset - INFO - Using RESET reference file /home/runner/crds/references/jwst/miri/jwst_miri_reset_0077.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:26,165 - stdatamodels.dynamicdq - WARNING - Keyword RESERVED_4 does not correspond to an existing DQ mnemonic, so will be ignored
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:26,174 - stdatamodels.dynamicdq - WARNING - Keyword UNRELIABLE_RESET does not correspond to an existing DQ mnemonic, so will be ignored
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:26,211 - stpipe.Detector1Pipeline.reset - INFO - Step reset done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:26,344 - stpipe.Detector1Pipeline.linearity - INFO - Step linearity running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00001_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:26,356 - stpipe.Detector1Pipeline.linearity - INFO - Using Linearity reference file /home/runner/crds/references/jwst/miri/jwst_miri_linearity_0032.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:26,380 - stdatamodels.dynamicdq - WARNING - Keyword RESERVED_4 does not correspond to an existing DQ mnemonic, so will be ignored
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:26,390 - stdatamodels.dynamicdq - WARNING - Keyword UNRELIABLE_RESET does not correspond to an existing DQ mnemonic, so will be ignored
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:26,465 - stpipe.Detector1Pipeline.linearity - INFO - Step linearity done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:26,590 - stpipe.Detector1Pipeline.rscd - INFO - Step rscd running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00001_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:26,602 - stpipe.Detector1Pipeline.rscd - INFO - Using RSCD reference file /home/runner/crds/references/jwst/miri/jwst_miri_rscd_0017.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:26,646 - jwst.rscd.rscd_sub - INFO - Number of groups to skip for integrations 2 and higher: 2
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:26,648 - stpipe.Detector1Pipeline.rscd - INFO - Step rscd done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:26,766 - stpipe.Detector1Pipeline.dark_current - INFO - Step dark_current running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00001_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:26,779 - stpipe.Detector1Pipeline.dark_current - INFO - Using DARK reference file /home/runner/crds/references/jwst/miri/jwst_miri_dark_0113.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:27,294 - stpipe.Detector1Pipeline.dark_current - INFO - Using Poisson noise from average dark current 1.0 e-/sec
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:27,295 - stcal.dark_current.dark_sub - INFO - Science data nints=1, ngroups=6, nframes=1, groupgap=0
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:27,295 - stcal.dark_current.dark_sub - INFO - Dark data nints=2, ngroups=360, nframes=1, groupgap=0
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:27,821 - stpipe.Detector1Pipeline.dark_current - INFO - Step dark_current done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:27,947 - stpipe.Detector1Pipeline.refpix - INFO - Step refpix running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00001_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:27,948 - stpipe.Detector1Pipeline.refpix - INFO - Step skipped.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:28,075 - stpipe.Detector1Pipeline.charge_migration - INFO - Step charge_migration running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00001_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:28,076 - stpipe.Detector1Pipeline.charge_migration - INFO - Step skipped.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:28,196 - stpipe.Detector1Pipeline.jump - INFO - Step jump running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00001_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:28,204 - stpipe.Detector1Pipeline.jump - INFO - CR rejection threshold = 4 sigma
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:28,205 - stpipe.Detector1Pipeline.jump - INFO - Maximum cores to use = half
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:28,223 - stpipe.Detector1Pipeline.jump - INFO - Using GAIN reference file: /home/runner/crds/references/jwst/miri/jwst_miri_gain_0034.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:28,226 - stpipe.Detector1Pipeline.jump - INFO - Using READNOISE reference file: /home/runner/crds/references/jwst/miri/jwst_miri_readnoise_0085.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:28,268 - stcal.jump.jump - INFO - Executing two-point difference method
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:28,269 - stcal.jump.jump - INFO - Creating 2 processes for jump detection 
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:29,194 - stcal.jump.jump - INFO - Flagging Showers
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:29,205 - stcal.jump.jump - WARNING - Not enough differences for shower detections
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:29,206 - stcal.jump.jump - INFO - Total showers= 0
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:29,206 - stcal.jump.jump - INFO - Total elapsed time = 0.937429 sec
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:29,213 - stpipe.Detector1Pipeline.jump - INFO - The execution time in seconds: 1.009358
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:29,216 - stpipe.Detector1Pipeline.jump - INFO - Step jump done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:29,341 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - Step clean_flicker_noise running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00001_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:29,342 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - Step skipped.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:29,473 - stpipe.Detector1Pipeline.ramp_fit - INFO - Step ramp_fit running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00001_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:29,509 - jwst.ramp_fitting.ramp_fit_step - INFO - Using READNOISE reference file: /home/runner/crds/references/jwst/miri/jwst_miri_readnoise_0085.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:29,509 - jwst.ramp_fitting.ramp_fit_step - INFO - Using GAIN reference file: /home/runner/crds/references/jwst/miri/jwst_miri_gain_0034.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:29,536 - jwst.ramp_fitting.ramp_fit_step - INFO - Using algorithm = OLS_C
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:29,536 - jwst.ramp_fitting.ramp_fit_step - INFO - Using weighting = optimal
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:29,554 - stcal.ramp_fitting.ols_fit - INFO - Number of multiprocessing slices: 1
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:29,559 - stcal.ramp_fitting.ols_fit - INFO - Number of leading groups that are flagged as DO_NOT_USE: 1
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:29,560 - stcal.ramp_fitting.ols_fit - INFO - MIRI dataset has all pixels in the final group flagged as DO_NOT_USE.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:29,962 - stcal.ramp_fitting.ols_fit - INFO - Ramp Fitting C Time: 0.4004828929901123
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,011 - stpipe.Detector1Pipeline.ramp_fit - INFO - Step ramp_fit done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,151 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale running with args (&lt;ImageModel(1024, 1032) from jw01040001005_03103_00001_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,180 - stpipe.Detector1Pipeline.gain_scale - INFO - GAINFACT not found in gain reference file
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,180 - stpipe.Detector1Pipeline.gain_scale - INFO - Step will be skipped
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,183 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,328 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale running with args (&lt;CubeModel(1, 1024, 1032) from jw01040001005_03103_00001_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,351 - stpipe.Detector1Pipeline.gain_scale - INFO - GAINFACT not found in gain reference file
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,351 - stpipe.Detector1Pipeline.gain_scale - INFO - Step will be skipped
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,353 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,428 - stpipe.Detector1Pipeline - INFO - Saved model in ./mir_im_demo_data/Obs001/stage1/jw01040001005_03103_00001_mirimage_rateints.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,429 - jwst.pipeline.calwebb_detector1 - INFO - ... ending calwebb_detector1
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,429 - jwst.stpipe.core - INFO - Results used CRDS context: jwst_1413.pmap
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,501 - stpipe.Detector1Pipeline - INFO - Saved model in ./mir_im_demo_data/Obs001/stage1/jw01040001005_03103_00001_mirimage_rate.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,501 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,502 - jwst.stpipe.core - INFO - Results used jwst version: 1.19.1
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,526 - stpipe - INFO - PARS-EMICORRSTEP parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-emicorrstep_0003.asdf
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,541 - stpipe - INFO - PARS-DARKCURRENTSTEP parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-darkcurrentstep_0001.asdf
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,552 - stpipe - INFO - PARS-JUMPSTEP parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-jumpstep_0005.asdf
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,564 - stpipe - INFO - PARS-DETECTOR1PIPELINE parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-detector1pipeline_0008.asdf
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,580 - stpipe.Detector1Pipeline - INFO - Detector1Pipeline instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,581 - stpipe.Detector1Pipeline.group_scale - INFO - GroupScaleStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,582 - stpipe.Detector1Pipeline.dq_init - INFO - DQInitStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,583 - stpipe.Detector1Pipeline.emicorr - INFO - EmiCorrStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,584 - stpipe.Detector1Pipeline.saturation - INFO - SaturationStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,585 - stpipe.Detector1Pipeline.ipc - INFO - IPCStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,586 - stpipe.Detector1Pipeline.superbias - INFO - SuperBiasStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,587 - stpipe.Detector1Pipeline.refpix - INFO - RefPixStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,588 - stpipe.Detector1Pipeline.rscd - INFO - RscdStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,588 - stpipe.Detector1Pipeline.firstframe - INFO - FirstFrameStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,590 - stpipe.Detector1Pipeline.lastframe - INFO - LastFrameStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,590 - stpipe.Detector1Pipeline.linearity - INFO - LinearityStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,591 - stpipe.Detector1Pipeline.dark_current - INFO - DarkCurrentStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,592 - stpipe.Detector1Pipeline.reset - INFO - ResetStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,593 - stpipe.Detector1Pipeline.persistence - INFO - PersistenceStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,594 - stpipe.Detector1Pipeline.charge_migration - INFO - ChargeMigrationStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,596 - stpipe.Detector1Pipeline.jump - INFO - JumpStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,597 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - CleanFlickerNoiseStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,598 - stpipe.Detector1Pipeline.ramp_fit - INFO - RampFitStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,599 - stpipe.Detector1Pipeline.gain_scale - INFO - GainScaleStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,736 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline running with args (&#x27;./mir_im_demo_data/Obs001/uncal/jw01040001005_03103_00002_mirimage_uncal.fits&#x27;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,756 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline parameters are:
  pre_hooks: []
  post_hooks: []
  output_file: None
  output_dir: ./mir_im_demo_data/Obs001/stage1
  output_ext: .fits
  output_use_model: False
  output_use_index: True
  save_results: True
  skip: False
  suffix: None
  search_output_file: True
  input_dir: &#x27;&#x27;
  save_calibrated_ramp: False
  steps:
    group_scale:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
    dq_init:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
    emicorr:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      algorithm: joint
      nints_to_phase: None
      nbins: None
      scale_reference: True
      onthefly_corr_freq: None
      use_n_cycles: 3
      fit_ints_separately: False
      user_supplied_reffile: None
      save_intermediate_results: False
    saturation:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      n_pix_grow_sat: 1
      use_readpatt: True
    ipc:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
    superbias:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
    refpix:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      odd_even_columns: True
      use_side_ref_pixels: True
      side_smoothing_length: 11
      side_gain: 1.0
      odd_even_rows: True
      ovr_corr_mitigation_ftr: 3.0
      preserve_irs2_refpix: False
      irs2_mean_subtraction: False
      refpix_algorithm: median
      sigreject: 4.0
      gaussmooth: 1.0
      halfwidth: 30
    rscd:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
    firstframe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      bright_use_group1: False
    lastframe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
    linearity:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
    dark_current:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      dark_output: None
      average_dark_current: 1.0
    reset:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
    persistence:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      input_trapsfilled: &#x27;&#x27;
      flag_pers_cutoff: 40.0
      save_persistence: False
      save_trapsfilled: True
      modify_input: False
    charge_migration:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      signal_threshold: 25000.0
    jump:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      rejection_threshold: 4.0
      three_group_rejection_threshold: 6.0
      four_group_rejection_threshold: 5.0
      maximum_cores: half
      flag_4_neighbors: True
      max_jump_to_flag_neighbors: 1000
      min_jump_to_flag_neighbors: 30
      after_jump_flag_dn1: 500
      after_jump_flag_time1: 15
      after_jump_flag_dn2: 1000
      after_jump_flag_time2: 3000
      expand_large_events: False
      min_sat_area: 1
      min_jump_area: 0
      expand_factor: 0
      use_ellipses: False
      sat_required_snowball: False
      min_sat_radius_extend: 0.0
      sat_expand: 0
      edge_size: 0
      mask_snowball_core_next_int: True
      snowball_time_masked_next_int: 4000
      find_showers: True
      max_shower_amplitude: 4.0
      extend_snr_threshold: 3.0
      extend_min_area: 50
      extend_inner_radius: 1
      extend_outer_radius: 2.6
      extend_ellipse_expand_ratio: 1.1
      time_masked_after_shower: 30
      min_diffs_single_pass: 10
      max_extended_radius: 200
      minimum_groups: 3
      minimum_sigclip_groups: 100
      only_use_ints: True
    clean_flicker_noise:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      fit_method: median
      fit_by_channel: False
      background_method: median
      background_box_size: None
      mask_science_regions: False
      apply_flat_field: False
      n_sigma: 2.0
      fit_histogram: False
      single_mask: True
      user_mask: None
      save_mask: False
      save_background: False
      save_noise: False
    ramp_fit:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      algorithm: OLS_C
      int_name: &#x27;&#x27;
      save_opt: False
      opt_name: &#x27;&#x27;
      suppress_one_group: True
      firstgroup: None
      lastgroup: None
      maximum_cores: &#x27;1&#x27;
    gain_scale:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,777 - stpipe.Detector1Pipeline - INFO - Prefetching reference files for dataset: &#x27;jw01040001005_03103_00002_mirimage_uncal.fits&#x27; reftypes = [&#x27;dark&#x27;, &#x27;emicorr&#x27;, &#x27;gain&#x27;, &#x27;linearity&#x27;, &#x27;mask&#x27;, &#x27;persat&#x27;, &#x27;readnoise&#x27;, &#x27;reset&#x27;, &#x27;rscd&#x27;, &#x27;saturation&#x27;, &#x27;superbias&#x27;, &#x27;trapdensity&#x27;, &#x27;trappars&#x27;]
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,780 - stpipe.Detector1Pipeline - INFO - Prefetch for DARK reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_dark_0113.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,781 - stpipe.Detector1Pipeline - INFO - Prefetch for EMICORR reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_emicorr_0003.asdf&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,781 - stpipe.Detector1Pipeline - INFO - Prefetch for GAIN reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_gain_0034.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,782 - stpipe.Detector1Pipeline - INFO - Prefetch for LINEARITY reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_linearity_0032.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,782 - stpipe.Detector1Pipeline - INFO - Prefetch for MASK reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_mask_0036.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,782 - stpipe.Detector1Pipeline - INFO - Prefetch for PERSAT reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,783 - stpipe.Detector1Pipeline - INFO - Prefetch for READNOISE reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_readnoise_0085.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,783 - stpipe.Detector1Pipeline - INFO - Prefetch for RESET reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_reset_0077.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,784 - stpipe.Detector1Pipeline - INFO - Prefetch for RSCD reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_rscd_0017.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,784 - stpipe.Detector1Pipeline - INFO - Prefetch for SATURATION reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_saturation_0034.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,785 - stpipe.Detector1Pipeline - INFO - Prefetch for SUPERBIAS reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,785 - stpipe.Detector1Pipeline - INFO - Prefetch for TRAPDENSITY reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,786 - stpipe.Detector1Pipeline - INFO - Prefetch for TRAPPARS reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:30,786 - jwst.pipeline.calwebb_detector1 - INFO - Starting calwebb_detector1 ...
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:31,029 - stpipe.Detector1Pipeline.group_scale - INFO - Step group_scale running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00002_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:31,037 - stpipe.Detector1Pipeline.group_scale - INFO - NFRAMES and FRMDIVSR are equal; correction not needed
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:31,037 - stpipe.Detector1Pipeline.group_scale - INFO - Step will be skipped
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:31,039 - stpipe.Detector1Pipeline.group_scale - INFO - Step group_scale done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:31,177 - stpipe.Detector1Pipeline.dq_init - INFO - Step dq_init running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00002_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:31,186 - stpipe.Detector1Pipeline.dq_init - INFO - Using MASK reference file /home/runner/crds/references/jwst/miri/jwst_miri_mask_0036.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:31,228 - stdatamodels.dynamicdq - WARNING - Keyword RESERVED_4 does not correspond to an existing DQ mnemonic, so will be ignored
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:31,239 - stdatamodels.dynamicdq - WARNING - Keyword UNRELIABLE_RESET does not correspond to an existing DQ mnemonic, so will be ignored
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:31,249 - stpipe.Detector1Pipeline.dq_init - INFO - Step dq_init done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:31,388 - stpipe.Detector1Pipeline.emicorr - INFO - Step emicorr running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00002_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:31,413 - stpipe.Detector1Pipeline.emicorr - INFO - Using CRDS reference file: /home/runner/crds/references/jwst/miri/jwst_miri_emicorr_0003.asdf
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:31,432 - jwst.emicorr.emicorr - INFO - Using reference file to get subarray case.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:31,433 - jwst.emicorr.emicorr - INFO - With configuration: Subarray=FULL, Read_pattern=FASTR1, Detector=MIRIMAGE
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:31,433 - jwst.emicorr.emicorr - INFO - Will correct data for the following 1 frequencies: 
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:31,433 - jwst.emicorr.emicorr - INFO -    [&#x27;Hz10&#x27;]
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:31,434 - jwst.emicorr.emicorr - INFO - Running EMI fit with algorithm = &#x27;joint&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:37,460 - stpipe.Detector1Pipeline.emicorr - INFO - Step emicorr done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:37,587 - stpipe.Detector1Pipeline.saturation - INFO - Step saturation running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00002_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:37,598 - stpipe.Detector1Pipeline.saturation - INFO - Using SATURATION reference file /home/runner/crds/references/jwst/miri/jwst_miri_saturation_0034.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:37,598 - stpipe.Detector1Pipeline.saturation - INFO - Using SUPERBIAS reference file N/A
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:37,620 - stdatamodels.dynamicdq - WARNING - Keyword RESERVED_4 does not correspond to an existing DQ mnemonic, so will be ignored
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:37,629 - stdatamodels.dynamicdq - WARNING - Keyword UNRELIABLE_RESET does not correspond to an existing DQ mnemonic, so will be ignored
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:37,643 - jwst.saturation.saturation - INFO - Using read_pattern with nframes 1
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:37,681 - stcal.saturation.saturation - INFO - Detected 845 saturated pixels
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:37,683 - stcal.saturation.saturation - INFO - Detected 80 A/D floor pixels
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:37,688 - stpipe.Detector1Pipeline.saturation - INFO - Step saturation done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:37,829 - stpipe.Detector1Pipeline.ipc - INFO - Step ipc running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00002_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:37,830 - stpipe.Detector1Pipeline.ipc - INFO - Step skipped.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:37,969 - stpipe.Detector1Pipeline.firstframe - INFO - Step firstframe running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00002_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:37,994 - stpipe.Detector1Pipeline.firstframe - INFO - Step firstframe done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:38,134 - stpipe.Detector1Pipeline.lastframe - INFO - Step lastframe running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00002_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:38,154 - stpipe.Detector1Pipeline.lastframe - INFO - Step lastframe done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:38,282 - stpipe.Detector1Pipeline.reset - INFO - Step reset running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00002_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:38,292 - stpipe.Detector1Pipeline.reset - INFO - Using RESET reference file /home/runner/crds/references/jwst/miri/jwst_miri_reset_0077.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:38,341 - stdatamodels.dynamicdq - WARNING - Keyword RESERVED_4 does not correspond to an existing DQ mnemonic, so will be ignored
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:38,350 - stdatamodels.dynamicdq - WARNING - Keyword UNRELIABLE_RESET does not correspond to an existing DQ mnemonic, so will be ignored
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:38,387 - stpipe.Detector1Pipeline.reset - INFO - Step reset done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:38,523 - stpipe.Detector1Pipeline.linearity - INFO - Step linearity running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00002_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:38,533 - stpipe.Detector1Pipeline.linearity - INFO - Using Linearity reference file /home/runner/crds/references/jwst/miri/jwst_miri_linearity_0032.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:38,555 - stdatamodels.dynamicdq - WARNING - Keyword RESERVED_4 does not correspond to an existing DQ mnemonic, so will be ignored
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:38,564 - stdatamodels.dynamicdq - WARNING - Keyword UNRELIABLE_RESET does not correspond to an existing DQ mnemonic, so will be ignored
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:38,636 - stpipe.Detector1Pipeline.linearity - INFO - Step linearity done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:38,757 - stpipe.Detector1Pipeline.rscd - INFO - Step rscd running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00002_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:38,766 - stpipe.Detector1Pipeline.rscd - INFO - Using RSCD reference file /home/runner/crds/references/jwst/miri/jwst_miri_rscd_0017.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:38,808 - jwst.rscd.rscd_sub - INFO - Number of groups to skip for integrations 2 and higher: 2
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:38,810 - stpipe.Detector1Pipeline.rscd - INFO - Step rscd done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:38,930 - stpipe.Detector1Pipeline.dark_current - INFO - Step dark_current running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00002_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:38,939 - stpipe.Detector1Pipeline.dark_current - INFO - Using DARK reference file /home/runner/crds/references/jwst/miri/jwst_miri_dark_0113.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:39,438 - stpipe.Detector1Pipeline.dark_current - INFO - Using Poisson noise from average dark current 1.0 e-/sec
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:39,439 - stcal.dark_current.dark_sub - INFO - Science data nints=1, ngroups=6, nframes=1, groupgap=0
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:39,439 - stcal.dark_current.dark_sub - INFO - Dark data nints=2, ngroups=360, nframes=1, groupgap=0
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:40,001 - stpipe.Detector1Pipeline.dark_current - INFO - Step dark_current done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:40,137 - stpipe.Detector1Pipeline.refpix - INFO - Step refpix running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00002_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:40,137 - stpipe.Detector1Pipeline.refpix - INFO - Step skipped.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:40,285 - stpipe.Detector1Pipeline.charge_migration - INFO - Step charge_migration running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00002_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:40,285 - stpipe.Detector1Pipeline.charge_migration - INFO - Step skipped.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:40,415 - stpipe.Detector1Pipeline.jump - INFO - Step jump running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00002_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:40,423 - stpipe.Detector1Pipeline.jump - INFO - CR rejection threshold = 4 sigma
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:40,423 - stpipe.Detector1Pipeline.jump - INFO - Maximum cores to use = half
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:40,437 - stpipe.Detector1Pipeline.jump - INFO - Using GAIN reference file: /home/runner/crds/references/jwst/miri/jwst_miri_gain_0034.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:40,440 - stpipe.Detector1Pipeline.jump - INFO - Using READNOISE reference file: /home/runner/crds/references/jwst/miri/jwst_miri_readnoise_0085.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:40,481 - stcal.jump.jump - INFO - Executing two-point difference method
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:40,481 - stcal.jump.jump - INFO - Creating 2 processes for jump detection 
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:41,406 - stcal.jump.jump - INFO - Flagging Showers
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:41,419 - stcal.jump.jump - WARNING - Not enough differences for shower detections
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:41,419 - stcal.jump.jump - INFO - Total showers= 0
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:41,420 - stcal.jump.jump - INFO - Total elapsed time = 0.93824 sec
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:41,427 - stpipe.Detector1Pipeline.jump - INFO - The execution time in seconds: 1.003979
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:41,430 - stpipe.Detector1Pipeline.jump - INFO - Step jump done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:41,574 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - Step clean_flicker_noise running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00002_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:41,575 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - Step skipped.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:41,708 - stpipe.Detector1Pipeline.ramp_fit - INFO - Step ramp_fit running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00002_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:41,735 - jwst.ramp_fitting.ramp_fit_step - INFO - Using READNOISE reference file: /home/runner/crds/references/jwst/miri/jwst_miri_readnoise_0085.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:41,736 - jwst.ramp_fitting.ramp_fit_step - INFO - Using GAIN reference file: /home/runner/crds/references/jwst/miri/jwst_miri_gain_0034.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:41,762 - jwst.ramp_fitting.ramp_fit_step - INFO - Using algorithm = OLS_C
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:41,762 - jwst.ramp_fitting.ramp_fit_step - INFO - Using weighting = optimal
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:41,780 - stcal.ramp_fitting.ols_fit - INFO - Number of multiprocessing slices: 1
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:41,785 - stcal.ramp_fitting.ols_fit - INFO - Number of leading groups that are flagged as DO_NOT_USE: 1
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:41,786 - stcal.ramp_fitting.ols_fit - INFO - MIRI dataset has all pixels in the final group flagged as DO_NOT_USE.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,194 - stcal.ramp_fitting.ols_fit - INFO - Ramp Fitting C Time: 0.40610289573669434
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,235 - stpipe.Detector1Pipeline.ramp_fit - INFO - Step ramp_fit done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,358 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale running with args (&lt;ImageModel(1024, 1032) from jw01040001005_03103_00002_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,380 - stpipe.Detector1Pipeline.gain_scale - INFO - GAINFACT not found in gain reference file
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,380 - stpipe.Detector1Pipeline.gain_scale - INFO - Step will be skipped
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,382 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,507 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale running with args (&lt;CubeModel(1, 1024, 1032) from jw01040001005_03103_00002_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,530 - stpipe.Detector1Pipeline.gain_scale - INFO - GAINFACT not found in gain reference file
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,530 - stpipe.Detector1Pipeline.gain_scale - INFO - Step will be skipped
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,532 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,604 - stpipe.Detector1Pipeline - INFO - Saved model in ./mir_im_demo_data/Obs001/stage1/jw01040001005_03103_00002_mirimage_rateints.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,604 - jwst.pipeline.calwebb_detector1 - INFO - ... ending calwebb_detector1
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,608 - jwst.stpipe.core - INFO - Results used CRDS context: jwst_1413.pmap
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,679 - stpipe.Detector1Pipeline - INFO - Saved model in ./mir_im_demo_data/Obs001/stage1/jw01040001005_03103_00002_mirimage_rate.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,680 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,680 - jwst.stpipe.core - INFO - Results used jwst version: 1.19.1
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,705 - stpipe - INFO - PARS-EMICORRSTEP parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-emicorrstep_0003.asdf
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,720 - stpipe - INFO - PARS-DARKCURRENTSTEP parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-darkcurrentstep_0001.asdf
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,731 - stpipe - INFO - PARS-JUMPSTEP parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-jumpstep_0005.asdf
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,743 - stpipe - INFO - PARS-DETECTOR1PIPELINE parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-detector1pipeline_0008.asdf
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,761 - stpipe.Detector1Pipeline - INFO - Detector1Pipeline instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,762 - stpipe.Detector1Pipeline.group_scale - INFO - GroupScaleStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,763 - stpipe.Detector1Pipeline.dq_init - INFO - DQInitStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,764 - stpipe.Detector1Pipeline.emicorr - INFO - EmiCorrStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,765 - stpipe.Detector1Pipeline.saturation - INFO - SaturationStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,766 - stpipe.Detector1Pipeline.ipc - INFO - IPCStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,767 - stpipe.Detector1Pipeline.superbias - INFO - SuperBiasStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,768 - stpipe.Detector1Pipeline.refpix - INFO - RefPixStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,770 - stpipe.Detector1Pipeline.rscd - INFO - RscdStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,770 - stpipe.Detector1Pipeline.firstframe - INFO - FirstFrameStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,771 - stpipe.Detector1Pipeline.lastframe - INFO - LastFrameStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,772 - stpipe.Detector1Pipeline.linearity - INFO - LinearityStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,773 - stpipe.Detector1Pipeline.dark_current - INFO - DarkCurrentStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,774 - stpipe.Detector1Pipeline.reset - INFO - ResetStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,776 - stpipe.Detector1Pipeline.persistence - INFO - PersistenceStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,776 - stpipe.Detector1Pipeline.charge_migration - INFO - ChargeMigrationStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,778 - stpipe.Detector1Pipeline.jump - INFO - JumpStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,780 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - CleanFlickerNoiseStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,781 - stpipe.Detector1Pipeline.ramp_fit - INFO - RampFitStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,782 - stpipe.Detector1Pipeline.gain_scale - INFO - GainScaleStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,916 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline running with args (&#x27;./mir_im_demo_data/Obs001/uncal/jw01040001005_03103_00003_mirimage_uncal.fits&#x27;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,937 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline parameters are:
  pre_hooks: []
  post_hooks: []
  output_file: None
  output_dir: ./mir_im_demo_data/Obs001/stage1
  output_ext: .fits
  output_use_model: False
  output_use_index: True
  save_results: True
  skip: False
  suffix: None
  search_output_file: True
  input_dir: &#x27;&#x27;
  save_calibrated_ramp: False
  steps:
    group_scale:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
    dq_init:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
    emicorr:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      algorithm: joint
      nints_to_phase: None
      nbins: None
      scale_reference: True
      onthefly_corr_freq: None
      use_n_cycles: 3
      fit_ints_separately: False
      user_supplied_reffile: None
      save_intermediate_results: False
    saturation:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      n_pix_grow_sat: 1
      use_readpatt: True
    ipc:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
    superbias:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
    refpix:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      odd_even_columns: True
      use_side_ref_pixels: True
      side_smoothing_length: 11
      side_gain: 1.0
      odd_even_rows: True
      ovr_corr_mitigation_ftr: 3.0
      preserve_irs2_refpix: False
      irs2_mean_subtraction: False
      refpix_algorithm: median
      sigreject: 4.0
      gaussmooth: 1.0
      halfwidth: 30
    rscd:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
    firstframe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      bright_use_group1: False
    lastframe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
    linearity:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
    dark_current:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      dark_output: None
      average_dark_current: 1.0
    reset:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
    persistence:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      input_trapsfilled: &#x27;&#x27;
      flag_pers_cutoff: 40.0
      save_persistence: False
      save_trapsfilled: True
      modify_input: False
    charge_migration:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      signal_threshold: 25000.0
    jump:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      rejection_threshold: 4.0
      three_group_rejection_threshold: 6.0
      four_group_rejection_threshold: 5.0
      maximum_cores: half
      flag_4_neighbors: True
      max_jump_to_flag_neighbors: 1000
      min_jump_to_flag_neighbors: 30
      after_jump_flag_dn1: 500
      after_jump_flag_time1: 15
      after_jump_flag_dn2: 1000
      after_jump_flag_time2: 3000
      expand_large_events: False
      min_sat_area: 1
      min_jump_area: 0
      expand_factor: 0
      use_ellipses: False
      sat_required_snowball: False
      min_sat_radius_extend: 0.0
      sat_expand: 0
      edge_size: 0
      mask_snowball_core_next_int: True
      snowball_time_masked_next_int: 4000
      find_showers: True
      max_shower_amplitude: 4.0
      extend_snr_threshold: 3.0
      extend_min_area: 50
      extend_inner_radius: 1
      extend_outer_radius: 2.6
      extend_ellipse_expand_ratio: 1.1
      time_masked_after_shower: 30
      min_diffs_single_pass: 10
      max_extended_radius: 200
      minimum_groups: 3
      minimum_sigclip_groups: 100
      only_use_ints: True
    clean_flicker_noise:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      fit_method: median
      fit_by_channel: False
      background_method: median
      background_box_size: None
      mask_science_regions: False
      apply_flat_field: False
      n_sigma: 2.0
      fit_histogram: False
      single_mask: True
      user_mask: None
      save_mask: False
      save_background: False
      save_noise: False
    ramp_fit:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      algorithm: OLS_C
      int_name: &#x27;&#x27;
      save_opt: False
      opt_name: &#x27;&#x27;
      suppress_one_group: True
      firstgroup: None
      lastgroup: None
      maximum_cores: &#x27;1&#x27;
    gain_scale:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,958 - stpipe.Detector1Pipeline - INFO - Prefetching reference files for dataset: &#x27;jw01040001005_03103_00003_mirimage_uncal.fits&#x27; reftypes = [&#x27;dark&#x27;, &#x27;emicorr&#x27;, &#x27;gain&#x27;, &#x27;linearity&#x27;, &#x27;mask&#x27;, &#x27;persat&#x27;, &#x27;readnoise&#x27;, &#x27;reset&#x27;, &#x27;rscd&#x27;, &#x27;saturation&#x27;, &#x27;superbias&#x27;, &#x27;trapdensity&#x27;, &#x27;trappars&#x27;]
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,961 - stpipe.Detector1Pipeline - INFO - Prefetch for DARK reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_dark_0113.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,961 - stpipe.Detector1Pipeline - INFO - Prefetch for EMICORR reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_emicorr_0003.asdf&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,962 - stpipe.Detector1Pipeline - INFO - Prefetch for GAIN reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_gain_0034.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,962 - stpipe.Detector1Pipeline - INFO - Prefetch for LINEARITY reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_linearity_0032.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,963 - stpipe.Detector1Pipeline - INFO - Prefetch for MASK reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_mask_0036.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,963 - stpipe.Detector1Pipeline - INFO - Prefetch for PERSAT reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,964 - stpipe.Detector1Pipeline - INFO - Prefetch for READNOISE reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_readnoise_0085.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,964 - stpipe.Detector1Pipeline - INFO - Prefetch for RESET reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_reset_0077.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,965 - stpipe.Detector1Pipeline - INFO - Prefetch for RSCD reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_rscd_0017.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,966 - stpipe.Detector1Pipeline - INFO - Prefetch for SATURATION reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_saturation_0034.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,966 - stpipe.Detector1Pipeline - INFO - Prefetch for SUPERBIAS reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,967 - stpipe.Detector1Pipeline - INFO - Prefetch for TRAPDENSITY reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,967 - stpipe.Detector1Pipeline - INFO - Prefetch for TRAPPARS reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:42,968 - jwst.pipeline.calwebb_detector1 - INFO - Starting calwebb_detector1 ...
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:43,209 - stpipe.Detector1Pipeline.group_scale - INFO - Step group_scale running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00003_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:43,217 - stpipe.Detector1Pipeline.group_scale - INFO - NFRAMES and FRMDIVSR are equal; correction not needed
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:43,217 - stpipe.Detector1Pipeline.group_scale - INFO - Step will be skipped
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:43,219 - stpipe.Detector1Pipeline.group_scale - INFO - Step group_scale done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:43,338 - stpipe.Detector1Pipeline.dq_init - INFO - Step dq_init running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00003_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:43,347 - stpipe.Detector1Pipeline.dq_init - INFO - Using MASK reference file /home/runner/crds/references/jwst/miri/jwst_miri_mask_0036.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:43,397 - stdatamodels.dynamicdq - WARNING - Keyword RESERVED_4 does not correspond to an existing DQ mnemonic, so will be ignored
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:43,408 - stdatamodels.dynamicdq - WARNING - Keyword UNRELIABLE_RESET does not correspond to an existing DQ mnemonic, so will be ignored
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:43,422 - stpipe.Detector1Pipeline.dq_init - INFO - Step dq_init done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:43,562 - stpipe.Detector1Pipeline.emicorr - INFO - Step emicorr running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00003_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:43,582 - stpipe.Detector1Pipeline.emicorr - INFO - Using CRDS reference file: /home/runner/crds/references/jwst/miri/jwst_miri_emicorr_0003.asdf
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:43,600 - jwst.emicorr.emicorr - INFO - Using reference file to get subarray case.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:43,600 - jwst.emicorr.emicorr - INFO - With configuration: Subarray=FULL, Read_pattern=FASTR1, Detector=MIRIMAGE
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:43,600 - jwst.emicorr.emicorr - INFO - Will correct data for the following 1 frequencies: 
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:43,601 - jwst.emicorr.emicorr - INFO -    [&#x27;Hz10&#x27;]
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:43,601 - jwst.emicorr.emicorr - INFO - Running EMI fit with algorithm = &#x27;joint&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:49,637 - stpipe.Detector1Pipeline.emicorr - INFO - Step emicorr done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:49,772 - stpipe.Detector1Pipeline.saturation - INFO - Step saturation running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00003_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:49,782 - stpipe.Detector1Pipeline.saturation - INFO - Using SATURATION reference file /home/runner/crds/references/jwst/miri/jwst_miri_saturation_0034.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:49,783 - stpipe.Detector1Pipeline.saturation - INFO - Using SUPERBIAS reference file N/A
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:49,804 - stdatamodels.dynamicdq - WARNING - Keyword RESERVED_4 does not correspond to an existing DQ mnemonic, so will be ignored
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:49,813 - stdatamodels.dynamicdq - WARNING - Keyword UNRELIABLE_RESET does not correspond to an existing DQ mnemonic, so will be ignored
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:49,834 - jwst.saturation.saturation - INFO - Using read_pattern with nframes 1
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:49,872 - stcal.saturation.saturation - INFO - Detected 801 saturated pixels
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:49,875 - stcal.saturation.saturation - INFO - Detected 59 A/D floor pixels
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:49,879 - stpipe.Detector1Pipeline.saturation - INFO - Step saturation done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:50,012 - stpipe.Detector1Pipeline.ipc - INFO - Step ipc running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00003_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:50,012 - stpipe.Detector1Pipeline.ipc - INFO - Step skipped.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:50,135 - stpipe.Detector1Pipeline.firstframe - INFO - Step firstframe running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00003_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:50,155 - stpipe.Detector1Pipeline.firstframe - INFO - Step firstframe done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:50,279 - stpipe.Detector1Pipeline.lastframe - INFO - Step lastframe running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00003_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:50,305 - stpipe.Detector1Pipeline.lastframe - INFO - Step lastframe done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:50,430 - stpipe.Detector1Pipeline.reset - INFO - Step reset running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00003_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:50,439 - stpipe.Detector1Pipeline.reset - INFO - Using RESET reference file /home/runner/crds/references/jwst/miri/jwst_miri_reset_0077.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:50,490 - stdatamodels.dynamicdq - WARNING - Keyword RESERVED_4 does not correspond to an existing DQ mnemonic, so will be ignored
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:50,499 - stdatamodels.dynamicdq - WARNING - Keyword UNRELIABLE_RESET does not correspond to an existing DQ mnemonic, so will be ignored
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:50,537 - stpipe.Detector1Pipeline.reset - INFO - Step reset done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:50,678 - stpipe.Detector1Pipeline.linearity - INFO - Step linearity running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00003_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:50,688 - stpipe.Detector1Pipeline.linearity - INFO - Using Linearity reference file /home/runner/crds/references/jwst/miri/jwst_miri_linearity_0032.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:50,712 - stdatamodels.dynamicdq - WARNING - Keyword RESERVED_4 does not correspond to an existing DQ mnemonic, so will be ignored
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:50,721 - stdatamodels.dynamicdq - WARNING - Keyword UNRELIABLE_RESET does not correspond to an existing DQ mnemonic, so will be ignored
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:50,798 - stpipe.Detector1Pipeline.linearity - INFO - Step linearity done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:50,929 - stpipe.Detector1Pipeline.rscd - INFO - Step rscd running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00003_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:50,938 - stpipe.Detector1Pipeline.rscd - INFO - Using RSCD reference file /home/runner/crds/references/jwst/miri/jwst_miri_rscd_0017.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:50,981 - jwst.rscd.rscd_sub - INFO - Number of groups to skip for integrations 2 and higher: 2
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:50,984 - stpipe.Detector1Pipeline.rscd - INFO - Step rscd done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:51,132 - stpipe.Detector1Pipeline.dark_current - INFO - Step dark_current running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00003_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:51,142 - stpipe.Detector1Pipeline.dark_current - INFO - Using DARK reference file /home/runner/crds/references/jwst/miri/jwst_miri_dark_0113.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:51,661 - stpipe.Detector1Pipeline.dark_current - INFO - Using Poisson noise from average dark current 1.0 e-/sec
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:51,662 - stcal.dark_current.dark_sub - INFO - Science data nints=1, ngroups=6, nframes=1, groupgap=0
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:51,662 - stcal.dark_current.dark_sub - INFO - Dark data nints=2, ngroups=360, nframes=1, groupgap=0
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:52,213 - stpipe.Detector1Pipeline.dark_current - INFO - Step dark_current done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:52,349 - stpipe.Detector1Pipeline.refpix - INFO - Step refpix running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00003_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:52,350 - stpipe.Detector1Pipeline.refpix - INFO - Step skipped.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:52,468 - stpipe.Detector1Pipeline.charge_migration - INFO - Step charge_migration running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00003_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:52,469 - stpipe.Detector1Pipeline.charge_migration - INFO - Step skipped.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:52,589 - stpipe.Detector1Pipeline.jump - INFO - Step jump running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00003_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:52,596 - stpipe.Detector1Pipeline.jump - INFO - CR rejection threshold = 4 sigma
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:52,597 - stpipe.Detector1Pipeline.jump - INFO - Maximum cores to use = half
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:52,612 - stpipe.Detector1Pipeline.jump - INFO - Using GAIN reference file: /home/runner/crds/references/jwst/miri/jwst_miri_gain_0034.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:52,614 - stpipe.Detector1Pipeline.jump - INFO - Using READNOISE reference file: /home/runner/crds/references/jwst/miri/jwst_miri_readnoise_0085.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:52,656 - stcal.jump.jump - INFO - Executing two-point difference method
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:52,657 - stcal.jump.jump - INFO - Creating 2 processes for jump detection 
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:53,587 - stcal.jump.jump - INFO - Flagging Showers
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:53,602 - stcal.jump.jump - WARNING - Not enough differences for shower detections
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:53,603 - stcal.jump.jump - INFO - Total showers= 0
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:53,603 - stcal.jump.jump - INFO - Total elapsed time = 0.94669 sec
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:53,611 - stpipe.Detector1Pipeline.jump - INFO - The execution time in seconds: 1.014478
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:53,614 - stpipe.Detector1Pipeline.jump - INFO - Step jump done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:53,746 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - Step clean_flicker_noise running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00003_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:53,747 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - Step skipped.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:53,861 - stpipe.Detector1Pipeline.ramp_fit - INFO - Step ramp_fit running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00003_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:53,889 - jwst.ramp_fitting.ramp_fit_step - INFO - Using READNOISE reference file: /home/runner/crds/references/jwst/miri/jwst_miri_readnoise_0085.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:53,889 - jwst.ramp_fitting.ramp_fit_step - INFO - Using GAIN reference file: /home/runner/crds/references/jwst/miri/jwst_miri_gain_0034.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:53,915 - jwst.ramp_fitting.ramp_fit_step - INFO - Using algorithm = OLS_C
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:53,915 - jwst.ramp_fitting.ramp_fit_step - INFO - Using weighting = optimal
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:53,934 - stcal.ramp_fitting.ols_fit - INFO - Number of multiprocessing slices: 1
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:53,939 - stcal.ramp_fitting.ols_fit - INFO - Number of leading groups that are flagged as DO_NOT_USE: 1
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:53,940 - stcal.ramp_fitting.ols_fit - INFO - MIRI dataset has all pixels in the final group flagged as DO_NOT_USE.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:54,347 - stcal.ramp_fitting.ols_fit - INFO - Ramp Fitting C Time: 0.40614819526672363
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:54,389 - stpipe.Detector1Pipeline.ramp_fit - INFO - Step ramp_fit done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:54,521 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale running with args (&lt;ImageModel(1024, 1032) from jw01040001005_03103_00003_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:54,543 - stpipe.Detector1Pipeline.gain_scale - INFO - GAINFACT not found in gain reference file
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:54,543 - stpipe.Detector1Pipeline.gain_scale - INFO - Step will be skipped
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:54,545 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:54,660 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale running with args (&lt;CubeModel(1, 1024, 1032) from jw01040001005_03103_00003_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:54,682 - stpipe.Detector1Pipeline.gain_scale - INFO - GAINFACT not found in gain reference file
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:54,683 - stpipe.Detector1Pipeline.gain_scale - INFO - Step will be skipped
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:54,685 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:54,755 - stpipe.Detector1Pipeline - INFO - Saved model in ./mir_im_demo_data/Obs001/stage1/jw01040001005_03103_00003_mirimage_rateints.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:54,756 - jwst.pipeline.calwebb_detector1 - INFO - ... ending calwebb_detector1
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:54,757 - jwst.stpipe.core - INFO - Results used CRDS context: jwst_1413.pmap
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:54,826 - stpipe.Detector1Pipeline - INFO - Saved model in ./mir_im_demo_data/Obs001/stage1/jw01040001005_03103_00003_mirimage_rate.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:54,827 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:54,828 - jwst.stpipe.core - INFO - Results used jwst version: 1.19.1
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:54,851 - stpipe - INFO - PARS-EMICORRSTEP parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-emicorrstep_0003.asdf
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:54,867 - stpipe - INFO - PARS-DARKCURRENTSTEP parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-darkcurrentstep_0001.asdf
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:54,877 - stpipe - INFO - PARS-JUMPSTEP parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-jumpstep_0005.asdf
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:54,889 - stpipe - INFO - PARS-DETECTOR1PIPELINE parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-detector1pipeline_0008.asdf
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:54,906 - stpipe.Detector1Pipeline - INFO - Detector1Pipeline instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:54,907 - stpipe.Detector1Pipeline.group_scale - INFO - GroupScaleStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:54,908 - stpipe.Detector1Pipeline.dq_init - INFO - DQInitStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:54,909 - stpipe.Detector1Pipeline.emicorr - INFO - EmiCorrStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:54,910 - stpipe.Detector1Pipeline.saturation - INFO - SaturationStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:54,911 - stpipe.Detector1Pipeline.ipc - INFO - IPCStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:54,913 - stpipe.Detector1Pipeline.superbias - INFO - SuperBiasStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:54,914 - stpipe.Detector1Pipeline.refpix - INFO - RefPixStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:54,915 - stpipe.Detector1Pipeline.rscd - INFO - RscdStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:54,916 - stpipe.Detector1Pipeline.firstframe - INFO - FirstFrameStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:54,917 - stpipe.Detector1Pipeline.lastframe - INFO - LastFrameStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:54,918 - stpipe.Detector1Pipeline.linearity - INFO - LinearityStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:54,919 - stpipe.Detector1Pipeline.dark_current - INFO - DarkCurrentStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:54,920 - stpipe.Detector1Pipeline.reset - INFO - ResetStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:54,921 - stpipe.Detector1Pipeline.persistence - INFO - PersistenceStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:54,922 - stpipe.Detector1Pipeline.charge_migration - INFO - ChargeMigrationStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:54,923 - stpipe.Detector1Pipeline.jump - INFO - JumpStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:54,925 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - CleanFlickerNoiseStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:54,926 - stpipe.Detector1Pipeline.ramp_fit - INFO - RampFitStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:54,927 - stpipe.Detector1Pipeline.gain_scale - INFO - GainScaleStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:55,077 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline running with args (&#x27;./mir_im_demo_data/Obs001/uncal/jw01040001005_03103_00004_mirimage_uncal.fits&#x27;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:55,097 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline parameters are:
  pre_hooks: []
  post_hooks: []
  output_file: None
  output_dir: ./mir_im_demo_data/Obs001/stage1
  output_ext: .fits
  output_use_model: False
  output_use_index: True
  save_results: True
  skip: False
  suffix: None
  search_output_file: True
  input_dir: &#x27;&#x27;
  save_calibrated_ramp: False
  steps:
    group_scale:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
    dq_init:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
    emicorr:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      algorithm: joint
      nints_to_phase: None
      nbins: None
      scale_reference: True
      onthefly_corr_freq: None
      use_n_cycles: 3
      fit_ints_separately: False
      user_supplied_reffile: None
      save_intermediate_results: False
    saturation:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      n_pix_grow_sat: 1
      use_readpatt: True
    ipc:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
    superbias:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
    refpix:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      odd_even_columns: True
      use_side_ref_pixels: True
      side_smoothing_length: 11
      side_gain: 1.0
      odd_even_rows: True
      ovr_corr_mitigation_ftr: 3.0
      preserve_irs2_refpix: False
      irs2_mean_subtraction: False
      refpix_algorithm: median
      sigreject: 4.0
      gaussmooth: 1.0
      halfwidth: 30
    rscd:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
    firstframe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      bright_use_group1: False
    lastframe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
    linearity:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
    dark_current:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      dark_output: None
      average_dark_current: 1.0
    reset:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
    persistence:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      input_trapsfilled: &#x27;&#x27;
      flag_pers_cutoff: 40.0
      save_persistence: False
      save_trapsfilled: True
      modify_input: False
    charge_migration:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      signal_threshold: 25000.0
    jump:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      rejection_threshold: 4.0
      three_group_rejection_threshold: 6.0
      four_group_rejection_threshold: 5.0
      maximum_cores: half
      flag_4_neighbors: True
      max_jump_to_flag_neighbors: 1000
      min_jump_to_flag_neighbors: 30
      after_jump_flag_dn1: 500
      after_jump_flag_time1: 15
      after_jump_flag_dn2: 1000
      after_jump_flag_time2: 3000
      expand_large_events: False
      min_sat_area: 1
      min_jump_area: 0
      expand_factor: 0
      use_ellipses: False
      sat_required_snowball: False
      min_sat_radius_extend: 0.0
      sat_expand: 0
      edge_size: 0
      mask_snowball_core_next_int: True
      snowball_time_masked_next_int: 4000
      find_showers: True
      max_shower_amplitude: 4.0
      extend_snr_threshold: 3.0
      extend_min_area: 50
      extend_inner_radius: 1
      extend_outer_radius: 2.6
      extend_ellipse_expand_ratio: 1.1
      time_masked_after_shower: 30
      min_diffs_single_pass: 10
      max_extended_radius: 200
      minimum_groups: 3
      minimum_sigclip_groups: 100
      only_use_ints: True
    clean_flicker_noise:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      fit_method: median
      fit_by_channel: False
      background_method: median
      background_box_size: None
      mask_science_regions: False
      apply_flat_field: False
      n_sigma: 2.0
      fit_histogram: False
      single_mask: True
      user_mask: None
      save_mask: False
      save_background: False
      save_noise: False
    ramp_fit:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      algorithm: OLS_C
      int_name: &#x27;&#x27;
      save_opt: False
      opt_name: &#x27;&#x27;
      suppress_one_group: True
      firstgroup: None
      lastgroup: None
      maximum_cores: &#x27;1&#x27;
    gain_scale:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:55,119 - stpipe.Detector1Pipeline - INFO - Prefetching reference files for dataset: &#x27;jw01040001005_03103_00004_mirimage_uncal.fits&#x27; reftypes = [&#x27;dark&#x27;, &#x27;emicorr&#x27;, &#x27;gain&#x27;, &#x27;linearity&#x27;, &#x27;mask&#x27;, &#x27;persat&#x27;, &#x27;readnoise&#x27;, &#x27;reset&#x27;, &#x27;rscd&#x27;, &#x27;saturation&#x27;, &#x27;superbias&#x27;, &#x27;trapdensity&#x27;, &#x27;trappars&#x27;]
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:55,122 - stpipe.Detector1Pipeline - INFO - Prefetch for DARK reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_dark_0113.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:55,122 - stpipe.Detector1Pipeline - INFO - Prefetch for EMICORR reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_emicorr_0003.asdf&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:55,123 - stpipe.Detector1Pipeline - INFO - Prefetch for GAIN reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_gain_0034.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:55,124 - stpipe.Detector1Pipeline - INFO - Prefetch for LINEARITY reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_linearity_0032.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:55,124 - stpipe.Detector1Pipeline - INFO - Prefetch for MASK reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_mask_0036.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:55,125 - stpipe.Detector1Pipeline - INFO - Prefetch for PERSAT reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:55,125 - stpipe.Detector1Pipeline - INFO - Prefetch for READNOISE reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_readnoise_0085.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:55,125 - stpipe.Detector1Pipeline - INFO - Prefetch for RESET reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_reset_0077.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:55,126 - stpipe.Detector1Pipeline - INFO - Prefetch for RSCD reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_rscd_0017.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:55,127 - stpipe.Detector1Pipeline - INFO - Prefetch for SATURATION reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_saturation_0034.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:55,128 - stpipe.Detector1Pipeline - INFO - Prefetch for SUPERBIAS reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:55,128 - stpipe.Detector1Pipeline - INFO - Prefetch for TRAPDENSITY reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:55,128 - stpipe.Detector1Pipeline - INFO - Prefetch for TRAPPARS reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:55,129 - jwst.pipeline.calwebb_detector1 - INFO - Starting calwebb_detector1 ...
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:55,375 - stpipe.Detector1Pipeline.group_scale - INFO - Step group_scale running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00004_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:55,383 - stpipe.Detector1Pipeline.group_scale - INFO - NFRAMES and FRMDIVSR are equal; correction not needed
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:55,383 - stpipe.Detector1Pipeline.group_scale - INFO - Step will be skipped
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:55,385 - stpipe.Detector1Pipeline.group_scale - INFO - Step group_scale done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:55,532 - stpipe.Detector1Pipeline.dq_init - INFO - Step dq_init running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00004_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:55,541 - stpipe.Detector1Pipeline.dq_init - INFO - Using MASK reference file /home/runner/crds/references/jwst/miri/jwst_miri_mask_0036.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:55,583 - stdatamodels.dynamicdq - WARNING - Keyword RESERVED_4 does not correspond to an existing DQ mnemonic, so will be ignored
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:55,593 - stdatamodels.dynamicdq - WARNING - Keyword UNRELIABLE_RESET does not correspond to an existing DQ mnemonic, so will be ignored
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:55,604 - stpipe.Detector1Pipeline.dq_init - INFO - Step dq_init done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:55,755 - stpipe.Detector1Pipeline.emicorr - INFO - Step emicorr running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00004_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:55,775 - stpipe.Detector1Pipeline.emicorr - INFO - Using CRDS reference file: /home/runner/crds/references/jwst/miri/jwst_miri_emicorr_0003.asdf
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:55,793 - jwst.emicorr.emicorr - INFO - Using reference file to get subarray case.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:55,794 - jwst.emicorr.emicorr - INFO - With configuration: Subarray=FULL, Read_pattern=FASTR1, Detector=MIRIMAGE
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:55,794 - jwst.emicorr.emicorr - INFO - Will correct data for the following 1 frequencies: 
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:55,795 - jwst.emicorr.emicorr - INFO -    [&#x27;Hz10&#x27;]
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:26:55,795 - jwst.emicorr.emicorr - INFO - Running EMI fit with algorithm = &#x27;joint&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:01,859 - stpipe.Detector1Pipeline.emicorr - INFO - Step emicorr done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:02,005 - stpipe.Detector1Pipeline.saturation - INFO - Step saturation running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00004_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:02,016 - stpipe.Detector1Pipeline.saturation - INFO - Using SATURATION reference file /home/runner/crds/references/jwst/miri/jwst_miri_saturation_0034.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:02,017 - stpipe.Detector1Pipeline.saturation - INFO - Using SUPERBIAS reference file N/A
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:02,039 - stdatamodels.dynamicdq - WARNING - Keyword RESERVED_4 does not correspond to an existing DQ mnemonic, so will be ignored
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:02,049 - stdatamodels.dynamicdq - WARNING - Keyword UNRELIABLE_RESET does not correspond to an existing DQ mnemonic, so will be ignored
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:02,068 - jwst.saturation.saturation - INFO - Using read_pattern with nframes 1
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:02,109 - stcal.saturation.saturation - INFO - Detected 845 saturated pixels
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:02,111 - stcal.saturation.saturation - INFO - Detected 60 A/D floor pixels
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:02,116 - stpipe.Detector1Pipeline.saturation - INFO - Step saturation done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:02,264 - stpipe.Detector1Pipeline.ipc - INFO - Step ipc running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00004_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:02,265 - stpipe.Detector1Pipeline.ipc - INFO - Step skipped.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:02,412 - stpipe.Detector1Pipeline.firstframe - INFO - Step firstframe running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00004_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:02,433 - stpipe.Detector1Pipeline.firstframe - INFO - Step firstframe done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:02,584 - stpipe.Detector1Pipeline.lastframe - INFO - Step lastframe running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00004_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:02,610 - stpipe.Detector1Pipeline.lastframe - INFO - Step lastframe done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:02,744 - stpipe.Detector1Pipeline.reset - INFO - Step reset running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00004_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:02,753 - stpipe.Detector1Pipeline.reset - INFO - Using RESET reference file /home/runner/crds/references/jwst/miri/jwst_miri_reset_0077.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:02,804 - stdatamodels.dynamicdq - WARNING - Keyword RESERVED_4 does not correspond to an existing DQ mnemonic, so will be ignored
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:02,814 - stdatamodels.dynamicdq - WARNING - Keyword UNRELIABLE_RESET does not correspond to an existing DQ mnemonic, so will be ignored
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:02,848 - stpipe.Detector1Pipeline.reset - INFO - Step reset done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:03,002 - stpipe.Detector1Pipeline.linearity - INFO - Step linearity running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00004_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:03,012 - stpipe.Detector1Pipeline.linearity - INFO - Using Linearity reference file /home/runner/crds/references/jwst/miri/jwst_miri_linearity_0032.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:03,036 - stdatamodels.dynamicdq - WARNING - Keyword RESERVED_4 does not correspond to an existing DQ mnemonic, so will be ignored
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:03,046 - stdatamodels.dynamicdq - WARNING - Keyword UNRELIABLE_RESET does not correspond to an existing DQ mnemonic, so will be ignored
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:03,120 - stpipe.Detector1Pipeline.linearity - INFO - Step linearity done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:03,259 - stpipe.Detector1Pipeline.rscd - INFO - Step rscd running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00004_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:03,269 - stpipe.Detector1Pipeline.rscd - INFO - Using RSCD reference file /home/runner/crds/references/jwst/miri/jwst_miri_rscd_0017.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:03,312 - jwst.rscd.rscd_sub - INFO - Number of groups to skip for integrations 2 and higher: 2
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:03,315 - stpipe.Detector1Pipeline.rscd - INFO - Step rscd done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:03,453 - stpipe.Detector1Pipeline.dark_current - INFO - Step dark_current running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00004_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:03,462 - stpipe.Detector1Pipeline.dark_current - INFO - Using DARK reference file /home/runner/crds/references/jwst/miri/jwst_miri_dark_0113.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:03,969 - stpipe.Detector1Pipeline.dark_current - INFO - Using Poisson noise from average dark current 1.0 e-/sec
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:03,970 - stcal.dark_current.dark_sub - INFO - Science data nints=1, ngroups=6, nframes=1, groupgap=0
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:03,970 - stcal.dark_current.dark_sub - INFO - Dark data nints=2, ngroups=360, nframes=1, groupgap=0
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:04,562 - stpipe.Detector1Pipeline.dark_current - INFO - Step dark_current done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:04,709 - stpipe.Detector1Pipeline.refpix - INFO - Step refpix running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00004_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:04,710 - stpipe.Detector1Pipeline.refpix - INFO - Step skipped.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:04,844 - stpipe.Detector1Pipeline.charge_migration - INFO - Step charge_migration running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00004_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:04,845 - stpipe.Detector1Pipeline.charge_migration - INFO - Step skipped.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:04,968 - stpipe.Detector1Pipeline.jump - INFO - Step jump running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00004_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:04,975 - stpipe.Detector1Pipeline.jump - INFO - CR rejection threshold = 4 sigma
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:04,976 - stpipe.Detector1Pipeline.jump - INFO - Maximum cores to use = half
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:04,990 - stpipe.Detector1Pipeline.jump - INFO - Using GAIN reference file: /home/runner/crds/references/jwst/miri/jwst_miri_gain_0034.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:04,992 - stpipe.Detector1Pipeline.jump - INFO - Using READNOISE reference file: /home/runner/crds/references/jwst/miri/jwst_miri_readnoise_0085.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:05,033 - stcal.jump.jump - INFO - Executing two-point difference method
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:05,034 - stcal.jump.jump - INFO - Creating 2 processes for jump detection 
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:06,007 - stcal.jump.jump - INFO - Flagging Showers
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:06,018 - stcal.jump.jump - WARNING - Not enough differences for shower detections
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:06,019 - stcal.jump.jump - INFO - Total showers= 0
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:06,020 - stcal.jump.jump - INFO - Total elapsed time = 0.985749 sec
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:06,027 - stpipe.Detector1Pipeline.jump - INFO - The execution time in seconds: 1.051116
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:06,029 - stpipe.Detector1Pipeline.jump - INFO - Step jump done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:06,165 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - Step clean_flicker_noise running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00004_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:06,166 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - Step skipped.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:06,302 - stpipe.Detector1Pipeline.ramp_fit - INFO - Step ramp_fit running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00004_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:06,325 - jwst.ramp_fitting.ramp_fit_step - INFO - Using READNOISE reference file: /home/runner/crds/references/jwst/miri/jwst_miri_readnoise_0085.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:06,325 - jwst.ramp_fitting.ramp_fit_step - INFO - Using GAIN reference file: /home/runner/crds/references/jwst/miri/jwst_miri_gain_0034.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:06,351 - jwst.ramp_fitting.ramp_fit_step - INFO - Using algorithm = OLS_C
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:06,352 - jwst.ramp_fitting.ramp_fit_step - INFO - Using weighting = optimal
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:06,373 - stcal.ramp_fitting.ols_fit - INFO - Number of multiprocessing slices: 1
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:06,378 - stcal.ramp_fitting.ols_fit - INFO - Number of leading groups that are flagged as DO_NOT_USE: 1
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:06,379 - stcal.ramp_fitting.ols_fit - INFO - MIRI dataset has all pixels in the final group flagged as DO_NOT_USE.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:06,785 - stcal.ramp_fitting.ols_fit - INFO - Ramp Fitting C Time: 0.40462183952331543
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:06,828 - stpipe.Detector1Pipeline.ramp_fit - INFO - Step ramp_fit done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:06,982 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale running with args (&lt;ImageModel(1024, 1032) from jw01040001005_03103_00004_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,005 - stpipe.Detector1Pipeline.gain_scale - INFO - GAINFACT not found in gain reference file
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,005 - stpipe.Detector1Pipeline.gain_scale - INFO - Step will be skipped
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,008 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,146 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale running with args (&lt;CubeModel(1, 1024, 1032) from jw01040001005_03103_00004_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,169 - stpipe.Detector1Pipeline.gain_scale - INFO - GAINFACT not found in gain reference file
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,170 - stpipe.Detector1Pipeline.gain_scale - INFO - Step will be skipped
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,172 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,248 - stpipe.Detector1Pipeline - INFO - Saved model in ./mir_im_demo_data/Obs001/stage1/jw01040001005_03103_00004_mirimage_rateints.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,249 - jwst.pipeline.calwebb_detector1 - INFO - ... ending calwebb_detector1
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,250 - jwst.stpipe.core - INFO - Results used CRDS context: jwst_1413.pmap
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,321 - stpipe.Detector1Pipeline - INFO - Saved model in ./mir_im_demo_data/Obs001/stage1/jw01040001005_03103_00004_mirimage_rate.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,321 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,322 - jwst.stpipe.core - INFO - Results used jwst version: 1.19.1
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,345 - stpipe - INFO - PARS-EMICORRSTEP parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-emicorrstep_0003.asdf
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,361 - stpipe - INFO - PARS-DARKCURRENTSTEP parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-darkcurrentstep_0001.asdf
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,372 - stpipe - INFO - PARS-JUMPSTEP parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-jumpstep_0005.asdf
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,384 - stpipe - INFO - PARS-DETECTOR1PIPELINE parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-detector1pipeline_0008.asdf
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,401 - stpipe.Detector1Pipeline - INFO - Detector1Pipeline instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,402 - stpipe.Detector1Pipeline.group_scale - INFO - GroupScaleStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,403 - stpipe.Detector1Pipeline.dq_init - INFO - DQInitStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,404 - stpipe.Detector1Pipeline.emicorr - INFO - EmiCorrStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,405 - stpipe.Detector1Pipeline.saturation - INFO - SaturationStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,406 - stpipe.Detector1Pipeline.ipc - INFO - IPCStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,407 - stpipe.Detector1Pipeline.superbias - INFO - SuperBiasStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,408 - stpipe.Detector1Pipeline.refpix - INFO - RefPixStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,410 - stpipe.Detector1Pipeline.rscd - INFO - RscdStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,411 - stpipe.Detector1Pipeline.firstframe - INFO - FirstFrameStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,412 - stpipe.Detector1Pipeline.lastframe - INFO - LastFrameStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,413 - stpipe.Detector1Pipeline.linearity - INFO - LinearityStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,414 - stpipe.Detector1Pipeline.dark_current - INFO - DarkCurrentStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,415 - stpipe.Detector1Pipeline.reset - INFO - ResetStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,416 - stpipe.Detector1Pipeline.persistence - INFO - PersistenceStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,417 - stpipe.Detector1Pipeline.charge_migration - INFO - ChargeMigrationStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,419 - stpipe.Detector1Pipeline.jump - INFO - JumpStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,420 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - CleanFlickerNoiseStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,421 - stpipe.Detector1Pipeline.ramp_fit - INFO - RampFitStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,422 - stpipe.Detector1Pipeline.gain_scale - INFO - GainScaleStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,568 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline running with args (&#x27;./mir_im_demo_data/Obs001/uncal/jw01040001005_03103_00005_mirimage_uncal.fits&#x27;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,589 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline parameters are:
  pre_hooks: []
  post_hooks: []
  output_file: None
  output_dir: ./mir_im_demo_data/Obs001/stage1
  output_ext: .fits
  output_use_model: False
  output_use_index: True
  save_results: True
  skip: False
  suffix: None
  search_output_file: True
  input_dir: &#x27;&#x27;
  save_calibrated_ramp: False
  steps:
    group_scale:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
    dq_init:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
    emicorr:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      algorithm: joint
      nints_to_phase: None
      nbins: None
      scale_reference: True
      onthefly_corr_freq: None
      use_n_cycles: 3
      fit_ints_separately: False
      user_supplied_reffile: None
      save_intermediate_results: False
    saturation:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      n_pix_grow_sat: 1
      use_readpatt: True
    ipc:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
    superbias:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
    refpix:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      odd_even_columns: True
      use_side_ref_pixels: True
      side_smoothing_length: 11
      side_gain: 1.0
      odd_even_rows: True
      ovr_corr_mitigation_ftr: 3.0
      preserve_irs2_refpix: False
      irs2_mean_subtraction: False
      refpix_algorithm: median
      sigreject: 4.0
      gaussmooth: 1.0
      halfwidth: 30
    rscd:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
    firstframe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      bright_use_group1: False
    lastframe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
    linearity:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
    dark_current:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      dark_output: None
      average_dark_current: 1.0
    reset:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
    persistence:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      input_trapsfilled: &#x27;&#x27;
      flag_pers_cutoff: 40.0
      save_persistence: False
      save_trapsfilled: True
      modify_input: False
    charge_migration:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      signal_threshold: 25000.0
    jump:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      rejection_threshold: 4.0
      three_group_rejection_threshold: 6.0
      four_group_rejection_threshold: 5.0
      maximum_cores: half
      flag_4_neighbors: True
      max_jump_to_flag_neighbors: 1000
      min_jump_to_flag_neighbors: 30
      after_jump_flag_dn1: 500
      after_jump_flag_time1: 15
      after_jump_flag_dn2: 1000
      after_jump_flag_time2: 3000
      expand_large_events: False
      min_sat_area: 1
      min_jump_area: 0
      expand_factor: 0
      use_ellipses: False
      sat_required_snowball: False
      min_sat_radius_extend: 0.0
      sat_expand: 0
      edge_size: 0
      mask_snowball_core_next_int: True
      snowball_time_masked_next_int: 4000
      find_showers: True
      max_shower_amplitude: 4.0
      extend_snr_threshold: 3.0
      extend_min_area: 50
      extend_inner_radius: 1
      extend_outer_radius: 2.6
      extend_ellipse_expand_ratio: 1.1
      time_masked_after_shower: 30
      min_diffs_single_pass: 10
      max_extended_radius: 200
      minimum_groups: 3
      minimum_sigclip_groups: 100
      only_use_ints: True
    clean_flicker_noise:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      fit_method: median
      fit_by_channel: False
      background_method: median
      background_box_size: None
      mask_science_regions: False
      apply_flat_field: False
      n_sigma: 2.0
      fit_histogram: False
      single_mask: True
      user_mask: None
      save_mask: False
      save_background: False
      save_noise: False
    ramp_fit:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      algorithm: OLS_C
      int_name: &#x27;&#x27;
      save_opt: False
      opt_name: &#x27;&#x27;
      suppress_one_group: True
      firstgroup: None
      lastgroup: None
      maximum_cores: &#x27;1&#x27;
    gain_scale:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,611 - stpipe.Detector1Pipeline - INFO - Prefetching reference files for dataset: &#x27;jw01040001005_03103_00005_mirimage_uncal.fits&#x27; reftypes = [&#x27;dark&#x27;, &#x27;emicorr&#x27;, &#x27;gain&#x27;, &#x27;linearity&#x27;, &#x27;mask&#x27;, &#x27;persat&#x27;, &#x27;readnoise&#x27;, &#x27;reset&#x27;, &#x27;rscd&#x27;, &#x27;saturation&#x27;, &#x27;superbias&#x27;, &#x27;trapdensity&#x27;, &#x27;trappars&#x27;]
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,614 - stpipe.Detector1Pipeline - INFO - Prefetch for DARK reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_dark_0113.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,614 - stpipe.Detector1Pipeline - INFO - Prefetch for EMICORR reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_emicorr_0003.asdf&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,615 - stpipe.Detector1Pipeline - INFO - Prefetch for GAIN reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_gain_0034.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,615 - stpipe.Detector1Pipeline - INFO - Prefetch for LINEARITY reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_linearity_0032.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,616 - stpipe.Detector1Pipeline - INFO - Prefetch for MASK reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_mask_0036.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,617 - stpipe.Detector1Pipeline - INFO - Prefetch for PERSAT reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,617 - stpipe.Detector1Pipeline - INFO - Prefetch for READNOISE reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_readnoise_0085.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,618 - stpipe.Detector1Pipeline - INFO - Prefetch for RESET reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_reset_0077.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,618 - stpipe.Detector1Pipeline - INFO - Prefetch for RSCD reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_rscd_0017.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,619 - stpipe.Detector1Pipeline - INFO - Prefetch for SATURATION reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_saturation_0034.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,620 - stpipe.Detector1Pipeline - INFO - Prefetch for SUPERBIAS reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,620 - stpipe.Detector1Pipeline - INFO - Prefetch for TRAPDENSITY reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,620 - stpipe.Detector1Pipeline - INFO - Prefetch for TRAPPARS reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,621 - jwst.pipeline.calwebb_detector1 - INFO - Starting calwebb_detector1 ...
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,877 - stpipe.Detector1Pipeline.group_scale - INFO - Step group_scale running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00005_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,885 - stpipe.Detector1Pipeline.group_scale - INFO - NFRAMES and FRMDIVSR are equal; correction not needed
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,886 - stpipe.Detector1Pipeline.group_scale - INFO - Step will be skipped
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:07,887 - stpipe.Detector1Pipeline.group_scale - INFO - Step group_scale done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:08,034 - stpipe.Detector1Pipeline.dq_init - INFO - Step dq_init running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00005_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:08,044 - stpipe.Detector1Pipeline.dq_init - INFO - Using MASK reference file /home/runner/crds/references/jwst/miri/jwst_miri_mask_0036.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:08,081 - stdatamodels.dynamicdq - WARNING - Keyword RESERVED_4 does not correspond to an existing DQ mnemonic, so will be ignored
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:08,093 - stdatamodels.dynamicdq - WARNING - Keyword UNRELIABLE_RESET does not correspond to an existing DQ mnemonic, so will be ignored
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:08,103 - stpipe.Detector1Pipeline.dq_init - INFO - Step dq_init done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:08,243 - stpipe.Detector1Pipeline.emicorr - INFO - Step emicorr running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00005_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:08,268 - stpipe.Detector1Pipeline.emicorr - INFO - Using CRDS reference file: /home/runner/crds/references/jwst/miri/jwst_miri_emicorr_0003.asdf
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:08,286 - jwst.emicorr.emicorr - INFO - Using reference file to get subarray case.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:08,287 - jwst.emicorr.emicorr - INFO - With configuration: Subarray=FULL, Read_pattern=FASTR1, Detector=MIRIMAGE
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:08,287 - jwst.emicorr.emicorr - INFO - Will correct data for the following 1 frequencies: 
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:08,288 - jwst.emicorr.emicorr - INFO -    [&#x27;Hz10&#x27;]
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:08,288 - jwst.emicorr.emicorr - INFO - Running EMI fit with algorithm = &#x27;joint&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:14,342 - stpipe.Detector1Pipeline.emicorr - INFO - Step emicorr done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:14,477 - stpipe.Detector1Pipeline.saturation - INFO - Step saturation running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00005_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:14,488 - stpipe.Detector1Pipeline.saturation - INFO - Using SATURATION reference file /home/runner/crds/references/jwst/miri/jwst_miri_saturation_0034.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:14,488 - stpipe.Detector1Pipeline.saturation - INFO - Using SUPERBIAS reference file N/A
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:14,511 - stdatamodels.dynamicdq - WARNING - Keyword RESERVED_4 does not correspond to an existing DQ mnemonic, so will be ignored
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:14,520 - stdatamodels.dynamicdq - WARNING - Keyword UNRELIABLE_RESET does not correspond to an existing DQ mnemonic, so will be ignored
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:14,540 - jwst.saturation.saturation - INFO - Using read_pattern with nframes 1
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:14,579 - stcal.saturation.saturation - INFO - Detected 826 saturated pixels
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:14,581 - stcal.saturation.saturation - INFO - Detected 59 A/D floor pixels
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:14,586 - stpipe.Detector1Pipeline.saturation - INFO - Step saturation done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:14,716 - stpipe.Detector1Pipeline.ipc - INFO - Step ipc running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00005_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:14,717 - stpipe.Detector1Pipeline.ipc - INFO - Step skipped.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:14,836 - stpipe.Detector1Pipeline.firstframe - INFO - Step firstframe running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00005_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:14,856 - stpipe.Detector1Pipeline.firstframe - INFO - Step firstframe done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:14,988 - stpipe.Detector1Pipeline.lastframe - INFO - Step lastframe running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00005_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:15,008 - stpipe.Detector1Pipeline.lastframe - INFO - Step lastframe done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:15,149 - stpipe.Detector1Pipeline.reset - INFO - Step reset running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00005_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:15,159 - stpipe.Detector1Pipeline.reset - INFO - Using RESET reference file /home/runner/crds/references/jwst/miri/jwst_miri_reset_0077.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:15,209 - stdatamodels.dynamicdq - WARNING - Keyword RESERVED_4 does not correspond to an existing DQ mnemonic, so will be ignored
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:15,218 - stdatamodels.dynamicdq - WARNING - Keyword UNRELIABLE_RESET does not correspond to an existing DQ mnemonic, so will be ignored
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:15,259 - stpipe.Detector1Pipeline.reset - INFO - Step reset done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:15,398 - stpipe.Detector1Pipeline.linearity - INFO - Step linearity running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00005_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:15,407 - stpipe.Detector1Pipeline.linearity - INFO - Using Linearity reference file /home/runner/crds/references/jwst/miri/jwst_miri_linearity_0032.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:15,430 - stdatamodels.dynamicdq - WARNING - Keyword RESERVED_4 does not correspond to an existing DQ mnemonic, so will be ignored
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:15,439 - stdatamodels.dynamicdq - WARNING - Keyword UNRELIABLE_RESET does not correspond to an existing DQ mnemonic, so will be ignored
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:15,513 - stpipe.Detector1Pipeline.linearity - INFO - Step linearity done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:15,653 - stpipe.Detector1Pipeline.rscd - INFO - Step rscd running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00005_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:15,662 - stpipe.Detector1Pipeline.rscd - INFO - Using RSCD reference file /home/runner/crds/references/jwst/miri/jwst_miri_rscd_0017.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:15,706 - jwst.rscd.rscd_sub - INFO - Number of groups to skip for integrations 2 and higher: 2
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:15,708 - stpipe.Detector1Pipeline.rscd - INFO - Step rscd done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:15,846 - stpipe.Detector1Pipeline.dark_current - INFO - Step dark_current running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00005_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:15,857 - stpipe.Detector1Pipeline.dark_current - INFO - Using DARK reference file /home/runner/crds/references/jwst/miri/jwst_miri_dark_0113.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:16,376 - stpipe.Detector1Pipeline.dark_current - INFO - Using Poisson noise from average dark current 1.0 e-/sec
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:16,377 - stcal.dark_current.dark_sub - INFO - Science data nints=1, ngroups=6, nframes=1, groupgap=0
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:16,378 - stcal.dark_current.dark_sub - INFO - Dark data nints=2, ngroups=360, nframes=1, groupgap=0
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:16,959 - stpipe.Detector1Pipeline.dark_current - INFO - Step dark_current done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:17,087 - stpipe.Detector1Pipeline.refpix - INFO - Step refpix running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00005_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:17,087 - stpipe.Detector1Pipeline.refpix - INFO - Step skipped.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:17,230 - stpipe.Detector1Pipeline.charge_migration - INFO - Step charge_migration running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00005_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:17,231 - stpipe.Detector1Pipeline.charge_migration - INFO - Step skipped.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:17,364 - stpipe.Detector1Pipeline.jump - INFO - Step jump running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00005_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:17,372 - stpipe.Detector1Pipeline.jump - INFO - CR rejection threshold = 4 sigma
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:17,372 - stpipe.Detector1Pipeline.jump - INFO - Maximum cores to use = half
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:17,386 - stpipe.Detector1Pipeline.jump - INFO - Using GAIN reference file: /home/runner/crds/references/jwst/miri/jwst_miri_gain_0034.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:17,389 - stpipe.Detector1Pipeline.jump - INFO - Using READNOISE reference file: /home/runner/crds/references/jwst/miri/jwst_miri_readnoise_0085.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:17,430 - stcal.jump.jump - INFO - Executing two-point difference method
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:17,430 - stcal.jump.jump - INFO - Creating 2 processes for jump detection 
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:18,345 - stcal.jump.jump - INFO - Flagging Showers
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:18,360 - stcal.jump.jump - WARNING - Not enough differences for shower detections
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:18,360 - stcal.jump.jump - INFO - Total showers= 0
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:18,361 - stcal.jump.jump - INFO - Total elapsed time = 0.930243 sec
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:18,368 - stpipe.Detector1Pipeline.jump - INFO - The execution time in seconds: 0.995673
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:18,371 - stpipe.Detector1Pipeline.jump - INFO - Step jump done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:18,504 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - Step clean_flicker_noise running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00005_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:18,505 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - Step skipped.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:18,632 - stpipe.Detector1Pipeline.ramp_fit - INFO - Step ramp_fit running with args (&lt;RampModel(1, 6, 1024, 1032) from jw01040001005_03103_00005_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:18,661 - jwst.ramp_fitting.ramp_fit_step - INFO - Using READNOISE reference file: /home/runner/crds/references/jwst/miri/jwst_miri_readnoise_0085.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:18,661 - jwst.ramp_fitting.ramp_fit_step - INFO - Using GAIN reference file: /home/runner/crds/references/jwst/miri/jwst_miri_gain_0034.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:18,688 - jwst.ramp_fitting.ramp_fit_step - INFO - Using algorithm = OLS_C
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:18,688 - jwst.ramp_fitting.ramp_fit_step - INFO - Using weighting = optimal
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:18,706 - stcal.ramp_fitting.ols_fit - INFO - Number of multiprocessing slices: 1
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:18,711 - stcal.ramp_fitting.ols_fit - INFO - Number of leading groups that are flagged as DO_NOT_USE: 1
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:18,712 - stcal.ramp_fitting.ols_fit - INFO - MIRI dataset has all pixels in the final group flagged as DO_NOT_USE.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:19,114 - stcal.ramp_fitting.ols_fit - INFO - Ramp Fitting C Time: 0.3999764919281006
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:19,157 - stpipe.Detector1Pipeline.ramp_fit - INFO - Step ramp_fit done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:19,303 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale running with args (&lt;ImageModel(1024, 1032) from jw01040001005_03103_00005_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:19,324 - stpipe.Detector1Pipeline.gain_scale - INFO - GAINFACT not found in gain reference file
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:19,325 - stpipe.Detector1Pipeline.gain_scale - INFO - Step will be skipped
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:19,327 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:19,472 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale running with args (&lt;CubeModel(1, 1024, 1032) from jw01040001005_03103_00005_mirimage_uncal.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:19,494 - stpipe.Detector1Pipeline.gain_scale - INFO - GAINFACT not found in gain reference file
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:19,495 - stpipe.Detector1Pipeline.gain_scale - INFO - Step will be skipped
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:19,497 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:19,569 - stpipe.Detector1Pipeline - INFO - Saved model in ./mir_im_demo_data/Obs001/stage1/jw01040001005_03103_00005_mirimage_rateints.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:19,570 - jwst.pipeline.calwebb_detector1 - INFO - ... ending calwebb_detector1
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:19,571 - jwst.stpipe.core - INFO - Results used CRDS context: jwst_1413.pmap
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:19,641 - stpipe.Detector1Pipeline - INFO - Saved model in ./mir_im_demo_data/Obs001/stage1/jw01040001005_03103_00005_mirimage_rate.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:19,641 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:19,642 - jwst.stpipe.core - INFO - Results used jwst version: 1.19.1
</span></code></pre></div></div></div></div><div id="a9x8J8jLX4" class="myst-jp-nb-block relative group/block"><h3 id="calibrating-background-files" class="relative group"><span class="heading-text">Calibrating Background Files</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#calibrating-background-files" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Look for input background files and run calwebb_detector1
pipeline using the call method.</p></div><div id="icF87vrNB9" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Run Detector1 stage of pipeline on any background files

if dodet1bg:
    for uncal in uncal_bgfiles:
        rate_result = Detector1Pipeline.call(uncal, output_dir=det1_bgdir, steps=det1dict, save_results=True,)
else:
    print(&#x27;Skipping Detector1 BG processing&#x27;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="HsiTwk1TljmsGuh7sB01L" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="kHeYAgySL8" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Print out the time benchmark
time1 = time.perf_counter()
print(f&quot;Runtime for Detector1: {time1 - time0:0.0f} seconds&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="pouVLdIvXIxhnC1i2AmUr" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>Runtime for Detector1: 68 seconds
</span></code></pre></div></div></div></div><div id="zEfbaufnRC" class="myst-jp-nb-block relative group/block"><h3 id="exploring-the-data" class="relative group"><span class="heading-text">Exploring the data</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#exploring-the-data" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Identify <code>*_rate.fits</code> files and verify which pipeline steps were run and
which calibration reference files were applied.<br/></p><p>The header contains information about which calibration steps were
completed and skipped and which reference files were used to process the
data.<br/></p></div><div id="LkpgaKlk4s" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">if dodet1:
    # find rate files
    rate_files = sorted(glob.glob(os.path.join(det1_dir, &#x27;*_rate.fits&#x27;)))

    # Read in file as datamodel
    rate_f = datamodels.open(rate_files[0])

    # Check which steps were run
    rate_f.meta.cal_step.instance

    # Check which reference files were used to calibrate the dataset:
    rate_f.meta.ref_file.instance</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="CndvjaWoFgKt39Y3KT6J6" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-text" class="font-mono text-sm whitespace-pre-wrap myst-jp-safe-output-text"><code><span>{&#x27;charge_migration&#x27;: &#x27;SKIPPED&#x27;,
 &#x27;clean_flicker_noise&#x27;: &#x27;SKIPPED&#x27;,
 &#x27;dark_sub&#x27;: &#x27;COMPLETE&#x27;,
 &#x27;dq_init&#x27;: &#x27;COMPLETE&#x27;,
 &#x27;emicorr&#x27;: &#x27;COMPLETE&#x27;,
 &#x27;firstframe&#x27;: &#x27;COMPLETE&#x27;,
 &#x27;gain_scale&#x27;: &#x27;SKIPPED&#x27;,
 &#x27;group_scale&#x27;: &#x27;SKIPPED&#x27;,
 &#x27;ipc&#x27;: &#x27;SKIPPED&#x27;,
 &#x27;jump&#x27;: &#x27;COMPLETE&#x27;,
 &#x27;lastframe&#x27;: &#x27;COMPLETE&#x27;,
 &#x27;linearity&#x27;: &#x27;COMPLETE&#x27;,
 &#x27;ramp_fit&#x27;: &#x27;COMPLETE&#x27;,
 &#x27;refpix&#x27;: &#x27;SKIPPED&#x27;,
 &#x27;reset&#x27;: &#x27;COMPLETE&#x27;,
 &#x27;rscd&#x27;: &#x27;COMPLETE&#x27;,
 &#x27;saturation&#x27;: &#x27;COMPLETE&#x27;}</span></code></div><div data-name="safe-output-text" class="font-mono text-sm whitespace-pre-wrap myst-jp-safe-output-text"><code><span>{&#x27;crds&#x27;: {&#x27;context_used&#x27;: &#x27;jwst_1413.pmap&#x27;, &#x27;sw_version&#x27;: &#x27;13.0.6&#x27;},
 &#x27;dark&#x27;: {&#x27;name&#x27;: &#x27;crds://jwst_miri_dark_0113.fits&#x27;},
 &#x27;emicorr&#x27;: {&#x27;name&#x27;: &#x27;crds://jwst_miri_emicorr_0003.asdf&#x27;},
 &#x27;gain&#x27;: {&#x27;name&#x27;: &#x27;crds://jwst_miri_gain_0034.fits&#x27;},
 &#x27;linearity&#x27;: {&#x27;name&#x27;: &#x27;crds://jwst_miri_linearity_0032.fits&#x27;},
 &#x27;mask&#x27;: {&#x27;name&#x27;: &#x27;crds://jwst_miri_mask_0036.fits&#x27;},
 &#x27;readnoise&#x27;: {&#x27;name&#x27;: &#x27;crds://jwst_miri_readnoise_0085.fits&#x27;},
 &#x27;reset&#x27;: {&#x27;name&#x27;: &#x27;crds://jwst_miri_reset_0077.fits&#x27;},
 &#x27;rscd&#x27;: {&#x27;name&#x27;: &#x27;crds://jwst_miri_rscd_0017.fits&#x27;},
 &#x27;saturation&#x27;: {&#x27;name&#x27;: &#x27;crds://jwst_miri_saturation_0034.fits&#x27;},
 &#x27;superbias&#x27;: {&#x27;name&#x27;: &#x27;N/A&#x27;}}</span></code></div></div></div><div id="SZibtJFvDC" class="myst-jp-nb-block relative group/block"><hr class="py-2 my-5 translate-y-2"/></div><div id="Bo4AzGUSLu" class="myst-jp-nb-block relative group/block"><h2 id="id-6-image2-pipeline" class="relative group"><span class="heading-text">6. Image2 Pipeline</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-6-image2-pipeline" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>In the <a target="_blank" rel="noreferrer" href="https://jwst-pipeline.readthedocs.io/en/latest/jwst/pipeline/calwebb_image2.html" class="link">Image2<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a> stage of the pipeline,
calibrated unrectified data products are created (<code>*_cal.fits</code> or
<code>*_calints.fits</code> files, depending on whether the input files are
<code>*_rate.fits</code> or <code>*_rateints.fits</code>).</p><p>In this pipeline processing stage, the
<a target="_blank" rel="noreferrer" href="https://jwst-pipeline.readthedocs.io/en/latest/jwst/background_step/index.html#background-step" class="link">background subtraction<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a>
step is performed if the data have a dedicated background defined,
the <a target="_blank" rel="noreferrer" href="https://jwst-pipeline.readthedocs.io/en/latest/jwst/assign_wcs/index.html#assign-wcs-step" class="link">world coordinate system (WCS)<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a>
is assigned, the data are <a target="_blank" rel="noreferrer" href="https://jwst-pipeline.readthedocs.io/en/latest/jwst/flatfield/index.html#flatfield-step" class="link">flat fielded<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a>,
and a <a target="_blank" rel="noreferrer" href="https://jwst-pipeline.readthedocs.io/en/latest/jwst/photom/index.html#photom-step" class="link">photometric calibration<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a>
is applied to convert from units of countrate (ADU/s) to surface brightness (MJy/sr).</p><p>The <a target="_blank" rel="noreferrer" href="https://jwst-pipeline.readthedocs.io/en/latest/jwst/resample/index.html#resample-step" class="link">resampling<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a>
step is performed, to create resampled images of each dither position, but this is
only a quick-look product. The resampling step occurs during the <code>Image3</code> stage by
default. While the resampling step is done in the <code>Image2</code> stage, the data quality
from the <code>Image3</code> stage will be better since the bad pixels, which adversely affect
both the centroids and photometry in individual images, will be mostly
removed.</p></div><div id="q9QzknI3W1" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">time_image2 = time.perf_counter()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="_G8boH-GyWMesirydrTmF" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="mM4EorzrDH" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Set up a dictionary to define how the Image2 pipeline should be configured.

# Boilerplate dictionary setup
image2dict = {}
image2dict[&#x27;bkg_subtract&#x27;] = {}
image2dict[&#x27;assign_wcs&#x27;], image2dict[&#x27;flat_field&#x27;] = {}, {}
image2dict[&#x27;photom&#x27;], image2dict[&#x27;resample&#x27;] = {}, {}

# Overrides for whether or not certain steps should be skipped (example)
#image2dict[&#x27;resample&#x27;][&#x27;skip&#x27;] = False

# Change the nsigma used for clipping the input background data
image2dict[&#x27;bkg_subtract&#x27;][&#x27;sigma&#x27;] = 2

# Overrides for various reference files
# Files should be in the base local directory or provide full path
#image2dict[&#x27;assign_wcs&#x27;][&#x27;override_distortion&#x27;] = &#x27;myfile.asdf&#x27;  # Spatial distortion (ASDF file)
#image2dict[&#x27;assign_wcs&#x27;][&#x27;override_filteroffset&#x27;] = &#x27;myfile.asdf&#x27;  # Imager filter offsets (ASDF file)
#image2dict[&#x27;assign_wcs&#x27;][&#x27;override_specwcs&#x27;] = &#x27;myfile.asdf&#x27;  # Spectral distortion (ASDF file)
#image2dict[&#x27;assign_wcs&#x27;][&#x27;override_wavelengthrange&#x27;] = &#x27;myfile.asdf&#x27;  # Wavelength channel mapping (ASDF file)
#image2dict[&#x27;flat_field&#x27;][&#x27;override_flat&#x27;] = &#x27;myfile.fits&#x27;  # Pixel flatfield
#image2dict[&#x27;photom&#x27;][&#x27;override_photom&#x27;] = &#x27;myfile.fits&#x27;  # Photometric calibration array</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="L4hh7WdlqH-Wan64z2o-1" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="B5rnjPdUVR" class="myst-jp-nb-block relative group/block"><p>Define a function to create association files for Stage 2. This will enable use of the pixel-based background subtraction, if chosen above. This requires <em>one</em> input SCI file, but can have multiple input background files.</p><div class="alert alert-block alert-warning">Note that the background will not be applied properly to all files if more than *one* SCI file is included in the association.</div></div><div id="DQObJHLqxG" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">def writel2asn(onescifile, bgfiles, asnfile, prodname):
    # Define the basic association of science files
    asn = afl.asn_from_list([onescifile], rule=DMSLevel2bBase, product_name=prodname)  # Wrap in array since input was single exposure

    # Filter configuration for this sci file
    with fits.open(onescifile) as hdu:
        hdu.verify()
        hdr = hdu[0].header
        this_filter = hdr[&#x27;FILTER&#x27;]

    # If backgrounds were provided, find which are appropriate to this
    # filter and add to association
    for file in bgfiles:
        with fits.open(file) as hdu:
            hdu.verify()
            if (hdu[0].header[&#x27;FILTER&#x27;] == this_filter):
                asn[&#x27;products&#x27;][0][&#x27;members&#x27;].append({&#x27;expname&#x27;: file, &#x27;exptype&#x27;: &#x27;background&#x27;})              

    # Write the association to a json file
    _, serialized = asn.dump()
    with open(asnfile, &#x27;w&#x27;) as outfile:
        outfile.write(serialized)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="iYalwIxVYBsSeQc2rV2Rs" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="VLW4octifE" class="myst-jp-nb-block relative group/block"><p>Find and sort all of the input files, ensuring use of absolute paths</p></div><div id="bahOnvLC7A" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Find all Science rate.fits files
sstring = os.path.join(det1_dir, &#x27;jw*rate.fits&#x27;)  # Use files from the detector1 output folder
rate_files = sorted(glob.glob(sstring))
for ii in range(0, len(rate_files)):
    rate_files[ii] = os.path.abspath(rate_files[ii])
rate_files = np.array(rate_files)

# Background Files
sstring = os.path.join(det1_bgdir, &#x27;jw*rate.fits&#x27;)
bgfiles = sorted(glob.glob(sstring))
for ii in range(0, len(bgfiles)):
    bgfiles[ii] = os.path.abspath(bgfiles[ii])
bgfiles = np.array(bgfiles)

print(f&quot;Found  {str(len(rate_files))} science files&quot;)
print(f&quot;Found  {str(len(bgfiles))} background files&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="3QW78LTOnVLnQNWxqfGpu" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>Found  5 science files
Found  0 background files
</span></code></pre></div></div></div></div><div id="OQFBVz4IiK" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Run Image2 stage of pipeline, specifying the output directory to save *_cal.fits files
# and save_results flag set to True so the rate files are saved
if doimage2:
    for rate in rate_files:
        asnfile = os.path.join(sci_dir, &#x27;l2asn.json&#x27;)
        writel2asn(rate, bgfiles, asnfile, &#x27;Level2&#x27;)
        cal_result = Image2Pipeline.call(asnfile, output_dir=image2_dir, steps=image2dict, save_results=True)
else:
    print(&quot;Skipping Image2 processing.&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="qtCjSuxI9iBX6JwgLe261" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:19,793 - stpipe - INFO - PARS-RESAMPLESTEP parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-resamplestep_0001.asdf
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:19,802 - stpipe - INFO - PARS-IMAGE2PIPELINE parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-image2pipeline_0004.asdf
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:19,812 - stpipe.Image2Pipeline - INFO - Image2Pipeline instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:19,814 - stpipe.Image2Pipeline.bkg_subtract - INFO - BackgroundStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:19,816 - stpipe.Image2Pipeline.assign_wcs - INFO - AssignWcsStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:19,817 - stpipe.Image2Pipeline.flat_field - INFO - FlatFieldStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:19,818 - stpipe.Image2Pipeline.photom - INFO - PhotomStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:19,819 - stpipe.Image2Pipeline.resample - INFO - ResampleStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:19,963 - stpipe.Image2Pipeline - INFO - Step Image2Pipeline running with args (&#x27;./mir_im_demo_data/Obs001/l2asn.json&#x27;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:19,971 - stpipe.Image2Pipeline - INFO - Step Image2Pipeline parameters are:
  pre_hooks: []
  post_hooks: []
  output_file: None
  output_dir: ./mir_im_demo_data/Obs001/stage2
  output_ext: .fits
  output_use_model: False
  output_use_index: True
  save_results: True
  skip: False
  suffix: None
  search_output_file: True
  input_dir: &#x27;&#x27;
  save_bsub: False
  steps:
    bkg_subtract:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      bkg_list: None
      save_combined_background: False
      sigma: 2
      maxiters: None
      soss_source_percentile: 35.0
      soss_bkg_percentile: None
      wfss_mmag_extract: None
      wfss_maxiter: 5
      wfss_rms_stop: 0.0
      wfss_outlier_percent: 1.0
    assign_wcs:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      sip_approx: True
      sip_max_pix_error: 0.01
      sip_degree: None
      sip_max_inv_pix_error: 0.01
      sip_inv_degree: None
      sip_npoints: 12
      slit_y_low: -0.55
      slit_y_high: 0.55
      nrs_ifu_slice_wcs: False
    flat_field:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      save_interpolated_flat: False
      user_supplied_flat: None
      inverse: False
    photom:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      inverse: False
      source_type: None
      mrs_time_correction: True
    resample:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      pixfrac: 1.0
      kernel: square
      fillval: NAN
      weight_type: exptime
      output_shape: None
      crpix: None
      crval: None
      rotation: None
      pixel_scale_ratio: 1.0
      pixel_scale: None
      output_wcs: &#x27;&#x27;
      single: False
      blendheaders: True
      in_memory: True
      enable_ctx: True
      enable_err: True
      report_var: True
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:20,016 - stpipe.Image2Pipeline - INFO - Prefetching reference files for dataset: &#x27;l2asn.json&#x27; reftypes = [&#x27;area&#x27;, &#x27;bkg&#x27;, &#x27;camera&#x27;, &#x27;collimator&#x27;, &#x27;dflat&#x27;, &#x27;disperser&#x27;, &#x27;distortion&#x27;, &#x27;fflat&#x27;, &#x27;filteroffset&#x27;, &#x27;flat&#x27;, &#x27;fore&#x27;, &#x27;fpa&#x27;, &#x27;ifufore&#x27;, &#x27;ifupost&#x27;, &#x27;ifuslicer&#x27;, &#x27;msa&#x27;, &#x27;ote&#x27;, &#x27;photom&#x27;, &#x27;regions&#x27;, &#x27;sflat&#x27;, &#x27;specwcs&#x27;, &#x27;wavelengthrange&#x27;]
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:20,019 - stpipe.Image2Pipeline - INFO - Prefetch for AREA reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_area_0006.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:20,020 - stpipe.Image2Pipeline - INFO - Prefetch for BKG reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:20,020 - stpipe.Image2Pipeline - INFO - Prefetch for CAMERA reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:20,021 - stpipe.Image2Pipeline - INFO - Prefetch for COLLIMATOR reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:20,021 - stpipe.Image2Pipeline - INFO - Prefetch for DFLAT reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:20,021 - stpipe.Image2Pipeline - INFO - Prefetch for DISPERSER reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:20,022 - stpipe.Image2Pipeline - INFO - Prefetch for DISTORTION reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_distortion_0047.asdf&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:20,022 - stpipe.Image2Pipeline - INFO - Prefetch for FFLAT reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:20,023 - stpipe.Image2Pipeline - INFO - Prefetch for FILTEROFFSET reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_filteroffset_0008.asdf&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:20,023 - stpipe.Image2Pipeline - INFO - Prefetch for FLAT reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_flat_0829.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:20,025 - stpipe.Image2Pipeline - INFO - Prefetch for FORE reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:20,025 - stpipe.Image2Pipeline - INFO - Prefetch for FPA reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:20,026 - stpipe.Image2Pipeline - INFO - Prefetch for IFUFORE reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:20,026 - stpipe.Image2Pipeline - INFO - Prefetch for IFUPOST reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:20,027 - stpipe.Image2Pipeline - INFO - Prefetch for IFUSLICER reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:20,027 - stpipe.Image2Pipeline - INFO - Prefetch for MSA reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:20,028 - stpipe.Image2Pipeline - INFO - Prefetch for OTE reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:20,028 - stpipe.Image2Pipeline - INFO - Prefetch for PHOTOM reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_photom_0218.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:20,028 - stpipe.Image2Pipeline - INFO - Prefetch for REGIONS reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:20,030 - stpipe.Image2Pipeline - INFO - Prefetch for SFLAT reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:20,030 - stpipe.Image2Pipeline - INFO - Prefetch for SPECWCS reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:20,031 - stpipe.Image2Pipeline - INFO - Prefetch for WAVELENGTHRANGE reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:20,031 - stpipe.Image2Pipeline - INFO - Starting calwebb_image2 ...
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:20,037 - stpipe.Image2Pipeline - INFO - Processing product /home/runner/work/notebook-ci-testing/notebook-ci-testing/notebooks/MIRI/Imaging/mir_im_demo_data/Obs001/stage1/jw01040001005_03103_00001_mirimage
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:20,038 - stpipe.Image2Pipeline - INFO - Working on input /home/runner/work/notebook-ci-testing/notebook-ci-testing/notebooks/MIRI/Imaging/mir_im_demo_data/Obs001/stage1/jw01040001005_03103_00001_mirimage_rate.fits ...
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:20,216 - stpipe.Image2Pipeline.assign_wcs - INFO - Step assign_wcs running with args (&lt;ImageModel(1024, 1032) from ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00001_mirimage_image2pipeline.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:20,378 - jwst.assign_wcs.miri - INFO - Created a MIRI mir_image pipeline with references {&#x27;distortion&#x27;: &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_distortion_0047.asdf&#x27;, &#x27;filteroffset&#x27;: &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_filteroffset_0008.asdf&#x27;, &#x27;specwcs&#x27;: None, &#x27;regions&#x27;: None, &#x27;wavelengthrange&#x27;: None, &#x27;camera&#x27;: None, &#x27;collimator&#x27;: None, &#x27;disperser&#x27;: None, &#x27;fore&#x27;: None, &#x27;fpa&#x27;: None, &#x27;msa&#x27;: None, &#x27;ote&#x27;: None, &#x27;ifupost&#x27;: None, &#x27;ifufore&#x27;: None, &#x27;ifuslicer&#x27;: None}
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:20,428 - stcal.alignment.util - INFO - Update S_REGION to POLYGON ICRS  80.522590500 -69.442259683 80.541421228 -69.472834075 80.628988786 -69.466212482 80.610814720 -69.435536112
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:20,429 - jwst.assign_wcs.assign_wcs - INFO - assign_wcs updated S_REGION to POLYGON ICRS  80.522590500 -69.442259683 80.541421228 -69.472834075 80.628988786 -69.466212482 80.610814720 -69.435536112
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:20,429 - jwst.assign_wcs.assign_wcs - INFO - COMPLETED assign_wcs
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:20,463 - py.warnings - WARNING - /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages/gwcs/wcs/_wcs.py:1790: LinAlgWarning: Failed to achieve requested SIP approximation accuracy.
  fit_inv_poly_u, fit_inv_poly_v, max_inv_resid = fit_2D_poly(

</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:20,475 - stpipe.Image2Pipeline.assign_wcs - INFO - Step assign_wcs done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:20,612 - stpipe.Image2Pipeline.flat_field - INFO - Step flat_field running with args (&lt;ImageModel(1024, 1032) from ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00001_mirimage_image2pipeline.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:20,655 - stpipe.Image2Pipeline.flat_field - INFO - Using FLAT reference file: /home/runner/crds/references/jwst/miri/jwst_miri_flat_0829.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:20,656 - stpipe.Image2Pipeline.flat_field - INFO - No reference found for type FFLAT
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:20,656 - stpipe.Image2Pipeline.flat_field - INFO - No reference found for type SFLAT
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:20,657 - stpipe.Image2Pipeline.flat_field - INFO - No reference found for type DFLAT
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:20,720 - stpipe.Image2Pipeline.flat_field - INFO - Step flat_field done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:20,852 - stpipe.Image2Pipeline.photom - INFO - Step photom running with args (&lt;ImageModel(1024, 1032) from ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00001_mirimage_image2pipeline.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:20,868 - stpipe.Image2Pipeline.photom - INFO - Using photom reference file: /home/runner/crds/references/jwst/miri/jwst_miri_photom_0218.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:20,869 - stpipe.Image2Pipeline.photom - INFO - Using area reference file: /home/runner/crds/references/jwst/miri/jwst_miri_area_0006.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:20,894 - jwst.photom.photom - INFO - Using instrument: MIRI
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:20,894 - jwst.photom.photom - INFO -  detector: MIRIMAGE
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:20,895 - jwst.photom.photom - INFO -  exp_type: MIR_IMAGE
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:20,895 - jwst.photom.photom - INFO -  filter: F770W
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:20,926 - jwst.photom.photom - INFO - Pixel area map copied to output.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:20,926 - jwst.photom.photom - INFO - Values for PIXAR_SR and PIXAR_A2 obtained from AREA reference file.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:20,928 - jwst.photom.photom - INFO -  subarray: FULL
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:20,928 - jwst.photom.photom - INFO - Applying the time-dependent correction to the PHOTOM value.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:20,933 - jwst.photom.photom - INFO - PHOTMJSR value: 0.257756
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:20,948 - stpipe.Image2Pipeline.photom - INFO - Step photom done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:21,089 - stpipe.Image2Pipeline.resample - INFO - Step resample running with args (&lt;ImageModel(1024, 1032) from ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00001_mirimage_image2pipeline.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:21,120 - jwst.resample.resample_utils - INFO - Pixel scale ratio (pscale_out/pscale_in): 1.0
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:21,120 - jwst.resample.resample_utils - INFO - Computed output pixel scale: 0.11091590874981953 arcsec.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:21,127 - stcal.resample.resample - INFO - Output pixel scale: 0.11091590874981953 arcsec.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:21,128 - stcal.resample.resample - INFO - Driz parameter kernel: square
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:21,128 - stcal.resample.resample - INFO - Driz parameter pixfrac: 1.0
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:21,129 - stcal.resample.resample - INFO - Driz parameter fillval: NAN
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:21,129 - stcal.resample.resample - INFO - Driz parameter weight_type: exptime
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:21,133 - jwst.resample.resample - INFO - Resampling science and variance data
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:21,584 - stcal.resample.resample - INFO - Resampling science and variance data
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:21,828 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --&gt; (1019, 1029)
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:22,023 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --&gt; (1019, 1029)
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:22,219 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --&gt; (1019, 1029)
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:22,515 - stcal.alignment.util - INFO - Update S_REGION to POLYGON ICRS  80.522470432 -69.442135354 80.541076384 -69.472844353 80.629482750 -69.466224295 80.610756230 -69.435524754
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:22,612 - stpipe.Image2Pipeline.resample - INFO - Saved model in ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00001_mirimage_i2d.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:22,613 - stpipe.Image2Pipeline.resample - INFO - Step resample done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:22,614 - stpipe.Image2Pipeline - INFO - Finished processing product /home/runner/work/notebook-ci-testing/notebook-ci-testing/notebooks/MIRI/Imaging/mir_im_demo_data/Obs001/stage1/jw01040001005_03103_00001_mirimage
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:22,614 - stpipe.Image2Pipeline - INFO - ... ending calwebb_image2
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:22,615 - jwst.stpipe.core - INFO - Results used CRDS context: jwst_1413.pmap
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:22,742 - stpipe.Image2Pipeline - INFO - Saved model in ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00001_mirimage_cal.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:22,743 - stpipe.Image2Pipeline - INFO - Step Image2Pipeline done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:22,744 - jwst.stpipe.core - INFO - Results used jwst version: 1.19.1
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:22,802 - stpipe - INFO - PARS-RESAMPLESTEP parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-resamplestep_0001.asdf
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:22,810 - stpipe - INFO - PARS-IMAGE2PIPELINE parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-image2pipeline_0004.asdf
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:22,821 - stpipe.Image2Pipeline - INFO - Image2Pipeline instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:22,822 - stpipe.Image2Pipeline.bkg_subtract - INFO - BackgroundStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:22,823 - stpipe.Image2Pipeline.assign_wcs - INFO - AssignWcsStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:22,825 - stpipe.Image2Pipeline.flat_field - INFO - FlatFieldStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:22,826 - stpipe.Image2Pipeline.photom - INFO - PhotomStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:22,827 - stpipe.Image2Pipeline.resample - INFO - ResampleStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:22,975 - stpipe.Image2Pipeline - INFO - Step Image2Pipeline running with args (&#x27;./mir_im_demo_data/Obs001/l2asn.json&#x27;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:22,983 - stpipe.Image2Pipeline - INFO - Step Image2Pipeline parameters are:
  pre_hooks: []
  post_hooks: []
  output_file: None
  output_dir: ./mir_im_demo_data/Obs001/stage2
  output_ext: .fits
  output_use_model: False
  output_use_index: True
  save_results: True
  skip: False
  suffix: None
  search_output_file: True
  input_dir: &#x27;&#x27;
  save_bsub: False
  steps:
    bkg_subtract:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      bkg_list: None
      save_combined_background: False
      sigma: 2
      maxiters: None
      soss_source_percentile: 35.0
      soss_bkg_percentile: None
      wfss_mmag_extract: None
      wfss_maxiter: 5
      wfss_rms_stop: 0.0
      wfss_outlier_percent: 1.0
    assign_wcs:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      sip_approx: True
      sip_max_pix_error: 0.01
      sip_degree: None
      sip_max_inv_pix_error: 0.01
      sip_inv_degree: None
      sip_npoints: 12
      slit_y_low: -0.55
      slit_y_high: 0.55
      nrs_ifu_slice_wcs: False
    flat_field:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      save_interpolated_flat: False
      user_supplied_flat: None
      inverse: False
    photom:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      inverse: False
      source_type: None
      mrs_time_correction: True
    resample:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      pixfrac: 1.0
      kernel: square
      fillval: NAN
      weight_type: exptime
      output_shape: None
      crpix: None
      crval: None
      rotation: None
      pixel_scale_ratio: 1.0
      pixel_scale: None
      output_wcs: &#x27;&#x27;
      single: False
      blendheaders: True
      in_memory: True
      enable_ctx: True
      enable_err: True
      report_var: True
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:23,028 - stpipe.Image2Pipeline - INFO - Prefetching reference files for dataset: &#x27;l2asn.json&#x27; reftypes = [&#x27;area&#x27;, &#x27;bkg&#x27;, &#x27;camera&#x27;, &#x27;collimator&#x27;, &#x27;dflat&#x27;, &#x27;disperser&#x27;, &#x27;distortion&#x27;, &#x27;fflat&#x27;, &#x27;filteroffset&#x27;, &#x27;flat&#x27;, &#x27;fore&#x27;, &#x27;fpa&#x27;, &#x27;ifufore&#x27;, &#x27;ifupost&#x27;, &#x27;ifuslicer&#x27;, &#x27;msa&#x27;, &#x27;ote&#x27;, &#x27;photom&#x27;, &#x27;regions&#x27;, &#x27;sflat&#x27;, &#x27;specwcs&#x27;, &#x27;wavelengthrange&#x27;]
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:23,031 - stpipe.Image2Pipeline - INFO - Prefetch for AREA reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_area_0006.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:23,032 - stpipe.Image2Pipeline - INFO - Prefetch for BKG reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:23,032 - stpipe.Image2Pipeline - INFO - Prefetch for CAMERA reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:23,033 - stpipe.Image2Pipeline - INFO - Prefetch for COLLIMATOR reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:23,033 - stpipe.Image2Pipeline - INFO - Prefetch for DFLAT reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:23,034 - stpipe.Image2Pipeline - INFO - Prefetch for DISPERSER reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:23,034 - stpipe.Image2Pipeline - INFO - Prefetch for DISTORTION reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_distortion_0047.asdf&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:23,035 - stpipe.Image2Pipeline - INFO - Prefetch for FFLAT reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:23,035 - stpipe.Image2Pipeline - INFO - Prefetch for FILTEROFFSET reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_filteroffset_0008.asdf&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:23,035 - stpipe.Image2Pipeline - INFO - Prefetch for FLAT reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_flat_0829.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:23,036 - stpipe.Image2Pipeline - INFO - Prefetch for FORE reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:23,036 - stpipe.Image2Pipeline - INFO - Prefetch for FPA reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:23,037 - stpipe.Image2Pipeline - INFO - Prefetch for IFUFORE reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:23,037 - stpipe.Image2Pipeline - INFO - Prefetch for IFUPOST reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:23,037 - stpipe.Image2Pipeline - INFO - Prefetch for IFUSLICER reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:23,038 - stpipe.Image2Pipeline - INFO - Prefetch for MSA reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:23,038 - stpipe.Image2Pipeline - INFO - Prefetch for OTE reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:23,039 - stpipe.Image2Pipeline - INFO - Prefetch for PHOTOM reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_photom_0218.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:23,040 - stpipe.Image2Pipeline - INFO - Prefetch for REGIONS reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:23,040 - stpipe.Image2Pipeline - INFO - Prefetch for SFLAT reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:23,040 - stpipe.Image2Pipeline - INFO - Prefetch for SPECWCS reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:23,041 - stpipe.Image2Pipeline - INFO - Prefetch for WAVELENGTHRANGE reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:23,041 - stpipe.Image2Pipeline - INFO - Starting calwebb_image2 ...
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:23,047 - stpipe.Image2Pipeline - INFO - Processing product /home/runner/work/notebook-ci-testing/notebook-ci-testing/notebooks/MIRI/Imaging/mir_im_demo_data/Obs001/stage1/jw01040001005_03103_00002_mirimage
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:23,048 - stpipe.Image2Pipeline - INFO - Working on input /home/runner/work/notebook-ci-testing/notebook-ci-testing/notebooks/MIRI/Imaging/mir_im_demo_data/Obs001/stage1/jw01040001005_03103_00002_mirimage_rate.fits ...
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:23,218 - stpipe.Image2Pipeline.assign_wcs - INFO - Step assign_wcs running with args (&lt;ImageModel(1024, 1032) from ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00002_mirimage_image2pipeline.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:23,317 - jwst.assign_wcs.miri - INFO - Created a MIRI mir_image pipeline with references {&#x27;distortion&#x27;: &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_distortion_0047.asdf&#x27;, &#x27;filteroffset&#x27;: &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_filteroffset_0008.asdf&#x27;, &#x27;specwcs&#x27;: None, &#x27;regions&#x27;: None, &#x27;wavelengthrange&#x27;: None, &#x27;camera&#x27;: None, &#x27;collimator&#x27;: None, &#x27;disperser&#x27;: None, &#x27;fore&#x27;: None, &#x27;fpa&#x27;: None, &#x27;msa&#x27;: None, &#x27;ote&#x27;: None, &#x27;ifupost&#x27;: None, &#x27;ifufore&#x27;: None, &#x27;ifuslicer&#x27;: None}
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:23,369 - stcal.alignment.util - INFO - Update S_REGION to POLYGON ICRS  80.519758777 -69.441179341 80.538584462 -69.471754044 80.626148504 -69.465133897 80.607979465 -69.434457227
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:23,370 - jwst.assign_wcs.assign_wcs - INFO - assign_wcs updated S_REGION to POLYGON ICRS  80.519758777 -69.441179341 80.538584462 -69.471754044 80.626148504 -69.465133897 80.607979465 -69.434457227
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:23,370 - jwst.assign_wcs.assign_wcs - INFO - COMPLETED assign_wcs
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:23,403 - py.warnings - WARNING - /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages/gwcs/wcs/_wcs.py:1790: LinAlgWarning: Failed to achieve requested SIP approximation accuracy.
  fit_inv_poly_u, fit_inv_poly_v, max_inv_resid = fit_2D_poly(

</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:23,415 - stpipe.Image2Pipeline.assign_wcs - INFO - Step assign_wcs done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:23,565 - stpipe.Image2Pipeline.flat_field - INFO - Step flat_field running with args (&lt;ImageModel(1024, 1032) from ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00002_mirimage_image2pipeline.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:23,604 - stpipe.Image2Pipeline.flat_field - INFO - Using FLAT reference file: /home/runner/crds/references/jwst/miri/jwst_miri_flat_0829.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:23,604 - stpipe.Image2Pipeline.flat_field - INFO - No reference found for type FFLAT
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:23,605 - stpipe.Image2Pipeline.flat_field - INFO - No reference found for type SFLAT
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:23,605 - stpipe.Image2Pipeline.flat_field - INFO - No reference found for type DFLAT
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:23,673 - stpipe.Image2Pipeline.flat_field - INFO - Step flat_field done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:23,807 - stpipe.Image2Pipeline.photom - INFO - Step photom running with args (&lt;ImageModel(1024, 1032) from ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00002_mirimage_image2pipeline.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:23,820 - stpipe.Image2Pipeline.photom - INFO - Using photom reference file: /home/runner/crds/references/jwst/miri/jwst_miri_photom_0218.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:23,820 - stpipe.Image2Pipeline.photom - INFO - Using area reference file: /home/runner/crds/references/jwst/miri/jwst_miri_area_0006.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:23,847 - jwst.photom.photom - INFO - Using instrument: MIRI
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:23,847 - jwst.photom.photom - INFO -  detector: MIRIMAGE
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:23,848 - jwst.photom.photom - INFO -  exp_type: MIR_IMAGE
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:23,848 - jwst.photom.photom - INFO -  filter: F770W
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:23,875 - jwst.photom.photom - INFO - Pixel area map copied to output.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:23,875 - jwst.photom.photom - INFO - Values for PIXAR_SR and PIXAR_A2 obtained from AREA reference file.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:23,876 - jwst.photom.photom - INFO -  subarray: FULL
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:23,877 - jwst.photom.photom - INFO - Applying the time-dependent correction to the PHOTOM value.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:23,882 - jwst.photom.photom - INFO - PHOTMJSR value: 0.257756
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:23,898 - stpipe.Image2Pipeline.photom - INFO - Step photom done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:24,035 - stpipe.Image2Pipeline.resample - INFO - Step resample running with args (&lt;ImageModel(1024, 1032) from ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00002_mirimage_image2pipeline.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:24,066 - jwst.resample.resample_utils - INFO - Pixel scale ratio (pscale_out/pscale_in): 1.0
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:24,066 - jwst.resample.resample_utils - INFO - Computed output pixel scale: 0.11091590886942379 arcsec.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:24,073 - stcal.resample.resample - INFO - Output pixel scale: 0.11091590886942379 arcsec.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:24,074 - stcal.resample.resample - INFO - Driz parameter kernel: square
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:24,074 - stcal.resample.resample - INFO - Driz parameter pixfrac: 1.0
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:24,075 - stcal.resample.resample - INFO - Driz parameter fillval: NAN
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:24,075 - stcal.resample.resample - INFO - Driz parameter weight_type: exptime
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:24,079 - jwst.resample.resample - INFO - Resampling science and variance data
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:24,529 - stcal.resample.resample - INFO - Resampling science and variance data
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:24,773 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --&gt; (1019, 1029)
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:24,968 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --&gt; (1019, 1029)
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:25,164 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --&gt; (1019, 1029)
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:25,469 - stcal.alignment.util - INFO - Update S_REGION to POLYGON ICRS  80.519638732 -69.441055010 80.538239633 -69.471764316 80.626642442 -69.465145718 80.607920980 -69.434445868
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:25,569 - stpipe.Image2Pipeline.resample - INFO - Saved model in ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00002_mirimage_i2d.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:25,570 - stpipe.Image2Pipeline.resample - INFO - Step resample done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:25,572 - stpipe.Image2Pipeline - INFO - Finished processing product /home/runner/work/notebook-ci-testing/notebook-ci-testing/notebooks/MIRI/Imaging/mir_im_demo_data/Obs001/stage1/jw01040001005_03103_00002_mirimage
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:25,573 - stpipe.Image2Pipeline - INFO - ... ending calwebb_image2
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:25,574 - jwst.stpipe.core - INFO - Results used CRDS context: jwst_1413.pmap
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:25,704 - stpipe.Image2Pipeline - INFO - Saved model in ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00002_mirimage_cal.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:25,704 - stpipe.Image2Pipeline - INFO - Step Image2Pipeline done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:25,705 - jwst.stpipe.core - INFO - Results used jwst version: 1.19.1
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:25,766 - stpipe - INFO - PARS-RESAMPLESTEP parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-resamplestep_0001.asdf
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:25,776 - stpipe - INFO - PARS-IMAGE2PIPELINE parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-image2pipeline_0004.asdf
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:25,786 - stpipe.Image2Pipeline - INFO - Image2Pipeline instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:25,788 - stpipe.Image2Pipeline.bkg_subtract - INFO - BackgroundStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:25,789 - stpipe.Image2Pipeline.assign_wcs - INFO - AssignWcsStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:25,790 - stpipe.Image2Pipeline.flat_field - INFO - FlatFieldStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:25,791 - stpipe.Image2Pipeline.photom - INFO - PhotomStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:25,792 - stpipe.Image2Pipeline.resample - INFO - ResampleStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:25,928 - stpipe.Image2Pipeline - INFO - Step Image2Pipeline running with args (&#x27;./mir_im_demo_data/Obs001/l2asn.json&#x27;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:25,936 - stpipe.Image2Pipeline - INFO - Step Image2Pipeline parameters are:
  pre_hooks: []
  post_hooks: []
  output_file: None
  output_dir: ./mir_im_demo_data/Obs001/stage2
  output_ext: .fits
  output_use_model: False
  output_use_index: True
  save_results: True
  skip: False
  suffix: None
  search_output_file: True
  input_dir: &#x27;&#x27;
  save_bsub: False
  steps:
    bkg_subtract:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      bkg_list: None
      save_combined_background: False
      sigma: 2
      maxiters: None
      soss_source_percentile: 35.0
      soss_bkg_percentile: None
      wfss_mmag_extract: None
      wfss_maxiter: 5
      wfss_rms_stop: 0.0
      wfss_outlier_percent: 1.0
    assign_wcs:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      sip_approx: True
      sip_max_pix_error: 0.01
      sip_degree: None
      sip_max_inv_pix_error: 0.01
      sip_inv_degree: None
      sip_npoints: 12
      slit_y_low: -0.55
      slit_y_high: 0.55
      nrs_ifu_slice_wcs: False
    flat_field:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      save_interpolated_flat: False
      user_supplied_flat: None
      inverse: False
    photom:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      inverse: False
      source_type: None
      mrs_time_correction: True
    resample:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      pixfrac: 1.0
      kernel: square
      fillval: NAN
      weight_type: exptime
      output_shape: None
      crpix: None
      crval: None
      rotation: None
      pixel_scale_ratio: 1.0
      pixel_scale: None
      output_wcs: &#x27;&#x27;
      single: False
      blendheaders: True
      in_memory: True
      enable_ctx: True
      enable_err: True
      report_var: True
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:25,980 - stpipe.Image2Pipeline - INFO - Prefetching reference files for dataset: &#x27;l2asn.json&#x27; reftypes = [&#x27;area&#x27;, &#x27;bkg&#x27;, &#x27;camera&#x27;, &#x27;collimator&#x27;, &#x27;dflat&#x27;, &#x27;disperser&#x27;, &#x27;distortion&#x27;, &#x27;fflat&#x27;, &#x27;filteroffset&#x27;, &#x27;flat&#x27;, &#x27;fore&#x27;, &#x27;fpa&#x27;, &#x27;ifufore&#x27;, &#x27;ifupost&#x27;, &#x27;ifuslicer&#x27;, &#x27;msa&#x27;, &#x27;ote&#x27;, &#x27;photom&#x27;, &#x27;regions&#x27;, &#x27;sflat&#x27;, &#x27;specwcs&#x27;, &#x27;wavelengthrange&#x27;]
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:25,983 - stpipe.Image2Pipeline - INFO - Prefetch for AREA reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_area_0006.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:25,984 - stpipe.Image2Pipeline - INFO - Prefetch for BKG reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:25,984 - stpipe.Image2Pipeline - INFO - Prefetch for CAMERA reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:25,985 - stpipe.Image2Pipeline - INFO - Prefetch for COLLIMATOR reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:25,985 - stpipe.Image2Pipeline - INFO - Prefetch for DFLAT reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:25,986 - stpipe.Image2Pipeline - INFO - Prefetch for DISPERSER reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:25,986 - stpipe.Image2Pipeline - INFO - Prefetch for DISTORTION reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_distortion_0047.asdf&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:25,987 - stpipe.Image2Pipeline - INFO - Prefetch for FFLAT reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:25,987 - stpipe.Image2Pipeline - INFO - Prefetch for FILTEROFFSET reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_filteroffset_0008.asdf&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:25,988 - stpipe.Image2Pipeline - INFO - Prefetch for FLAT reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_flat_0829.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:25,988 - stpipe.Image2Pipeline - INFO - Prefetch for FORE reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:25,989 - stpipe.Image2Pipeline - INFO - Prefetch for FPA reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:25,989 - stpipe.Image2Pipeline - INFO - Prefetch for IFUFORE reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:25,990 - stpipe.Image2Pipeline - INFO - Prefetch for IFUPOST reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:25,990 - stpipe.Image2Pipeline - INFO - Prefetch for IFUSLICER reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:25,990 - stpipe.Image2Pipeline - INFO - Prefetch for MSA reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:25,991 - stpipe.Image2Pipeline - INFO - Prefetch for OTE reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:25,992 - stpipe.Image2Pipeline - INFO - Prefetch for PHOTOM reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_photom_0218.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:25,992 - stpipe.Image2Pipeline - INFO - Prefetch for REGIONS reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:25,993 - stpipe.Image2Pipeline - INFO - Prefetch for SFLAT reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:25,993 - stpipe.Image2Pipeline - INFO - Prefetch for SPECWCS reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:25,993 - stpipe.Image2Pipeline - INFO - Prefetch for WAVELENGTHRANGE reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:25,994 - stpipe.Image2Pipeline - INFO - Starting calwebb_image2 ...
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:26,000 - stpipe.Image2Pipeline - INFO - Processing product /home/runner/work/notebook-ci-testing/notebook-ci-testing/notebooks/MIRI/Imaging/mir_im_demo_data/Obs001/stage1/jw01040001005_03103_00003_mirimage
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:26,000 - stpipe.Image2Pipeline - INFO - Working on input /home/runner/work/notebook-ci-testing/notebook-ci-testing/notebooks/MIRI/Imaging/mir_im_demo_data/Obs001/stage1/jw01040001005_03103_00003_mirimage_rate.fits ...
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:26,182 - stpipe.Image2Pipeline.assign_wcs - INFO - Step assign_wcs running with args (&lt;ImageModel(1024, 1032) from ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00003_mirimage_image2pipeline.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:26,277 - jwst.assign_wcs.miri - INFO - Created a MIRI mir_image pipeline with references {&#x27;distortion&#x27;: &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_distortion_0047.asdf&#x27;, &#x27;filteroffset&#x27;: &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_filteroffset_0008.asdf&#x27;, &#x27;specwcs&#x27;: None, &#x27;regions&#x27;: None, &#x27;wavelengthrange&#x27;: None, &#x27;camera&#x27;: None, &#x27;collimator&#x27;: None, &#x27;disperser&#x27;: None, &#x27;fore&#x27;: None, &#x27;fpa&#x27;: None, &#x27;msa&#x27;: None, &#x27;ote&#x27;: None, &#x27;ifupost&#x27;: None, &#x27;ifufore&#x27;: None, &#x27;ifuslicer&#x27;: None}
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:26,328 - stcal.alignment.util - INFO - Update S_REGION to POLYGON ICRS  80.517110392 -69.438899816 80.535930509 -69.469474789 80.623486029 -69.462855905 80.605322513 -69.432178972
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:26,329 - jwst.assign_wcs.assign_wcs - INFO - assign_wcs updated S_REGION to POLYGON ICRS  80.517110392 -69.438899816 80.535930509 -69.469474789 80.623486029 -69.462855905 80.605322513 -69.432178972
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:26,329 - jwst.assign_wcs.assign_wcs - INFO - COMPLETED assign_wcs
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:26,362 - py.warnings - WARNING - /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages/gwcs/wcs/_wcs.py:1790: LinAlgWarning: Failed to achieve requested SIP approximation accuracy.
  fit_inv_poly_u, fit_inv_poly_v, max_inv_resid = fit_2D_poly(

</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:26,373 - stpipe.Image2Pipeline.assign_wcs - INFO - Step assign_wcs done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:26,508 - stpipe.Image2Pipeline.flat_field - INFO - Step flat_field running with args (&lt;ImageModel(1024, 1032) from ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00003_mirimage_image2pipeline.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:26,545 - stpipe.Image2Pipeline.flat_field - INFO - Using FLAT reference file: /home/runner/crds/references/jwst/miri/jwst_miri_flat_0829.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:26,545 - stpipe.Image2Pipeline.flat_field - INFO - No reference found for type FFLAT
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:26,546 - stpipe.Image2Pipeline.flat_field - INFO - No reference found for type SFLAT
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:26,546 - stpipe.Image2Pipeline.flat_field - INFO - No reference found for type DFLAT
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:26,609 - stpipe.Image2Pipeline.flat_field - INFO - Step flat_field done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:26,754 - stpipe.Image2Pipeline.photom - INFO - Step photom running with args (&lt;ImageModel(1024, 1032) from ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00003_mirimage_image2pipeline.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:26,766 - stpipe.Image2Pipeline.photom - INFO - Using photom reference file: /home/runner/crds/references/jwst/miri/jwst_miri_photom_0218.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:26,766 - stpipe.Image2Pipeline.photom - INFO - Using area reference file: /home/runner/crds/references/jwst/miri/jwst_miri_area_0006.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:26,793 - jwst.photom.photom - INFO - Using instrument: MIRI
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:26,794 - jwst.photom.photom - INFO -  detector: MIRIMAGE
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:26,794 - jwst.photom.photom - INFO -  exp_type: MIR_IMAGE
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:26,795 - jwst.photom.photom - INFO -  filter: F770W
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:26,822 - jwst.photom.photom - INFO - Pixel area map copied to output.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:26,823 - jwst.photom.photom - INFO - Values for PIXAR_SR and PIXAR_A2 obtained from AREA reference file.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:26,824 - jwst.photom.photom - INFO -  subarray: FULL
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:26,825 - jwst.photom.photom - INFO - Applying the time-dependent correction to the PHOTOM value.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:26,830 - jwst.photom.photom - INFO - PHOTMJSR value: 0.257756
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:26,845 - stpipe.Image2Pipeline.photom - INFO - Step photom done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:26,997 - stpipe.Image2Pipeline.resample - INFO - Step resample running with args (&lt;ImageModel(1024, 1032) from ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00003_mirimage_image2pipeline.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:27,029 - jwst.resample.resample_utils - INFO - Pixel scale ratio (pscale_out/pscale_in): 1.0
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:27,030 - jwst.resample.resample_utils - INFO - Computed output pixel scale: 0.1109159089078686 arcsec.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:27,037 - stcal.resample.resample - INFO - Output pixel scale: 0.1109159089078686 arcsec.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:27,037 - stcal.resample.resample - INFO - Driz parameter kernel: square
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:27,038 - stcal.resample.resample - INFO - Driz parameter pixfrac: 1.0
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:27,038 - stcal.resample.resample - INFO - Driz parameter fillval: NAN
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:27,038 - stcal.resample.resample - INFO - Driz parameter weight_type: exptime
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:27,043 - jwst.resample.resample - INFO - Resampling science and variance data
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:27,495 - stcal.resample.resample - INFO - Resampling science and variance data
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:27,740 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --&gt; (1019, 1029)
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:27,936 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --&gt; (1019, 1029)
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:28,133 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --&gt; (1019, 1029)
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:28,442 - stcal.alignment.util - INFO - Update S_REGION to POLYGON ICRS  80.516990373 -69.438775482 80.535585712 -69.469485056 80.623979910 -69.462867733 80.605264034 -69.432167612
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:28,538 - stpipe.Image2Pipeline.resample - INFO - Saved model in ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00003_mirimage_i2d.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:28,538 - stpipe.Image2Pipeline.resample - INFO - Step resample done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:28,539 - stpipe.Image2Pipeline - INFO - Finished processing product /home/runner/work/notebook-ci-testing/notebook-ci-testing/notebooks/MIRI/Imaging/mir_im_demo_data/Obs001/stage1/jw01040001005_03103_00003_mirimage
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:28,540 - stpipe.Image2Pipeline - INFO - ... ending calwebb_image2
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:28,541 - jwst.stpipe.core - INFO - Results used CRDS context: jwst_1413.pmap
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:28,669 - stpipe.Image2Pipeline - INFO - Saved model in ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00003_mirimage_cal.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:28,670 - stpipe.Image2Pipeline - INFO - Step Image2Pipeline done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:28,670 - jwst.stpipe.core - INFO - Results used jwst version: 1.19.1
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:28,728 - stpipe - INFO - PARS-RESAMPLESTEP parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-resamplestep_0001.asdf
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:28,737 - stpipe - INFO - PARS-IMAGE2PIPELINE parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-image2pipeline_0004.asdf
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:28,747 - stpipe.Image2Pipeline - INFO - Image2Pipeline instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:28,748 - stpipe.Image2Pipeline.bkg_subtract - INFO - BackgroundStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:28,749 - stpipe.Image2Pipeline.assign_wcs - INFO - AssignWcsStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:28,750 - stpipe.Image2Pipeline.flat_field - INFO - FlatFieldStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:28,751 - stpipe.Image2Pipeline.photom - INFO - PhotomStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:28,753 - stpipe.Image2Pipeline.resample - INFO - ResampleStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:28,896 - stpipe.Image2Pipeline - INFO - Step Image2Pipeline running with args (&#x27;./mir_im_demo_data/Obs001/l2asn.json&#x27;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:28,904 - stpipe.Image2Pipeline - INFO - Step Image2Pipeline parameters are:
  pre_hooks: []
  post_hooks: []
  output_file: None
  output_dir: ./mir_im_demo_data/Obs001/stage2
  output_ext: .fits
  output_use_model: False
  output_use_index: True
  save_results: True
  skip: False
  suffix: None
  search_output_file: True
  input_dir: &#x27;&#x27;
  save_bsub: False
  steps:
    bkg_subtract:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      bkg_list: None
      save_combined_background: False
      sigma: 2
      maxiters: None
      soss_source_percentile: 35.0
      soss_bkg_percentile: None
      wfss_mmag_extract: None
      wfss_maxiter: 5
      wfss_rms_stop: 0.0
      wfss_outlier_percent: 1.0
    assign_wcs:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      sip_approx: True
      sip_max_pix_error: 0.01
      sip_degree: None
      sip_max_inv_pix_error: 0.01
      sip_inv_degree: None
      sip_npoints: 12
      slit_y_low: -0.55
      slit_y_high: 0.55
      nrs_ifu_slice_wcs: False
    flat_field:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      save_interpolated_flat: False
      user_supplied_flat: None
      inverse: False
    photom:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      inverse: False
      source_type: None
      mrs_time_correction: True
    resample:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      pixfrac: 1.0
      kernel: square
      fillval: NAN
      weight_type: exptime
      output_shape: None
      crpix: None
      crval: None
      rotation: None
      pixel_scale_ratio: 1.0
      pixel_scale: None
      output_wcs: &#x27;&#x27;
      single: False
      blendheaders: True
      in_memory: True
      enable_ctx: True
      enable_err: True
      report_var: True
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:28,951 - stpipe.Image2Pipeline - INFO - Prefetching reference files for dataset: &#x27;l2asn.json&#x27; reftypes = [&#x27;area&#x27;, &#x27;bkg&#x27;, &#x27;camera&#x27;, &#x27;collimator&#x27;, &#x27;dflat&#x27;, &#x27;disperser&#x27;, &#x27;distortion&#x27;, &#x27;fflat&#x27;, &#x27;filteroffset&#x27;, &#x27;flat&#x27;, &#x27;fore&#x27;, &#x27;fpa&#x27;, &#x27;ifufore&#x27;, &#x27;ifupost&#x27;, &#x27;ifuslicer&#x27;, &#x27;msa&#x27;, &#x27;ote&#x27;, &#x27;photom&#x27;, &#x27;regions&#x27;, &#x27;sflat&#x27;, &#x27;specwcs&#x27;, &#x27;wavelengthrange&#x27;]
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:28,954 - stpipe.Image2Pipeline - INFO - Prefetch for AREA reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_area_0006.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:28,954 - stpipe.Image2Pipeline - INFO - Prefetch for BKG reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:28,955 - stpipe.Image2Pipeline - INFO - Prefetch for CAMERA reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:28,955 - stpipe.Image2Pipeline - INFO - Prefetch for COLLIMATOR reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:28,956 - stpipe.Image2Pipeline - INFO - Prefetch for DFLAT reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:28,956 - stpipe.Image2Pipeline - INFO - Prefetch for DISPERSER reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:28,956 - stpipe.Image2Pipeline - INFO - Prefetch for DISTORTION reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_distortion_0047.asdf&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:28,957 - stpipe.Image2Pipeline - INFO - Prefetch for FFLAT reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:28,958 - stpipe.Image2Pipeline - INFO - Prefetch for FILTEROFFSET reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_filteroffset_0008.asdf&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:28,958 - stpipe.Image2Pipeline - INFO - Prefetch for FLAT reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_flat_0829.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:28,959 - stpipe.Image2Pipeline - INFO - Prefetch for FORE reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:28,959 - stpipe.Image2Pipeline - INFO - Prefetch for FPA reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:28,959 - stpipe.Image2Pipeline - INFO - Prefetch for IFUFORE reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:28,960 - stpipe.Image2Pipeline - INFO - Prefetch for IFUPOST reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:28,960 - stpipe.Image2Pipeline - INFO - Prefetch for IFUSLICER reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:28,960 - stpipe.Image2Pipeline - INFO - Prefetch for MSA reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:28,961 - stpipe.Image2Pipeline - INFO - Prefetch for OTE reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:28,961 - stpipe.Image2Pipeline - INFO - Prefetch for PHOTOM reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_photom_0218.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:28,962 - stpipe.Image2Pipeline - INFO - Prefetch for REGIONS reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:28,962 - stpipe.Image2Pipeline - INFO - Prefetch for SFLAT reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:28,963 - stpipe.Image2Pipeline - INFO - Prefetch for SPECWCS reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:28,963 - stpipe.Image2Pipeline - INFO - Prefetch for WAVELENGTHRANGE reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:28,964 - stpipe.Image2Pipeline - INFO - Starting calwebb_image2 ...
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:28,970 - stpipe.Image2Pipeline - INFO - Processing product /home/runner/work/notebook-ci-testing/notebook-ci-testing/notebooks/MIRI/Imaging/mir_im_demo_data/Obs001/stage1/jw01040001005_03103_00004_mirimage
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:28,970 - stpipe.Image2Pipeline - INFO - Working on input /home/runner/work/notebook-ci-testing/notebook-ci-testing/notebooks/MIRI/Imaging/mir_im_demo_data/Obs001/stage1/jw01040001005_03103_00004_mirimage_rate.fits ...
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:29,161 - stpipe.Image2Pipeline.assign_wcs - INFO - Step assign_wcs running with args (&lt;ImageModel(1024, 1032) from ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00004_mirimage_image2pipeline.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:29,259 - jwst.assign_wcs.miri - INFO - Created a MIRI mir_image pipeline with references {&#x27;distortion&#x27;: &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_distortion_0047.asdf&#x27;, &#x27;filteroffset&#x27;: &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_filteroffset_0008.asdf&#x27;, &#x27;specwcs&#x27;: None, &#x27;regions&#x27;: None, &#x27;wavelengthrange&#x27;: None, &#x27;camera&#x27;: None, &#x27;collimator&#x27;: None, &#x27;disperser&#x27;: None, &#x27;fore&#x27;: None, &#x27;fpa&#x27;: None, &#x27;msa&#x27;: None, &#x27;ote&#x27;: None, &#x27;ifupost&#x27;: None, &#x27;ifufore&#x27;: None, &#x27;ifuslicer&#x27;: None}
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:29,308 - stcal.alignment.util - INFO - Update S_REGION to POLYGON ICRS  80.513336007 -69.439821548 80.532151500 -69.470396933 80.619711963 -69.463779964 80.601553105 -69.433102634
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:29,309 - jwst.assign_wcs.assign_wcs - INFO - assign_wcs updated S_REGION to POLYGON ICRS  80.513336007 -69.439821548 80.532151500 -69.470396933 80.619711963 -69.463779964 80.601553105 -69.433102634
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:29,310 - jwst.assign_wcs.assign_wcs - INFO - COMPLETED assign_wcs
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:29,342 - py.warnings - WARNING - /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages/gwcs/wcs/_wcs.py:1790: LinAlgWarning: Failed to achieve requested SIP approximation accuracy.
  fit_inv_poly_u, fit_inv_poly_v, max_inv_resid = fit_2D_poly(

</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:29,353 - stpipe.Image2Pipeline.assign_wcs - INFO - Step assign_wcs done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:29,496 - stpipe.Image2Pipeline.flat_field - INFO - Step flat_field running with args (&lt;ImageModel(1024, 1032) from ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00004_mirimage_image2pipeline.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:29,533 - stpipe.Image2Pipeline.flat_field - INFO - Using FLAT reference file: /home/runner/crds/references/jwst/miri/jwst_miri_flat_0829.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:29,534 - stpipe.Image2Pipeline.flat_field - INFO - No reference found for type FFLAT
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:29,534 - stpipe.Image2Pipeline.flat_field - INFO - No reference found for type SFLAT
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:29,535 - stpipe.Image2Pipeline.flat_field - INFO - No reference found for type DFLAT
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:29,599 - stpipe.Image2Pipeline.flat_field - INFO - Step flat_field done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:29,753 - stpipe.Image2Pipeline.photom - INFO - Step photom running with args (&lt;ImageModel(1024, 1032) from ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00004_mirimage_image2pipeline.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:29,766 - stpipe.Image2Pipeline.photom - INFO - Using photom reference file: /home/runner/crds/references/jwst/miri/jwst_miri_photom_0218.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:29,766 - stpipe.Image2Pipeline.photom - INFO - Using area reference file: /home/runner/crds/references/jwst/miri/jwst_miri_area_0006.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:29,795 - jwst.photom.photom - INFO - Using instrument: MIRI
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:29,796 - jwst.photom.photom - INFO -  detector: MIRIMAGE
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:29,796 - jwst.photom.photom - INFO -  exp_type: MIR_IMAGE
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:29,797 - jwst.photom.photom - INFO -  filter: F770W
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:29,825 - jwst.photom.photom - INFO - Pixel area map copied to output.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:29,825 - jwst.photom.photom - INFO - Values for PIXAR_SR and PIXAR_A2 obtained from AREA reference file.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:29,827 - jwst.photom.photom - INFO -  subarray: FULL
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:29,827 - jwst.photom.photom - INFO - Applying the time-dependent correction to the PHOTOM value.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:29,832 - jwst.photom.photom - INFO - PHOTMJSR value: 0.257756
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:29,848 - stpipe.Image2Pipeline.photom - INFO - Step photom done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:29,998 - stpipe.Image2Pipeline.resample - INFO - Step resample running with args (&lt;ImageModel(1024, 1032) from ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00004_mirimage_image2pipeline.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:30,029 - jwst.resample.resample_utils - INFO - Pixel scale ratio (pscale_out/pscale_in): 1.0
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:30,029 - jwst.resample.resample_utils - INFO - Computed output pixel scale: 0.11091590921335213 arcsec.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:30,036 - stcal.resample.resample - INFO - Output pixel scale: 0.11091590921335213 arcsec.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:30,037 - stcal.resample.resample - INFO - Driz parameter kernel: square
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:30,037 - stcal.resample.resample - INFO - Driz parameter pixfrac: 1.0
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:30,038 - stcal.resample.resample - INFO - Driz parameter fillval: NAN
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:30,038 - stcal.resample.resample - INFO - Driz parameter weight_type: exptime
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:30,042 - jwst.resample.resample - INFO - Resampling science and variance data
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:30,490 - stcal.resample.resample - INFO - Resampling science and variance data
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:30,734 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --&gt; (1019, 1029)
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:30,933 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --&gt; (1019, 1029)
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:31,134 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --&gt; (1019, 1029)
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:31,438 - stcal.alignment.util - INFO - Update S_REGION to POLYGON ICRS  80.513216006 -69.439697212 80.531806689 -69.470407193 80.620205865 -69.463791803 80.601494627 -69.433091273
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:31,536 - stpipe.Image2Pipeline.resample - INFO - Saved model in ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00004_mirimage_i2d.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:31,537 - stpipe.Image2Pipeline.resample - INFO - Step resample done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:31,539 - stpipe.Image2Pipeline - INFO - Finished processing product /home/runner/work/notebook-ci-testing/notebook-ci-testing/notebooks/MIRI/Imaging/mir_im_demo_data/Obs001/stage1/jw01040001005_03103_00004_mirimage
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:31,540 - stpipe.Image2Pipeline - INFO - ... ending calwebb_image2
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:31,541 - jwst.stpipe.core - INFO - Results used CRDS context: jwst_1413.pmap
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:31,668 - stpipe.Image2Pipeline - INFO - Saved model in ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00004_mirimage_cal.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:31,669 - stpipe.Image2Pipeline - INFO - Step Image2Pipeline done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:31,669 - jwst.stpipe.core - INFO - Results used jwst version: 1.19.1
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:31,727 - stpipe - INFO - PARS-RESAMPLESTEP parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-resamplestep_0001.asdf
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:31,735 - stpipe - INFO - PARS-IMAGE2PIPELINE parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-image2pipeline_0004.asdf
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:31,746 - stpipe.Image2Pipeline - INFO - Image2Pipeline instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:31,747 - stpipe.Image2Pipeline.bkg_subtract - INFO - BackgroundStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:31,749 - stpipe.Image2Pipeline.assign_wcs - INFO - AssignWcsStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:31,750 - stpipe.Image2Pipeline.flat_field - INFO - FlatFieldStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:31,751 - stpipe.Image2Pipeline.photom - INFO - PhotomStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:31,752 - stpipe.Image2Pipeline.resample - INFO - ResampleStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:31,899 - stpipe.Image2Pipeline - INFO - Step Image2Pipeline running with args (&#x27;./mir_im_demo_data/Obs001/l2asn.json&#x27;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:31,907 - stpipe.Image2Pipeline - INFO - Step Image2Pipeline parameters are:
  pre_hooks: []
  post_hooks: []
  output_file: None
  output_dir: ./mir_im_demo_data/Obs001/stage2
  output_ext: .fits
  output_use_model: False
  output_use_index: True
  save_results: True
  skip: False
  suffix: None
  search_output_file: True
  input_dir: &#x27;&#x27;
  save_bsub: False
  steps:
    bkg_subtract:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      bkg_list: None
      save_combined_background: False
      sigma: 2
      maxiters: None
      soss_source_percentile: 35.0
      soss_bkg_percentile: None
      wfss_mmag_extract: None
      wfss_maxiter: 5
      wfss_rms_stop: 0.0
      wfss_outlier_percent: 1.0
    assign_wcs:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      sip_approx: True
      sip_max_pix_error: 0.01
      sip_degree: None
      sip_max_inv_pix_error: 0.01
      sip_inv_degree: None
      sip_npoints: 12
      slit_y_low: -0.55
      slit_y_high: 0.55
      nrs_ifu_slice_wcs: False
    flat_field:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      save_interpolated_flat: False
      user_supplied_flat: None
      inverse: False
    photom:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      inverse: False
      source_type: None
      mrs_time_correction: True
    resample:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      pixfrac: 1.0
      kernel: square
      fillval: NAN
      weight_type: exptime
      output_shape: None
      crpix: None
      crval: None
      rotation: None
      pixel_scale_ratio: 1.0
      pixel_scale: None
      output_wcs: &#x27;&#x27;
      single: False
      blendheaders: True
      in_memory: True
      enable_ctx: True
      enable_err: True
      report_var: True
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:31,954 - stpipe.Image2Pipeline - INFO - Prefetching reference files for dataset: &#x27;l2asn.json&#x27; reftypes = [&#x27;area&#x27;, &#x27;bkg&#x27;, &#x27;camera&#x27;, &#x27;collimator&#x27;, &#x27;dflat&#x27;, &#x27;disperser&#x27;, &#x27;distortion&#x27;, &#x27;fflat&#x27;, &#x27;filteroffset&#x27;, &#x27;flat&#x27;, &#x27;fore&#x27;, &#x27;fpa&#x27;, &#x27;ifufore&#x27;, &#x27;ifupost&#x27;, &#x27;ifuslicer&#x27;, &#x27;msa&#x27;, &#x27;ote&#x27;, &#x27;photom&#x27;, &#x27;regions&#x27;, &#x27;sflat&#x27;, &#x27;specwcs&#x27;, &#x27;wavelengthrange&#x27;]
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:31,957 - stpipe.Image2Pipeline - INFO - Prefetch for AREA reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_area_0006.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:31,957 - stpipe.Image2Pipeline - INFO - Prefetch for BKG reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:31,958 - stpipe.Image2Pipeline - INFO - Prefetch for CAMERA reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:31,958 - stpipe.Image2Pipeline - INFO - Prefetch for COLLIMATOR reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:31,959 - stpipe.Image2Pipeline - INFO - Prefetch for DFLAT reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:31,959 - stpipe.Image2Pipeline - INFO - Prefetch for DISPERSER reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:31,960 - stpipe.Image2Pipeline - INFO - Prefetch for DISTORTION reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_distortion_0047.asdf&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:31,960 - stpipe.Image2Pipeline - INFO - Prefetch for FFLAT reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:31,961 - stpipe.Image2Pipeline - INFO - Prefetch for FILTEROFFSET reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_filteroffset_0008.asdf&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:31,961 - stpipe.Image2Pipeline - INFO - Prefetch for FLAT reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_flat_0829.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:31,961 - stpipe.Image2Pipeline - INFO - Prefetch for FORE reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:31,962 - stpipe.Image2Pipeline - INFO - Prefetch for FPA reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:31,962 - stpipe.Image2Pipeline - INFO - Prefetch for IFUFORE reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:31,963 - stpipe.Image2Pipeline - INFO - Prefetch for IFUPOST reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:31,964 - stpipe.Image2Pipeline - INFO - Prefetch for IFUSLICER reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:31,965 - stpipe.Image2Pipeline - INFO - Prefetch for MSA reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:31,965 - stpipe.Image2Pipeline - INFO - Prefetch for OTE reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:31,966 - stpipe.Image2Pipeline - INFO - Prefetch for PHOTOM reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_photom_0218.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:31,966 - stpipe.Image2Pipeline - INFO - Prefetch for REGIONS reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:31,967 - stpipe.Image2Pipeline - INFO - Prefetch for SFLAT reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:31,967 - stpipe.Image2Pipeline - INFO - Prefetch for SPECWCS reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:31,968 - stpipe.Image2Pipeline - INFO - Prefetch for WAVELENGTHRANGE reference file is &#x27;N/A&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:31,968 - stpipe.Image2Pipeline - INFO - Starting calwebb_image2 ...
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:31,975 - stpipe.Image2Pipeline - INFO - Processing product /home/runner/work/notebook-ci-testing/notebook-ci-testing/notebooks/MIRI/Imaging/mir_im_demo_data/Obs001/stage1/jw01040001005_03103_00005_mirimage
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:31,975 - stpipe.Image2Pipeline - INFO - Working on input /home/runner/work/notebook-ci-testing/notebook-ci-testing/notebooks/MIRI/Imaging/mir_im_demo_data/Obs001/stage1/jw01040001005_03103_00005_mirimage_rate.fits ...
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:32,155 - stpipe.Image2Pipeline.assign_wcs - INFO - Step assign_wcs running with args (&lt;ImageModel(1024, 1032) from ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00005_mirimage_image2pipeline.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:32,253 - jwst.assign_wcs.miri - INFO - Created a MIRI mir_image pipeline with references {&#x27;distortion&#x27;: &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_distortion_0047.asdf&#x27;, &#x27;filteroffset&#x27;: &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_filteroffset_0008.asdf&#x27;, &#x27;specwcs&#x27;: None, &#x27;regions&#x27;: None, &#x27;wavelengthrange&#x27;: None, &#x27;camera&#x27;: None, &#x27;collimator&#x27;: None, &#x27;disperser&#x27;: None, &#x27;fore&#x27;: None, &#x27;fpa&#x27;: None, &#x27;msa&#x27;: None, &#x27;ote&#x27;: None, &#x27;ifupost&#x27;: None, &#x27;ifufore&#x27;: None, &#x27;ifuslicer&#x27;: None}
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:32,303 - stcal.alignment.util - INFO - Update S_REGION to POLYGON ICRS  80.515622414 -69.443455639 80.534444344 -69.474030777 80.622018926 -69.467412656 80.603853712 -69.436735566
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:32,304 - jwst.assign_wcs.assign_wcs - INFO - assign_wcs updated S_REGION to POLYGON ICRS  80.515622414 -69.443455639 80.534444344 -69.474030777 80.622018926 -69.467412656 80.603853712 -69.436735566
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:32,305 - jwst.assign_wcs.assign_wcs - INFO - COMPLETED assign_wcs
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:32,338 - py.warnings - WARNING - /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages/gwcs/wcs/_wcs.py:1790: LinAlgWarning: Failed to achieve requested SIP approximation accuracy.
  fit_inv_poly_u, fit_inv_poly_v, max_inv_resid = fit_2D_poly(

</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:32,349 - stpipe.Image2Pipeline.assign_wcs - INFO - Step assign_wcs done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:32,492 - stpipe.Image2Pipeline.flat_field - INFO - Step flat_field running with args (&lt;ImageModel(1024, 1032) from ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00005_mirimage_image2pipeline.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:32,530 - stpipe.Image2Pipeline.flat_field - INFO - Using FLAT reference file: /home/runner/crds/references/jwst/miri/jwst_miri_flat_0829.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:32,530 - stpipe.Image2Pipeline.flat_field - INFO - No reference found for type FFLAT
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:32,531 - stpipe.Image2Pipeline.flat_field - INFO - No reference found for type SFLAT
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:32,531 - stpipe.Image2Pipeline.flat_field - INFO - No reference found for type DFLAT
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:32,595 - stpipe.Image2Pipeline.flat_field - INFO - Step flat_field done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:32,735 - stpipe.Image2Pipeline.photom - INFO - Step photom running with args (&lt;ImageModel(1024, 1032) from ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00005_mirimage_image2pipeline.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:32,748 - stpipe.Image2Pipeline.photom - INFO - Using photom reference file: /home/runner/crds/references/jwst/miri/jwst_miri_photom_0218.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:32,748 - stpipe.Image2Pipeline.photom - INFO - Using area reference file: /home/runner/crds/references/jwst/miri/jwst_miri_area_0006.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:32,774 - jwst.photom.photom - INFO - Using instrument: MIRI
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:32,774 - jwst.photom.photom - INFO -  detector: MIRIMAGE
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:32,775 - jwst.photom.photom - INFO -  exp_type: MIR_IMAGE
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:32,776 - jwst.photom.photom - INFO -  filter: F770W
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:32,804 - jwst.photom.photom - INFO - Pixel area map copied to output.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:32,804 - jwst.photom.photom - INFO - Values for PIXAR_SR and PIXAR_A2 obtained from AREA reference file.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:32,806 - jwst.photom.photom - INFO -  subarray: FULL
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:32,806 - jwst.photom.photom - INFO - Applying the time-dependent correction to the PHOTOM value.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:32,812 - jwst.photom.photom - INFO - PHOTMJSR value: 0.257756
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:32,827 - stpipe.Image2Pipeline.photom - INFO - Step photom done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:32,974 - stpipe.Image2Pipeline.resample - INFO - Step resample running with args (&lt;ImageModel(1024, 1032) from ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00005_mirimage_image2pipeline.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:33,006 - jwst.resample.resample_utils - INFO - Pixel scale ratio (pscale_out/pscale_in): 1.0
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:33,007 - jwst.resample.resample_utils - INFO - Computed output pixel scale: 0.11091590924628925 arcsec.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:33,014 - stcal.resample.resample - INFO - Output pixel scale: 0.11091590924628925 arcsec.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:33,014 - stcal.resample.resample - INFO - Driz parameter kernel: square
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:33,015 - stcal.resample.resample - INFO - Driz parameter pixfrac: 1.0
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:33,015 - stcal.resample.resample - INFO - Driz parameter fillval: NAN
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:33,015 - stcal.resample.resample - INFO - Driz parameter weight_type: exptime
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:33,019 - jwst.resample.resample - INFO - Resampling science and variance data
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:33,465 - stcal.resample.resample - INFO - Resampling science and variance data
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:33,709 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --&gt; (1019, 1029)
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:33,905 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --&gt; (1019, 1029)
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:34,101 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --&gt; (1019, 1029)
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:34,402 - stcal.alignment.util - INFO - Update S_REGION to POLYGON ICRS  80.515502380 -69.443331306 80.534099480 -69.474041043 80.622512917 -69.467424488 80.603795222 -69.436724206
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:34,500 - stpipe.Image2Pipeline.resample - INFO - Saved model in ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00005_mirimage_i2d.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:34,501 - stpipe.Image2Pipeline.resample - INFO - Step resample done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:34,503 - stpipe.Image2Pipeline - INFO - Finished processing product /home/runner/work/notebook-ci-testing/notebook-ci-testing/notebooks/MIRI/Imaging/mir_im_demo_data/Obs001/stage1/jw01040001005_03103_00005_mirimage
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:34,504 - stpipe.Image2Pipeline - INFO - ... ending calwebb_image2
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:34,505 - jwst.stpipe.core - INFO - Results used CRDS context: jwst_1413.pmap
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:34,635 - stpipe.Image2Pipeline - INFO - Saved model in ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00005_mirimage_cal.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:34,636 - stpipe.Image2Pipeline - INFO - Step Image2Pipeline done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:34,636 - jwst.stpipe.core - INFO - Results used jwst version: 1.19.1
</span></code></pre></div></div></div></div><div id="yVe1Zk4ys3" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Print out the time benchmark
time1 = time.perf_counter()
print(f&quot;Runtime so far: {time1 - time0:0.0f} seconds&quot;)
print(f&quot;Runtime for Image2: {time1 - time_image2:0.0f} seconds&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="f8dlTXxpEniqBgbv2HkZ_" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>Runtime so far: 83 seconds
Runtime for Image2: 15 seconds
</span></code></pre></div></div></div></div><div id="ZmBIe8mIFe" class="myst-jp-nb-block relative group/block"><h3 id="verify-which-pipeline-steps-were-run-and-reference-files-used" class="relative group"><span class="heading-text">Verify which pipeline steps were run and reference files used</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#verify-which-pipeline-steps-were-run-and-reference-files-used" title="Link to this Section" aria-label="Link to this Section">¶</a></h3></div><div id="ILSgs5FR71" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">if doimage2:
    # Identify *_cal.fits files
    cal_files = sorted(glob.glob(os.path.join(image2_dir, &#x27;*_cal.fits&#x27;)))

    cal_f = datamodels.open(cal_files[0])

    # Check which steps were run:
    cal_f.meta.cal_step.instance

    # Check which reference files were used to calibrate the dataset:
    cal_f.meta.ref_file.instance</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="uNoMPcAFOi_Q_-tFAXPVM" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-text" class="font-mono text-sm whitespace-pre-wrap myst-jp-safe-output-text"><code><span>{&#x27;assign_wcs&#x27;: &#x27;COMPLETE&#x27;,
 &#x27;charge_migration&#x27;: &#x27;SKIPPED&#x27;,
 &#x27;clean_flicker_noise&#x27;: &#x27;SKIPPED&#x27;,
 &#x27;dark_sub&#x27;: &#x27;COMPLETE&#x27;,
 &#x27;dq_init&#x27;: &#x27;COMPLETE&#x27;,
 &#x27;emicorr&#x27;: &#x27;COMPLETE&#x27;,
 &#x27;firstframe&#x27;: &#x27;COMPLETE&#x27;,
 &#x27;flat_field&#x27;: &#x27;COMPLETE&#x27;,
 &#x27;gain_scale&#x27;: &#x27;SKIPPED&#x27;,
 &#x27;group_scale&#x27;: &#x27;SKIPPED&#x27;,
 &#x27;ipc&#x27;: &#x27;SKIPPED&#x27;,
 &#x27;jump&#x27;: &#x27;COMPLETE&#x27;,
 &#x27;lastframe&#x27;: &#x27;COMPLETE&#x27;,
 &#x27;linearity&#x27;: &#x27;COMPLETE&#x27;,
 &#x27;photom&#x27;: &#x27;COMPLETE&#x27;,
 &#x27;ramp_fit&#x27;: &#x27;COMPLETE&#x27;,
 &#x27;refpix&#x27;: &#x27;SKIPPED&#x27;,
 &#x27;reset&#x27;: &#x27;COMPLETE&#x27;,
 &#x27;rscd&#x27;: &#x27;COMPLETE&#x27;,
 &#x27;saturation&#x27;: &#x27;COMPLETE&#x27;}</span></code></div><div data-name="safe-output-text" class="font-mono text-sm whitespace-pre-wrap myst-jp-safe-output-text"><code><span>{&#x27;area&#x27;: {&#x27;name&#x27;: &#x27;crds://jwst_miri_area_0006.fits&#x27;},
 &#x27;camera&#x27;: {&#x27;name&#x27;: &#x27;N/A&#x27;},
 &#x27;collimator&#x27;: {&#x27;name&#x27;: &#x27;N/A&#x27;},
 &#x27;crds&#x27;: {&#x27;context_used&#x27;: &#x27;jwst_1413.pmap&#x27;, &#x27;sw_version&#x27;: &#x27;13.0.6&#x27;},
 &#x27;dark&#x27;: {&#x27;name&#x27;: &#x27;crds://jwst_miri_dark_0113.fits&#x27;},
 &#x27;dflat&#x27;: {&#x27;name&#x27;: &#x27;N/A&#x27;},
 &#x27;disperser&#x27;: {&#x27;name&#x27;: &#x27;N/A&#x27;},
 &#x27;distortion&#x27;: {&#x27;name&#x27;: &#x27;crds://jwst_miri_distortion_0047.asdf&#x27;},
 &#x27;emicorr&#x27;: {&#x27;name&#x27;: &#x27;crds://jwst_miri_emicorr_0003.asdf&#x27;},
 &#x27;fflat&#x27;: {&#x27;name&#x27;: &#x27;N/A&#x27;},
 &#x27;filteroffset&#x27;: {&#x27;name&#x27;: &#x27;crds://jwst_miri_filteroffset_0008.asdf&#x27;},
 &#x27;flat&#x27;: {&#x27;name&#x27;: &#x27;crds://jwst_miri_flat_0829.fits&#x27;},
 &#x27;fore&#x27;: {&#x27;name&#x27;: &#x27;N/A&#x27;},
 &#x27;fpa&#x27;: {&#x27;name&#x27;: &#x27;N/A&#x27;},
 &#x27;gain&#x27;: {&#x27;name&#x27;: &#x27;crds://jwst_miri_gain_0034.fits&#x27;},
 &#x27;ifufore&#x27;: {&#x27;name&#x27;: &#x27;N/A&#x27;},
 &#x27;ifupost&#x27;: {&#x27;name&#x27;: &#x27;N/A&#x27;},
 &#x27;ifuslicer&#x27;: {&#x27;name&#x27;: &#x27;N/A&#x27;},
 &#x27;linearity&#x27;: {&#x27;name&#x27;: &#x27;crds://jwst_miri_linearity_0032.fits&#x27;},
 &#x27;mask&#x27;: {&#x27;name&#x27;: &#x27;crds://jwst_miri_mask_0036.fits&#x27;},
 &#x27;msa&#x27;: {&#x27;name&#x27;: &#x27;N/A&#x27;},
 &#x27;ote&#x27;: {&#x27;name&#x27;: &#x27;N/A&#x27;},
 &#x27;photom&#x27;: {&#x27;name&#x27;: &#x27;crds://jwst_miri_photom_0218.fits&#x27;},
 &#x27;readnoise&#x27;: {&#x27;name&#x27;: &#x27;crds://jwst_miri_readnoise_0085.fits&#x27;},
 &#x27;regions&#x27;: {&#x27;name&#x27;: &#x27;N/A&#x27;},
 &#x27;reset&#x27;: {&#x27;name&#x27;: &#x27;crds://jwst_miri_reset_0077.fits&#x27;},
 &#x27;rscd&#x27;: {&#x27;name&#x27;: &#x27;crds://jwst_miri_rscd_0017.fits&#x27;},
 &#x27;saturation&#x27;: {&#x27;name&#x27;: &#x27;crds://jwst_miri_saturation_0034.fits&#x27;},
 &#x27;sflat&#x27;: {&#x27;name&#x27;: &#x27;N/A&#x27;},
 &#x27;specwcs&#x27;: {&#x27;name&#x27;: &#x27;N/A&#x27;},
 &#x27;superbias&#x27;: {&#x27;name&#x27;: &#x27;N/A&#x27;},
 &#x27;wavelengthrange&#x27;: {&#x27;name&#x27;: &#x27;N/A&#x27;}}</span></code></div></div></div><div id="vYhOYvqvxc" class="myst-jp-nb-block relative group/block"><hr class="py-2 my-5 translate-y-2"/></div><div id="hdusevjOzD" class="myst-jp-nb-block relative group/block"><h2 id="id-7-image3-pipeline" class="relative group"><span class="heading-text">7. Image3 Pipeline</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-7-image3-pipeline" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>In the <a target="_blank" rel="noreferrer" href="https://jwst-pipeline.readthedocs.io/en/latest/jwst/pipeline/calwebb_image3.html" class="link">Image3<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a>
stage of the pipeline, the individual <code>*_cal.fits</code> files for each of the dither positions are
combined to one single distortion corrected image. First, an
<a target="_blank" rel="noreferrer" href="https://jwst-pipeline.readthedocs.io/en/latest/jwst/associations/overview.html" class="link">Association<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a>
needs to be created to inform the pipeline that these individual exposures are linked together.</p><p>By default, the <code>Image3</code> stage of the pipeline performs the following steps on MIRI data:</p><ul><li><p><a target="_blank" rel="noreferrer" href="https://jwst-pipeline.readthedocs.io/en/latest/jwst/tweakreg/index.html#tweakreg-step" class="link">tweakreg<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a> -
creates source catalogs of pointlike sources for each input image. The source catalog for each input
image is compared to each other to derive coordinate transforms to align the images relative to each other.</p><ul><li><p>As of pipeline version 1.14.0, the default source finding algorithm is <code>IRAFStarFinder</code>.</p></li></ul></li><li><p><a target="_blank" rel="noreferrer" href="https://jwst-pipeline.readthedocs.io/en/latest/jwst/skymatch/index.html#skymatch-step" class="link">skymatch<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a> -
measures the background level from the sky to use as input into the subsequent <code>outlier detection</code> and <code>resample</code> steps.</p></li><li><p><a target="_blank" rel="noreferrer" href="https://jwst-pipeline.readthedocs.io/en/latest/jwst/outlier_detection/index.html#outlier-detection-step" class="link">outlier detection<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a> -
flags any remaining cosmic rays, bad pixels, or other artifacts not already flagged during the <code>DETECTOR1</code> stage
of the pipeline, using all input images to create a median image so that outliers in individual images can be identified.</p></li><li><p><a target="_blank" rel="noreferrer" href="https://jwst-pipeline.readthedocs.io/en/latest/jwst/resample/index.html#resample-step" class="link">resample<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a> -
resamples each input image based on its WCS and distortion information and creates a single undistorted image.</p></li><li><p><a target="_blank" rel="noreferrer" href="https://jwst-pipeline.readthedocs.io/en/latest/jwst/source_catalog/index.html#source-catalog-step" class="link">source catalog<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a> -
creates a catalog of detected sources along with measured photometries and morphologies (i.e., point-like vs extended).
Useful for quicklooks, but optimization is likely needed for specific science cases. Users may wish to experiment with
changing the <code>snr_threshold</code> and <code>deblend</code> options. Modifications to the following parameters will not significantly
improve data quality and it is advised to keep them at their default values: <code>aperture_ee1</code>, <code>aperture_ee2</code>,
<code>aperture_ee3</code>, <code>ci1_star_threshold</code>, <code>ci2_star_threshold</code>.</p></li></ul><p>Some values that have been shown to give good results for MIRI data are to set the outlier_detection’s parameter <code>scale</code>
to ‘1.0 0.8’ and to set the resample parameter <code>weight_type</code> to ‘exptime’, both currently set in the
<a target="_blank" rel="noreferrer" href="https://jwst-pipeline.readthedocs.io/en/stable/jwst/stpipe/parameter_files.html#parameter-files" class="link">parameter reference file<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a>
<em>pars-outlierdetectionstep</em>, but can be overridden as indicated below.</p></div><div id="W4Yvtw0RD7" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">time_image3 = time.perf_counter()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="648Lvs-6cEmpwXs4oMX8Z" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="amHtP1MASh" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Set up a dictionary to define how the Image3 pipeline should be configured
# Boilerplate dictionary setup
image3dict = {}
image3dict[&#x27;assign_mtwcs&#x27;], image3dict[&#x27;tweakreg&#x27;], image3dict[&#x27;skymatch&#x27;] = {}, {}, {}
image3dict[&#x27;outlier_detection&#x27;], image3dict[&#x27;resample&#x27;], image3dict[&#x27;source_catalog&#x27;] = {}, {}, {}

# Overrides for whether or not certain steps should be skipped (example)
#image3dict[&#x27;outlier_detection&#x27;][&#x27;skip&#x27;] = True

# Overrides for various reference files
# Files should be in the base local directory or provide full path
#image3dict[&#x27;source_catalog&#x27;][&#x27;override_apcorr&#x27;] = &#x27;myfile.fits&#x27;  # Aperture correction parameters
#image3dict[&#x27;source_catalog&#x27;][&#x27;override_abvegaoffset&#x27;] = &#x27;myfile.asdf&#x27;  # Data to convert from AB to Vega magnitudes (ASDF file)

# Overrides for specific parameters in the step (examples)
#image3dict[&#x27;resample&#x27;][&#x27;weight_type&#x27;] = [&#x27;exptime&#x27;]
#image3dict[&#x27;outlier_detection&#x27;][&#x27;scale&#x27;] = [&#x27;1.0 0.8&#x27;]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="hbSsfxriGkDTOOV66BGKa" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="wCY4ujCnJ4" class="myst-jp-nb-block relative group/block"><p>Find and sort all of the input files, ensuring use of absolute paths</p></div><div id="joROkUHAVw" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Science Files need are the cal.fits files
sstring = os.path.join(image2_dir, &#x27;jw*cal.fits&#x27;)
cal_files = sorted(glob.glob(sstring))
for ii in range(0, len(cal_files)):
    cal_files[ii] = os.path.abspath(cal_files[ii])
calfiles = np.array(cal_files)

print(f&#x27;Found {str(len(cal_files))} science files to process&#x27;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="MPu1EmOJut6MFBq1m2gDi" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>Found 5 science files to process
</span></code></pre></div></div></div></div><div id="y3ojfons37" class="myst-jp-nb-block relative group/block"><h3 id="create-association-file" class="relative group"><span class="heading-text">Create Association File</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#create-association-file" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>An association file lists the exposures to calibrated together in <code>Stage3</code>
of the pipeline. Note that an association file is available for download
from MAST, with a filename of <code>*_asn.json</code>. Here we show how to create an
association file to point to the data products created when processing data
through the pipeline. Note that the output products will have a rootname
that is specified by the <code>product_name</code> in the association file. For
this tutorial, the rootname of the output products will be
<code>image3_association</code>.</p></div><div id="hBJmUPvM09" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Create a Level 3 Association
if doimage3:
    associations = afl.asn_from_list(cal_files, rule=DMS_Level3_Base, product_name=&#x27;image3_association&#x27;)

    associations.data[&#x27;asn_type&#x27;] = &#x27;image3&#x27;
    program = datamodels.open(cal_files[0]).meta.observation.program_number
    associations.data[&#x27;program&#x27;] = program

    # Format association as .json file
    asn_filename, serialized = associations.dump(format=&quot;json&quot;)

    # Write out association file
    association_im3 = os.path.join(sci_dir, asn_filename)
    with open(association_im3, &quot;w&quot;) as fd:
        fd.write(serialized)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="MxIjbRYYjtYNHQkxtESsX" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-text" class="font-mono text-sm whitespace-pre-wrap myst-jp-safe-output-text"><code><span>1782</span></code></div></div></div><div id="ir8tJfYexa" class="myst-jp-nb-block relative group/block"><h3 id="run-image3-stage-of-the-pipeline" class="relative group"><span class="heading-text">Run Image3 stage of the pipeline</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#run-image3-stage-of-the-pipeline" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Given the grouped exposures in the association file, the products if the
<code>Image3</code> stage of the pipeline are:</p><ul><li><p>a <code>*_crf.fits</code> file produced by the <code>outlier_detection</code> step, where the <code>DQ</code> array marks the pixels flagged as outliers.</p></li><li><p>a final combined, rectified image with name <code>*_i2d.fits</code>,</p></li><li><p>a source catalog with name <code>*_cat.ecsv</code>,</p></li><li><p>a segmentation map file (<code>*_segm.fits</code>) which has integer values at the pixel locations where a source is detected where the pixel values match the source ID number in the catalog.</p></li></ul></div><div id="bXy5Aqjjwx" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Run Stage 3
if doimage3:
    i2d_result = Image3Pipeline.call(association_im3, output_dir=image3_dir, steps=image3dict, save_results=True)
else:
    print(&#x27;Skipping Spec3 processing&#x27;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="gKrfuqrQcBgHpq8fhSfgh" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:34,932 - stpipe - INFO - PARS-TWEAKREGSTEP parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-tweakregstep_0020.asdf
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:34,943 - stpipe - INFO - PARS-OUTLIERDETECTIONSTEP parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-outlierdetectionstep_0096.asdf
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:34,952 - stpipe - INFO - PARS-RESAMPLESTEP parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-resamplestep_0001.asdf
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:34,960 - stpipe - INFO - PARS-SOURCECATALOGSTEP parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-sourcecatalogstep_0018.asdf
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:34,974 - stpipe.Image3Pipeline - INFO - Image3Pipeline instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:34,975 - stpipe.Image3Pipeline.assign_mtwcs - INFO - AssignMTWcsStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:34,978 - stpipe.Image3Pipeline.tweakreg - INFO - TweakRegStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:34,979 - stpipe.Image3Pipeline.skymatch - INFO - SkyMatchStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:34,981 - stpipe.Image3Pipeline.outlier_detection - INFO - OutlierDetectionStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:34,982 - stpipe.Image3Pipeline.resample - INFO - ResampleStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:34,983 - stpipe.Image3Pipeline.source_catalog - INFO - SourceCatalogStep instance created.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:35,141 - stpipe.Image3Pipeline - INFO - Step Image3Pipeline running with args (&#x27;./mir_im_demo_data/Obs001/jw01040-a3001_image3_00007_asn.json&#x27;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:35,153 - stpipe.Image3Pipeline - INFO - Step Image3Pipeline parameters are:
  pre_hooks: []
  post_hooks: []
  output_file: None
  output_dir: ./mir_im_demo_data/Obs001/stage3
  output_ext: .fits
  output_use_model: False
  output_use_index: True
  save_results: True
  skip: False
  suffix: None
  search_output_file: True
  input_dir: &#x27;&#x27;
  in_memory: True
  steps:
    assign_mtwcs:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: True
      output_use_index: True
      save_results: False
      skip: False
      suffix: assign_mtwcs
      search_output_file: True
      input_dir: &#x27;&#x27;
    tweakreg:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: True
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      save_catalogs: False
      use_custom_catalogs: False
      catalog_format: ecsv
      catfile: &#x27;&#x27;
      starfinder: iraf
      snr_threshold: 10.0
      kernel_fwhm: 2.19
      bkg_boxsize: 400
      minsep_fwhm: 0.0
      sigma_radius: 1.5
      sharplo: 0.5
      sharphi: 2.0
      roundlo: 0.0
      roundhi: 0.2
      brightest: 200
      peakmax: None
      npixels: 10
      connectivity: &#x27;8&#x27;
      nlevels: 32
      contrast: 0.001
      multithresh_mode: exponential
      localbkg_width: 0
      apermask_method: correct
      kron_params: None
      enforce_user_order: False
      expand_refcat: False
      minobj: 15
      fitgeometry: rshift
      nclip: 3
      sigma: 3
      searchrad: 1.0
      use2dhist: True
      separation: 1.0
      tolerance: 0.7
      xoffset: 0.0
      yoffset: 0.0
      abs_refcat: &#x27;&#x27;
      save_abs_catalog: False
      abs_minobj: 15
      abs_fitgeometry: rshift
      abs_nclip: 3
      abs_sigma: 3.0
      abs_searchrad: 6.0
      abs_use2dhist: True
      abs_separation: 1.0
      abs_tolerance: 0.7
      sip_approx: True
      sip_max_pix_error: 0.01
      sip_degree: None
      sip_max_inv_pix_error: 0.01
      sip_inv_degree: None
      sip_npoints: 12
      in_memory: True
    skymatch:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      skymethod: match
      match_down: True
      subtract: False
      skylist: None
      stepsize: None
      skystat: mode
      dqbits: ~DO_NOT_USE+NON_SCIENCE
      lower: None
      upper: None
      nclip: 5
      lsigma: 4.0
      usigma: 4.0
      binwidth: 0.1
      in_memory: True
    outlier_detection:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: False
      input_dir: &#x27;&#x27;
      weight_type: exptime
      pixfrac: 1.0
      kernel: square
      fillval: NAN
      maskpt: 0.7
      snr: 4.0 3.0
      scale: 1.0 0.8
      backg: 0.0
      kernel_size: 7 7
      threshold_percent: 99.8
      rolling_window_width: 25
      ifu_second_check: False
      save_intermediate_results: False
      resample_data: True
      good_bits: ~DO_NOT_USE+NON_SCIENCE
      in_memory: True
    resample:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#x27;&#x27;
      pixfrac: 1.0
      kernel: square
      fillval: NAN
      weight_type: exptime
      output_shape: None
      crpix: None
      crval: None
      rotation: None
      pixel_scale_ratio: 1.0
      pixel_scale: None
      output_wcs: &#x27;&#x27;
      single: False
      blendheaders: True
      in_memory: True
      enable_ctx: True
      enable_err: True
      report_var: True
    source_catalog:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: cat
      search_output_file: True
      input_dir: &#x27;&#x27;
      bkg_boxsize: 1000
      kernel_fwhm: 2.27
      snr_threshold: 3.0
      npixels: 5
      deblend: False
      aperture_ee1: 30
      aperture_ee2: 50
      aperture_ee3: 70
      ci1_star_threshold: 2.0
      ci2_star_threshold: 1.8
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:35,216 - stpipe.Image3Pipeline - INFO - Prefetching reference files for dataset: &#x27;jw01040-a3001_image3_00007_asn.json&#x27; reftypes = [&#x27;abvegaoffset&#x27;, &#x27;apcorr&#x27;]
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:35,219 - stpipe.Image3Pipeline - INFO - Prefetch for ABVEGAOFFSET reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_abvegaoffset_0002.asdf&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:35,219 - stpipe.Image3Pipeline - INFO - Prefetch for APCORR reference file is &#x27;/home/runner/crds/references/jwst/miri/jwst_miri_apcorr_0014.fits&#x27;.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:35,220 - stpipe.Image3Pipeline - INFO - Starting calwebb_image3 ...
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:35,621 - stpipe.Image3Pipeline.tweakreg - INFO - Step tweakreg running with args (&lt;jwst.datamodels.library.ModelLibrary object at 0x7f9d346348d0&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:35,983 - stpipe.Image3Pipeline.tweakreg - INFO - Detected 97 sources in jw01040001005_03103_00001_mirimage_cal.fits.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:36,470 - stpipe.Image3Pipeline.tweakreg - INFO - Detected 90 sources in jw01040001005_03103_00002_mirimage_cal.fits.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:36,949 - stpipe.Image3Pipeline.tweakreg - INFO - Detected 92 sources in jw01040001005_03103_00003_mirimage_cal.fits.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:37,427 - stpipe.Image3Pipeline.tweakreg - INFO - Detected 89 sources in jw01040001005_03103_00004_mirimage_cal.fits.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:37,903 - stpipe.Image3Pipeline.tweakreg - INFO - Detected 97 sources in jw01040001005_03103_00005_mirimage_cal.fits.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:37,924 - stpipe.Image3Pipeline.tweakreg - INFO - 
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:37,925 - stpipe.Image3Pipeline.tweakreg - INFO - Number of image groups to be aligned: 5.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:37,925 - tweakwcs.imalign - INFO -  
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:37,926 - tweakwcs.imalign - INFO - ***** tweakwcs.imalign.align_wcs() started on 2025-11-19 20:27:37.925636
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:37,926 - tweakwcs.imalign - INFO -       Version 0.8.12
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:37,927 - tweakwcs.imalign - INFO -  
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:38,207 - tweakwcs.imalign - INFO - Selected image &#x27;GROUP ID: jw01040001005_03103_1&#x27; as reference image
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:38,211 - tweakwcs.imalign - INFO - Aligning image catalog &#x27;GROUP ID: jw01040001005_03103_2&#x27; to the reference catalog.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:38,257 - tweakwcs.matchutils - INFO - Matching sources from &#x27;jw01040001005_03103_00002_mirimage_cal&#x27; catalog with sources from the reference &#x27;jw01040001005_03103_00001_mirimage_cal&#x27; catalog.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:38,258 - tweakwcs.matchutils - INFO - Computing initial guess for X and Y shifts...
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:38,259 - tweakwcs.matchutils - INFO - Found initial X and Y shifts of 0.1091, 0.1091 (arcsec) with significance of 68 and 68 matches.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:38,260 - tweakwcs.wcsimage - INFO - Found 67 matches for &#x27;GROUP ID: jw01040001005_03103_2&#x27;...
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:38,261 - tweakwcs.linearfit - INFO - Performing &#x27;rshift&#x27; fit
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:38,263 - tweakwcs.wcsimage - INFO - Computed &#x27;rshift&#x27; fit for GROUP ID: jw01040001005_03103_2:
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:38,263 - tweakwcs.wcsimage - INFO - XSH: -0.00430263  YSH: -0.000731216    ROT: 0.00134208    SCALE: 1
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:38,264 - tweakwcs.wcsimage - INFO - 
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:38,264 - tweakwcs.wcsimage - INFO - FIT RMSE: 0.0145465   FIT MAE: 0.0134298
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:38,265 - tweakwcs.wcsimage - INFO - Final solution based on 67 objects.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:38,296 - tweakwcs.imalign - INFO - Aligning image catalog &#x27;GROUP ID: jw01040001005_03103_3&#x27; to the reference catalog.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:38,341 - tweakwcs.matchutils - INFO - Matching sources from &#x27;jw01040001005_03103_00003_mirimage_cal&#x27; catalog with sources from the reference &#x27;jw01040001005_03103_00001_mirimage_cal&#x27; catalog.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:38,341 - tweakwcs.matchutils - INFO - Computing initial guess for X and Y shifts...
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:38,343 - tweakwcs.matchutils - INFO - Found initial X and Y shifts of 0.1091, 0.1091 (arcsec) with significance of 69 and 69 matches.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:38,344 - tweakwcs.wcsimage - INFO - Found 68 matches for &#x27;GROUP ID: jw01040001005_03103_3&#x27;...
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:38,345 - tweakwcs.linearfit - INFO - Performing &#x27;rshift&#x27; fit
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:38,346 - tweakwcs.wcsimage - INFO - Computed &#x27;rshift&#x27; fit for GROUP ID: jw01040001005_03103_3:
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:38,347 - tweakwcs.wcsimage - INFO - XSH: -0.00584086  YSH: -0.00174599    ROT: 0.000139988    SCALE: 1
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:38,348 - tweakwcs.wcsimage - INFO - 
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:38,348 - tweakwcs.wcsimage - INFO - FIT RMSE: 0.0130717   FIT MAE: 0.011891
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:38,349 - tweakwcs.wcsimage - INFO - Final solution based on 68 objects.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:38,379 - tweakwcs.imalign - INFO - Aligning image catalog &#x27;GROUP ID: jw01040001005_03103_4&#x27; to the reference catalog.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:38,423 - tweakwcs.matchutils - INFO - Matching sources from &#x27;jw01040001005_03103_00004_mirimage_cal&#x27; catalog with sources from the reference &#x27;jw01040001005_03103_00001_mirimage_cal&#x27; catalog.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:38,423 - tweakwcs.matchutils - INFO - Computing initial guess for X and Y shifts...
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:38,425 - tweakwcs.matchutils - INFO - Found initial X and Y shifts of 0.1091, 0.1091 (arcsec) with significance of 60 and 60 matches.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:38,426 - tweakwcs.wcsimage - INFO - Found 59 matches for &#x27;GROUP ID: jw01040001005_03103_4&#x27;...
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:38,426 - tweakwcs.linearfit - INFO - Performing &#x27;rshift&#x27; fit
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:38,428 - tweakwcs.wcsimage - INFO - Computed &#x27;rshift&#x27; fit for GROUP ID: jw01040001005_03103_4:
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:38,429 - tweakwcs.wcsimage - INFO - XSH: -0.00880372  YSH: -0.00263095    ROT: 0.00459673    SCALE: 1
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:38,429 - tweakwcs.wcsimage - INFO - 
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:38,430 - tweakwcs.wcsimage - INFO - FIT RMSE: 0.0141322   FIT MAE: 0.0122104
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:38,430 - tweakwcs.wcsimage - INFO - Final solution based on 59 objects.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:38,461 - tweakwcs.imalign - INFO - Aligning image catalog &#x27;GROUP ID: jw01040001005_03103_5&#x27; to the reference catalog.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:38,506 - tweakwcs.matchutils - INFO - Matching sources from &#x27;jw01040001005_03103_00005_mirimage_cal&#x27; catalog with sources from the reference &#x27;jw01040001005_03103_00001_mirimage_cal&#x27; catalog.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:38,506 - tweakwcs.matchutils - INFO - Computing initial guess for X and Y shifts...
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:38,508 - tweakwcs.matchutils - INFO - Found initial X and Y shifts of 0.1091, 0.1091 (arcsec) with significance of 65 and 65 matches.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:38,509 - tweakwcs.wcsimage - INFO - Found 63 matches for &#x27;GROUP ID: jw01040001005_03103_5&#x27;...
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:38,510 - tweakwcs.linearfit - INFO - Performing &#x27;rshift&#x27; fit
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:38,511 - tweakwcs.wcsimage - INFO - Computed &#x27;rshift&#x27; fit for GROUP ID: jw01040001005_03103_5:
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:38,512 - tweakwcs.wcsimage - INFO - XSH: -0.00683569  YSH: -0.00371656    ROT: -0.000710487    SCALE: 1
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:38,512 - tweakwcs.wcsimage - INFO - 
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:38,513 - tweakwcs.wcsimage - INFO - FIT RMSE: 0.0124526   FIT MAE: 0.0105718
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:38,513 - tweakwcs.wcsimage - INFO - Final solution based on 63 objects.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:38,544 - tweakwcs.imalign - INFO -  
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:38,544 - tweakwcs.imalign - INFO - ***** tweakwcs.imalign.align_wcs() ended on 2025-11-19 20:27:38.544619
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:38,545 - tweakwcs.imalign - INFO - ***** tweakwcs.imalign.align_wcs() TOTAL RUN TIME: 0:00:00.618983
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:38,545 - tweakwcs.imalign - INFO -  
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:38,616 - stcal.alignment.util - INFO - Update S_REGION to POLYGON ICRS  80.519756096 -69.441178981 80.538579735 -69.471753838 80.626144221 -69.465134413 80.607977234 -69.434457593
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:38,655 - py.warnings - WARNING - /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages/gwcs/wcs/_wcs.py:1790: LinAlgWarning: Failed to achieve requested SIP approximation accuracy.
  fit_inv_poly_u, fit_inv_poly_v, max_inv_resid = fit_2D_poly(

</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:38,712 - stcal.alignment.util - INFO - Update S_REGION to POLYGON ICRS  80.517105846 -69.438900240 80.535925744 -69.469475230 80.623481314 -69.462856423 80.605318017 -69.432179474
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:38,751 - py.warnings - WARNING - /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages/gwcs/wcs/_wcs.py:1790: LinAlgWarning: Failed to achieve requested SIP approximation accuracy.
  fit_inv_poly_u, fit_inv_poly_v, max_inv_resid = fit_2D_poly(

</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:38,809 - stcal.alignment.util - INFO - Update S_REGION to POLYGON ICRS  80.513331520 -69.439820350 80.532140011 -69.470396265 80.619701993 -69.463781765 80.601550154 -69.433103923
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:38,847 - py.warnings - WARNING - /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages/gwcs/wcs/_wcs.py:1790: LinAlgWarning: Failed to achieve requested SIP approximation accuracy.
  fit_inv_poly_u, fit_inv_poly_v, max_inv_resid = fit_2D_poly(

</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:39,079 - stcal.alignment.util - INFO - Update S_REGION to POLYGON ICRS  80.515616620 -69.443456967 80.534439624 -69.474032024 80.622013978 -69.467413524 80.603847687 -69.436736512
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:39,118 - py.warnings - WARNING - /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages/gwcs/wcs/_wcs.py:1790: LinAlgWarning: Failed to achieve requested SIP approximation accuracy.
  fit_inv_poly_u, fit_inv_poly_v, max_inv_resid = fit_2D_poly(

</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:39,135 - stpipe.Image3Pipeline.tweakreg - INFO - Step tweakreg done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:39,298 - stpipe.Image3Pipeline.skymatch - INFO - Step skymatch running with args (&lt;jwst.datamodels.library.ModelLibrary object at 0x7f9d346348d0&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:39,388 - stcal.skymatch.skymatch - INFO -  
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:39,389 - stcal.skymatch.skymatch - INFO - ***** stcal.skymatch.skymatch.skymatch() started on 2025-11-19 20:27:39.388442
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:39,389 - stcal.skymatch.skymatch - INFO -  
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:39,390 - stcal.skymatch.skymatch - INFO - Sky computation method: &#x27;match&#x27;
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:39,390 - stcal.skymatch.skymatch - INFO - Sky matching direction: DOWN
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:39,391 - stcal.skymatch.skymatch - INFO - Sky subtraction from image data: OFF
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:39,392 - stcal.skymatch.skymatch - INFO -  
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:39,392 - stcal.skymatch.skymatch - INFO - ----  Computing differences in sky values in overlapping regions.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:40,782 - stcal.skymatch.skymatch - INFO -    *  Image ID=jw01040001005_03103_00001_mirimage_cal.fits. Sky background: 0.0203066
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:40,783 - stcal.skymatch.skymatch - INFO -    *  Image ID=jw01040001005_03103_00002_mirimage_cal.fits. Sky background: 0
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:40,784 - stcal.skymatch.skymatch - INFO -    *  Image ID=jw01040001005_03103_00003_mirimage_cal.fits. Sky background: 0.0248103
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:40,784 - stcal.skymatch.skymatch - INFO -    *  Image ID=jw01040001005_03103_00004_mirimage_cal.fits. Sky background: 0.00271931
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:40,784 - stcal.skymatch.skymatch - INFO -    *  Image ID=jw01040001005_03103_00005_mirimage_cal.fits. Sky background: 0.0137427
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:40,786 - stcal.skymatch.skymatch - INFO -  
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:40,786 - stcal.skymatch.skymatch - INFO - ***** stcal.skymatch.skymatch.skymatch() ended on 2025-11-19 20:27:40.786013
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:40,787 - stcal.skymatch.skymatch - INFO - ***** stcal.skymatch.skymatch.skymatch() TOTAL RUN TIME: 0:00:01.397571
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:40,787 - stcal.skymatch.skymatch - INFO -  
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:40,802 - stpipe.Image3Pipeline.skymatch - INFO - Step skymatch done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:40,977 - stpipe.Image3Pipeline.outlier_detection - INFO - Step outlier_detection running with args (&lt;jwst.datamodels.library.ModelLibrary object at 0x7f9d346348d0&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:40,978 - stpipe.Image3Pipeline.outlier_detection - INFO - Outlier Detection mode: imaging
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:40,979 - stpipe.Image3Pipeline.outlier_detection - INFO - Outlier Detection asn_id: a3001
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:41,000 - jwst.resample.resample_utils - INFO - Pixel scale ratio (pscale_out/pscale_in): 1.0
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:41,001 - jwst.resample.resample_utils - INFO - Computed output pixel scale: 0.11091590874981953 arcsec.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:41,016 - stcal.resample.resample - INFO - Output pixel scale: 0.11091590874981953 arcsec.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:41,017 - stcal.resample.resample - INFO - Driz parameter kernel: square
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:41,018 - stcal.resample.resample - INFO - Driz parameter pixfrac: 1.0
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:41,018 - stcal.resample.resample - INFO - Driz parameter fillval: NAN
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:41,019 - stcal.resample.resample - INFO - Driz parameter weight_type: exptime
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:41,020 - jwst.resample.resample - INFO - 1 exposures to drizzle together
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:41,478 - stcal.resample.resample - INFO - Resampling science and variance data
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:41,784 - stcal.alignment.util - INFO - Update S_REGION to POLYGON ICRS  80.512843494 -69.439087442 80.534017190 -69.474046113 80.629901790 -69.466865561 80.608579256 -69.431918568
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:41,817 - jwst.resample.resample - INFO - 1 exposures to drizzle together
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:42,422 - stcal.resample.resample - INFO - Resampling science and variance data
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:42,724 - stcal.alignment.util - INFO - Update S_REGION to POLYGON ICRS  80.512843494 -69.439087442 80.534017190 -69.474046113 80.629901790 -69.466865561 80.608579256 -69.431918568
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:42,754 - jwst.resample.resample - INFO - 1 exposures to drizzle together
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:43,358 - stcal.resample.resample - INFO - Resampling science and variance data
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:43,659 - stcal.alignment.util - INFO - Update S_REGION to POLYGON ICRS  80.512843494 -69.439087442 80.534017190 -69.474046113 80.629901790 -69.466865561 80.608579256 -69.431918568
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:43,689 - jwst.resample.resample - INFO - 1 exposures to drizzle together
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:44,287 - stcal.resample.resample - INFO - Resampling science and variance data
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:44,589 - stcal.alignment.util - INFO - Update S_REGION to POLYGON ICRS  80.512843494 -69.439087442 80.534017190 -69.474046113 80.629901790 -69.466865561 80.608579256 -69.431918568
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:44,618 - jwst.resample.resample - INFO - 1 exposures to drizzle together
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:45,223 - stcal.resample.resample - INFO - Resampling science and variance data
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:45,523 - stcal.alignment.util - INFO - Update S_REGION to POLYGON ICRS  80.512843494 -69.439087442 80.534017190 -69.474046113 80.629901790 -69.466865561 80.608579256 -69.431918568
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:46,809 - stcal.outlier_detection.utils - INFO - Blotting (1024, 1032) &lt;-- (1160, 1116)
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:46,895 - jwst.outlier_detection.utils - INFO - 237 pixels marked as outliers
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:47,552 - stcal.outlier_detection.utils - INFO - Blotting (1024, 1032) &lt;-- (1160, 1116)
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:47,625 - jwst.outlier_detection.utils - INFO - 217 pixels marked as outliers
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:48,286 - stcal.outlier_detection.utils - INFO - Blotting (1024, 1032) &lt;-- (1160, 1116)
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:48,358 - jwst.outlier_detection.utils - INFO - 170 pixels marked as outliers
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:49,004 - stcal.outlier_detection.utils - INFO - Blotting (1024, 1032) &lt;-- (1160, 1116)
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:49,076 - jwst.outlier_detection.utils - INFO - 209 pixels marked as outliers
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:49,725 - stcal.outlier_detection.utils - INFO - Blotting (1024, 1032) &lt;-- (1160, 1116)
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:49,799 - jwst.outlier_detection.utils - INFO - 153 pixels marked as outliers
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:49,957 - stpipe.Image3Pipeline.outlier_detection - INFO - Saved model in ./mir_im_demo_data/Obs001/stage3/jw01040001005_03103_00001_mirimage_a3001_crf.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:50,111 - stpipe.Image3Pipeline.outlier_detection - INFO - Saved model in ./mir_im_demo_data/Obs001/stage3/jw01040001005_03103_00002_mirimage_a3001_crf.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:50,264 - stpipe.Image3Pipeline.outlier_detection - INFO - Saved model in ./mir_im_demo_data/Obs001/stage3/jw01040001005_03103_00003_mirimage_a3001_crf.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:50,417 - stpipe.Image3Pipeline.outlier_detection - INFO - Saved model in ./mir_im_demo_data/Obs001/stage3/jw01040001005_03103_00004_mirimage_a3001_crf.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:50,574 - stpipe.Image3Pipeline.outlier_detection - INFO - Saved model in ./mir_im_demo_data/Obs001/stage3/jw01040001005_03103_00005_mirimage_a3001_crf.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:50,575 - stpipe.Image3Pipeline.outlier_detection - INFO - Step outlier_detection done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:50,742 - stpipe.Image3Pipeline.resample - INFO - Step resample running with args (&lt;jwst.datamodels.library.ModelLibrary object at 0x7f9d346348d0&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:50,799 - jwst.resample.resample_utils - INFO - Pixel scale ratio (pscale_out/pscale_in): 1.0
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:50,800 - jwst.resample.resample_utils - INFO - Computed output pixel scale: 0.11091590874981953 arcsec.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:50,815 - stcal.resample.resample - INFO - Output pixel scale: 0.11091590874981953 arcsec.
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:50,816 - stcal.resample.resample - INFO - Driz parameter kernel: square
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:50,816 - stcal.resample.resample - INFO - Driz parameter pixfrac: 1.0
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:50,817 - stcal.resample.resample - INFO - Driz parameter fillval: NAN
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:50,817 - stcal.resample.resample - INFO - Driz parameter weight_type: exptime
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:50,823 - jwst.resample.resample - INFO - Resampling science and variance data
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:51,264 - stcal.resample.resample - INFO - Resampling science and variance data
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:51,508 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --&gt; (1160, 1116)
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:51,704 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --&gt; (1160, 1116)
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:51,902 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --&gt; (1160, 1116)
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:52,771 - stcal.resample.resample - INFO - Resampling science and variance data
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:53,016 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --&gt; (1160, 1116)
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:53,212 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --&gt; (1160, 1116)
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:53,409 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --&gt; (1160, 1116)
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:54,221 - stcal.resample.resample - INFO - Resampling science and variance data
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:54,465 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --&gt; (1160, 1116)
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:54,661 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --&gt; (1160, 1116)
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:54,859 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --&gt; (1160, 1116)
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:55,675 - stcal.resample.resample - INFO - Resampling science and variance data
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:55,919 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --&gt; (1160, 1116)
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:56,115 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --&gt; (1160, 1116)
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:56,313 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --&gt; (1160, 1116)
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:57,129 - stcal.resample.resample - INFO - Resampling science and variance data
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:57,379 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --&gt; (1160, 1116)
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:57,582 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --&gt; (1160, 1116)
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:57,781 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --&gt; (1160, 1116)
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:58,215 - stcal.alignment.util - INFO - Update S_REGION to POLYGON ICRS  80.512843494 -69.439087442 80.534017190 -69.474046113 80.629901790 -69.466865561 80.608579256 -69.431918568
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:58,443 - stpipe.Image3Pipeline.resample - INFO - Saved model in ./mir_im_demo_data/Obs001/stage3/image3_association_i2d.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:58,444 - stpipe.Image3Pipeline.resample - INFO - Step resample done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:58,623 - stpipe.Image3Pipeline.source_catalog - INFO - Step source_catalog running with args (&lt;ImageModel(1160, 1116) from image3_association_i2d.fits&gt;,).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:58,650 - stpipe.Image3Pipeline.source_catalog - INFO - Using APCORR reference file: /home/runner/crds/references/jwst/miri/jwst_miri_apcorr_0014.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:58,653 - stpipe.Image3Pipeline.source_catalog - INFO - Using ABVEGAOFFSET reference file: /home/runner/crds/references/jwst/miri/jwst_miri_abvegaoffset_0002.asdf
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:58,653 - jwst.source_catalog.reference_data - INFO - Instrument: MIRI
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:58,654 - jwst.source_catalog.reference_data - INFO - Detector: MIRIMAGE
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:58,655 - jwst.source_catalog.reference_data - INFO - Filter: F770W
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:58,655 - jwst.source_catalog.reference_data - INFO - Subarray: FULL
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:58,693 - jwst.source_catalog.reference_data - INFO - AB to Vega magnitude offset 4.38398
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:58,809 - jwst.source_catalog.detection - INFO - Background could not be estimated in meshes. Using the entire unmasked array for background estimation: bkg_boxsize=(1160, 1116).
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:58,922 - jwst.source_catalog.detection - INFO - Detected 705 sources
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:59,466 - stpipe.Image3Pipeline.source_catalog - INFO - Wrote source catalog: ./mir_im_demo_data/Obs001/stage3/image3_association_cat.ecsv
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:59,563 - stpipe.Image3Pipeline.source_catalog - INFO - Saved model in ./mir_im_demo_data/Obs001/stage3/image3_association_segm.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:59,564 - stpipe.Image3Pipeline.source_catalog - INFO - Wrote segmentation map: image3_association_segm.fits
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:59,565 - stpipe.Image3Pipeline.source_catalog - INFO - Step source_catalog done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:59,574 - stpipe.Image3Pipeline - INFO - Step Image3Pipeline done
</span></code></pre></div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>2025-11-19 20:27:59,574 - jwst.stpipe.core - INFO - Results used jwst version: 1.19.1
</span></code></pre></div></div></div></div><div id="WQ6zGo57dt" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Print out the time benchmark
time1 = time.perf_counter()
print(f&quot;Runtime so far: {time1 - time0:0.0f} seconds&quot;)
print(f&quot;Runtime for Image3: {time1 - time_image3:0.0f} seconds&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="tlf0FST4LmJd48OY5PCDN" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>Runtime so far: 108 seconds
Runtime for Image3: 25 seconds
</span></code></pre></div></div></div></div><div id="c3M3gDWp2Q" class="myst-jp-nb-block relative group/block"><h3 id="verify-which-pipeline-steps-were-run-and-reference-files-used-1" class="relative group"><span class="heading-text">Verify which pipeline steps were run and reference files used</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#verify-which-pipeline-steps-were-run-and-reference-files-used-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h3></div><div id="pEb23CC0H7" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">if doimage3:
    # Identify *_i2d file and open as datamodel
    i2d = glob.glob(os.path.join(image3_dir, &quot;*_i2d.fits&quot;))[0]
    i2d_f = datamodels.open(i2d)

    # Check which steps were run
    i2d_f.meta.cal_step.instance

    # Check which reference files were used to calibrate the dataset
    i2d_f.meta.ref_file.instance</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="o8EEgYdqhD-_Ko9p5ZLZB" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-text" class="font-mono text-sm whitespace-pre-wrap myst-jp-safe-output-text"><code><span>{&#x27;assign_wcs&#x27;: &#x27;COMPLETE&#x27;,
 &#x27;charge_migration&#x27;: &#x27;SKIPPED&#x27;,
 &#x27;clean_flicker_noise&#x27;: &#x27;SKIPPED&#x27;,
 &#x27;dark_sub&#x27;: &#x27;COMPLETE&#x27;,
 &#x27;dq_init&#x27;: &#x27;COMPLETE&#x27;,
 &#x27;emicorr&#x27;: &#x27;COMPLETE&#x27;,
 &#x27;firstframe&#x27;: &#x27;COMPLETE&#x27;,
 &#x27;flat_field&#x27;: &#x27;COMPLETE&#x27;,
 &#x27;gain_scale&#x27;: &#x27;SKIPPED&#x27;,
 &#x27;group_scale&#x27;: &#x27;SKIPPED&#x27;,
 &#x27;ipc&#x27;: &#x27;SKIPPED&#x27;,
 &#x27;jump&#x27;: &#x27;COMPLETE&#x27;,
 &#x27;lastframe&#x27;: &#x27;COMPLETE&#x27;,
 &#x27;linearity&#x27;: &#x27;COMPLETE&#x27;,
 &#x27;outlier_detection&#x27;: &#x27;COMPLETE&#x27;,
 &#x27;photom&#x27;: &#x27;COMPLETE&#x27;,
 &#x27;ramp_fit&#x27;: &#x27;COMPLETE&#x27;,
 &#x27;refpix&#x27;: &#x27;SKIPPED&#x27;,
 &#x27;resample&#x27;: &#x27;COMPLETE&#x27;,
 &#x27;reset&#x27;: &#x27;COMPLETE&#x27;,
 &#x27;rscd&#x27;: &#x27;COMPLETE&#x27;,
 &#x27;saturation&#x27;: &#x27;COMPLETE&#x27;,
 &#x27;skymatch&#x27;: &#x27;COMPLETE&#x27;,
 &#x27;tweakreg&#x27;: &#x27;COMPLETE&#x27;}</span></code></div><div data-name="safe-output-text" class="font-mono text-sm whitespace-pre-wrap myst-jp-safe-output-text"><code><span>{&#x27;area&#x27;: {&#x27;name&#x27;: &#x27;crds://jwst_miri_area_0006.fits&#x27;},
 &#x27;camera&#x27;: {&#x27;name&#x27;: &#x27;N/A&#x27;},
 &#x27;collimator&#x27;: {&#x27;name&#x27;: &#x27;N/A&#x27;},
 &#x27;crds&#x27;: {&#x27;context_used&#x27;: &#x27;jwst_1413.pmap&#x27;, &#x27;sw_version&#x27;: &#x27;13.0.6&#x27;},
 &#x27;dark&#x27;: {&#x27;name&#x27;: &#x27;crds://jwst_miri_dark_0113.fits&#x27;},
 &#x27;dflat&#x27;: {&#x27;name&#x27;: &#x27;N/A&#x27;},
 &#x27;disperser&#x27;: {&#x27;name&#x27;: &#x27;N/A&#x27;},
 &#x27;distortion&#x27;: {&#x27;name&#x27;: &#x27;crds://jwst_miri_distortion_0047.asdf&#x27;},
 &#x27;emicorr&#x27;: {&#x27;name&#x27;: &#x27;crds://jwst_miri_emicorr_0003.asdf&#x27;},
 &#x27;fflat&#x27;: {&#x27;name&#x27;: &#x27;N/A&#x27;},
 &#x27;filteroffset&#x27;: {&#x27;name&#x27;: &#x27;crds://jwst_miri_filteroffset_0008.asdf&#x27;},
 &#x27;flat&#x27;: {&#x27;name&#x27;: &#x27;crds://jwst_miri_flat_0829.fits&#x27;},
 &#x27;fore&#x27;: {&#x27;name&#x27;: &#x27;N/A&#x27;},
 &#x27;fpa&#x27;: {&#x27;name&#x27;: &#x27;N/A&#x27;},
 &#x27;gain&#x27;: {&#x27;name&#x27;: &#x27;crds://jwst_miri_gain_0034.fits&#x27;},
 &#x27;ifufore&#x27;: {&#x27;name&#x27;: &#x27;N/A&#x27;},
 &#x27;ifupost&#x27;: {&#x27;name&#x27;: &#x27;N/A&#x27;},
 &#x27;ifuslicer&#x27;: {&#x27;name&#x27;: &#x27;N/A&#x27;},
 &#x27;linearity&#x27;: {&#x27;name&#x27;: &#x27;crds://jwst_miri_linearity_0032.fits&#x27;},
 &#x27;mask&#x27;: {&#x27;name&#x27;: &#x27;crds://jwst_miri_mask_0036.fits&#x27;},
 &#x27;msa&#x27;: {&#x27;name&#x27;: &#x27;N/A&#x27;},
 &#x27;ote&#x27;: {&#x27;name&#x27;: &#x27;N/A&#x27;},
 &#x27;photom&#x27;: {&#x27;name&#x27;: &#x27;crds://jwst_miri_photom_0218.fits&#x27;},
 &#x27;readnoise&#x27;: {&#x27;name&#x27;: &#x27;crds://jwst_miri_readnoise_0085.fits&#x27;},
 &#x27;regions&#x27;: {&#x27;name&#x27;: &#x27;N/A&#x27;},
 &#x27;reset&#x27;: {&#x27;name&#x27;: &#x27;crds://jwst_miri_reset_0077.fits&#x27;},
 &#x27;rscd&#x27;: {&#x27;name&#x27;: &#x27;crds://jwst_miri_rscd_0017.fits&#x27;},
 &#x27;saturation&#x27;: {&#x27;name&#x27;: &#x27;crds://jwst_miri_saturation_0034.fits&#x27;},
 &#x27;sflat&#x27;: {&#x27;name&#x27;: &#x27;N/A&#x27;},
 &#x27;specwcs&#x27;: {&#x27;name&#x27;: &#x27;N/A&#x27;},
 &#x27;superbias&#x27;: {&#x27;name&#x27;: &#x27;N/A&#x27;},
 &#x27;wavelengthrange&#x27;: {&#x27;name&#x27;: &#x27;N/A&#x27;}}</span></code></div></div></div><div id="W0yab0NJSM" class="myst-jp-nb-block relative group/block"><hr class="py-2 my-5 translate-y-2"/></div><div id="H1EkjJ1fgn" class="myst-jp-nb-block relative group/block"><h2 id="id-8-visualize-the-drizzle-combined-image" class="relative group"><span class="heading-text">8. Visualize the drizzle-combined image</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-8-visualize-the-drizzle-combined-image" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>We will use matplotlib routines for visualizing the data. Display the combined i2d image.</p></div><div id="eEnY0550Ex" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">if doviz:
    # Look at the final i2d image (combined mosaic)
    sstring = os.path.join(image3_dir, &#x27;*i2d.fits&#x27;)
    miri_mosaic_file = glob.glob(sstring)
    print(miri_mosaic_file)

    # Read your mosaic image into an ImageModel datamodel
    miri_mosaic = ImageModel(miri_mosaic_file[0])
    
    # Autoscale the stretch
    display_vals = [np.nanpercentile(miri_mosaic.data, 1), np.nanpercentile(miri_mosaic.data, 99)]

    plt.figure(figsize=(8, 8))

    fig, ax = plt.subplots(figsize=(8, 8))

    # Set up image
    cax = ax.imshow(miri_mosaic.data, cmap=&#x27;Greys&#x27;, origin=&#x27;lower&#x27;, vmin=display_vals[0], vmax=display_vals[1])

    # Set up colorbar
    cb = fig.colorbar(cax, fraction=0.046)
    cb.ax.set_ylabel(&#x27;MJy/str&#x27;, fontsize=14)

    # Set labels 
    ax.set_xlabel(&#x27;X&#x27;, fontsize=16)
    ax.set_ylabel(&#x27;Y&#x27;, fontsize=16)
    ax.set_title(&#x27;Final MIRI mosaic&#x27;, fontsize=16)
    plt.tight_layout()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="HJxA2Zt1gTchpeween6HS" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>[&#x27;./mir_im_demo_data/Obs001/stage3/image3_association_i2d.fits&#x27;]
</span></code></pre></div></div><div data-name="safe-output-text" class="font-mono text-sm whitespace-pre-wrap myst-jp-safe-output-text"><code><span>&lt;Figure size 800x800 with 0 Axes&gt;</span></code></div><div data-name="safe-output-image"><img src="/build/b15039575f8beb496d106dd1b3b95136.png" alt="&lt;Figure size 800x800 with 2 Axes&gt;"/></div></div></div><div id="fOJS1ed2a7" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">display_vals</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="v9QfKfFx8ZRo_gmOg56wI" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-text" class="font-mono text-sm whitespace-pre-wrap myst-jp-safe-output-text"><code><span>[np.float32(4.089625), np.float32(5.5585766)]</span></code></div></div></div><div id="so6Q36C52X" class="myst-jp-nb-block relative group/block"><h2 id="visualize-detected-sources" class="relative group"><span class="heading-text"><a class="link" href="/">Visualize Detected Sources</a></span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#visualize-detected-sources" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Using the source catalog created by the <code>IMAGE3</code> stage of the pipeline,
mark the detected sources, using different markers for point sources
and extended sources. The source catalog is saved in
<code>image3/image3_association_cat.ecsv</code> file.</p></div><div id="ADLqmfqXSz" class="myst-jp-nb-block relative group/block"><h3 id="read-in-catalog-file-and-identify-point-extended-sources" class="relative group"><span class="heading-text">Read in catalog file and identify point/extended sources</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#read-in-catalog-file-and-identify-point-extended-sources" title="Link to this Section" aria-label="Link to this Section">¶</a></h3></div><div id="spNqTBSOO5" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">if doviz:
    catalog_file = glob.glob(os.path.join(image3_dir, &quot;*_cat.ecsv&quot;))[0]
    catalog = Table.read(catalog_file)

    # find where sources are considered extended or point sources
    pt_src, = np.where(~catalog[&#x27;is_extended&#x27;])
    ext_src, = np.where(catalog[&#x27;is_extended&#x27;])

    # Get x and y coordinates of the objects found 
    miri_x = catalog[&#x27;xcentroid&#x27;][pt_src]
    miri_y = catalog[&#x27;ycentroid&#x27;][pt_src]

    ext_x = catalog[&#x27;xcentroid&#x27;][ext_src]
    ext_y = catalog[&#x27;ycentroid&#x27;][ext_src]

    # Show catalog
    catalog</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="Qcjfwbnct_AW2drkoW0iU" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="cN4Jw89yTT" class="myst-jp-nb-block relative group/block"><h3 id="mark-the-extended-and-point-sources-on-the-image" class="relative group"><span class="heading-text">Mark the extended and point sources on the image</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#mark-the-extended-and-point-sources-on-the-image" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Display combined image with point sources marked with red dots and extended sources marked with blue triangles. You will see that there are a grouping of sources near the top edge of the MIRI image, several of which may be spurious sources, which tend to be found near image edges.</p></div><div id="OyN0xMSxDh" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">if doviz:
    # Look at mosaic data and sources found with source_catalog
    fig, ax = plt.subplots(figsize=(8, 8))

    # Set up image
    cax = ax.imshow(miri_mosaic.data, cmap=&#x27;Greys&#x27;, origin=&#x27;lower&#x27;, vmin=display_vals[0], vmax=display_vals[1])
    ax.scatter(miri_x, miri_y, lw=1, s=10, color=&#x27;red&#x27;)  # overplot point source positions
    ax.scatter(ext_x, ext_y, lw=1, s=20, color=&#x27;blue&#x27;, marker=&#x27;v&#x27;)  # overplot extended source positions

    # Set up colorbar
    cb = fig.colorbar(cax, fraction=0.046)
    cb.ax.set_ylabel(&#x27;MJy/str&#x27;, fontsize=14)

    # Set labels
    ax.set_xlabel(&#x27;X&#x27;, fontsize=16)
    ax.set_ylabel(&#x27;Y&#x27;, fontsize=16)
    ax.set_title(&#x27;Final MIRI mosaic&#x27;, fontsize=16)
    plt.tight_layout()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="uS-2-4b6hsbLGEeIyCXev" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-image"><img src="/build/877c06aac3e2de7bc19192dc6ca391cb.png" alt="&lt;Figure size 800x800 with 2 Axes&gt;"/></div></div></div><div id="Kj1zOeT6HO" class="myst-jp-nb-block relative group/block"><hr class="py-2 my-5 translate-y-2"/></div><div id="QQvFo73ypi" class="myst-jp-nb-block relative group/block"><img id="Opqc61iErV" style="width:200px;margin-left:auto;margin-right:auto" src="/build/a20cd1d49db2811c967bb509ffb59ecf.png" alt="stsci_logo" data-canonical-url="https://github.com/spacetelescope/jwst-pipeline-notebooks/raw/main/_static/stsci_footer.png" class=""/></div><div class="myst-backmatter-parts"></div><div class="myst-footer-links flex pt-10 mb-10 space-x-4"><a class="myst-footer-link flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700 myst-footer-link-prev" href="/notebooks/miri/coronagraphy/jwpipenb-miri-coron"><div class="flex h-full align-middle"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="myst-footer-link-icon self-center transition-transform group-hover:-translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"></path></svg><div class="flex-grow text-right"><div class="myst-footer-link-group text-xs text-gray-500 dark:text-gray-400">MIRI</div>MIRI Coronagraphy Notebook</div></div></a><a class="myst-footer-link flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700 myst-footer-link-next" href="/notebooks/miri/imaging-tso/jwpipenb-miri-imaging-tso"><div class="flex h-full align-middle"><div class="flex-grow"><div class="myst-footer-link-group text-xs text-gray-500 dark:text-gray-400">MIRI</div>MIRI Imaging TSO Notebook</div><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="myst-footer-link-icon self-center transition-transform group-hover:translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"></path></svg></div></a></div></article></main><script>((a,l)=>{if(!window.history.state||!window.history.state.key){let u=Math.random().toString(32).slice(2);window.history.replaceState({key:u},"")}try{let d=JSON.parse(sessionStorage.getItem(a)||"{}")[l||window.history.state.key];typeof d=="number"&&window.scrollTo(0,d)}catch(u){console.error(u),sessionStorage.removeItem(a)}})("positions", null)</script><link rel="modulepreload" href="/build/entry.client-PCJPW7TK.js"/><link rel="modulepreload" href="/build/_shared/chunk-AQ2CODAG.js"/><link rel="modulepreload" href="/build/_shared/chunk-JJXTQVMA.js"/><link rel="modulepreload" href="/build/_shared/chunk-OZE3FFNP.js"/><link rel="modulepreload" href="/build/_shared/chunk-7UUHRSK3.js"/><link rel="modulepreload" href="/build/_shared/chunk-C4DFGG5C.js"/><link rel="modulepreload" href="/build/_shared/chunk-J7TUH54J.js"/><link rel="modulepreload" href="/build/_shared/chunk-FZ2S7OYD.js"/><link rel="modulepreload" href="/build/_shared/chunk-JEM6JXYA.js"/><link rel="modulepreload" href="/build/_shared/chunk-34XIY2DH.js"/><link rel="modulepreload" href="/build/_shared/chunk-KQM5FBHR.js"/><link rel="modulepreload" href="/build/_shared/chunk-OCWQY3HK.js"/><link rel="modulepreload" href="/build/_shared/chunk-7HNKBP4B.js"/><link rel="modulepreload" href="/build/_shared/chunk-CUKUDK3R.js"/><link rel="modulepreload" href="/build/_shared/chunk-3EBOCCHJ.js"/><link rel="modulepreload" href="/build/_shared/chunk-O4VQNZ62.js"/><link rel="modulepreload" href="/build/_shared/chunk-4OEDG4JQ.js"/><link rel="modulepreload" href="/build/_shared/chunk-GUCIBHGO.js"/><link rel="modulepreload" href="/build/root-EDJFWIEV.js"/><link rel="modulepreload" href="/build/_shared/chunk-ECLX7DIY.js"/><link rel="modulepreload" href="/build/routes/$-AD65NCUT.js"/><script>window.__remixContext = {"url":"/notebooks/miri/imaging/jwpipenb-miri-imaging","state":{"loaderData":{"root":{"config":{"version":3,"myst":"1.8.0","options":{"folders":true},"nav":[],"actions":[],"projects":[{"exports":[],"title":"JWST Pipeline Notebooks","authors":[{"nameParsed":{"literal":"STScI","family":"STScI"},"name":"STScI","id":"contributors-myst-generated-uid-0"}],"github":"https://github.com/spacetelescope/notebook-ci-testing","copyright":"2024","thebe":{"binder":{"url":"https://mybinder.org","provider":"github","repo":"https://github.com/spacetelescope/notebook-ci-testing","ref":"main"}},"toc":[{"file":"README.md"},{"children":[{"file":"notebooks/MIRI/Coronagraphy/JWPipeNB-MIRI-Coron.ipynb","title":"MIRI Coronagraphy Notebook"},{"file":"notebooks/MIRI/Imaging/JWPipeNB-MIRI-imaging.ipynb","title":"MIRI Imaging Notebook"},{"file":"notebooks/MIRI/Imaging-TSO/JWPipeNB-MIRI-imaging-TSO.ipynb","title":"MIRI Imaging TSO Notebook"},{"file":"notebooks/MIRI/LRS-slit/JWPipeNB-MIRI-LRS-slit.ipynb","title":"MIRI LRS Slit Notebook"},{"file":"notebooks/MIRI/LRS-slitless-TSO/JWPipeNB-MIRI-LRS-slitless-TSO.ipynb","title":"MIRI LRS Slitless TSO Notebook"},{"file":"notebooks/MIRI/MRS/JWPipeNB-MIRI-MRS.ipynb","title":"MIRI MRS Notebook"}],"title":"MIRI"},{"children":[{"file":"notebooks/NIRCAM/Coronagraphy/JWPipeNB-nircam-coronagraphy.ipynb","title":"NIRCam Coronagraphy Notebook"},{"file":"notebooks/NIRCAM/Imaging/JWPipeNB-nircam-imaging.ipynb","title":"NIRCam Imaging Notebook"}],"title":"NIRCAM"},{"children":[{"file":"notebooks/NIRISS/AMI/JWPipeNB-niriss-ami.ipynb","title":"NIRISS AMI Notebook"},{"file":"notebooks/NIRISS/Imaging/JWPipeNB-niriss-imaging.ipynb","title":"NIRISS Imaging Notebook"},{"file":"notebooks/NIRISS/SOSS/JWPipeNB-niriss-soss.ipynb","title":"NIRISS Single Object Slitless Spectroscopy Notebook"},{"file":"notebooks/NIRISS/WFSS/JWPipeNB-niriss-wfss.ipynb","title":"NIRISS Wide Field Slitless Spectroscopy Notebook"}],"title":"NIRISS"},{"children":[{"file":"notebooks/NIRSPEC/BOTS/JWPipeNB-NIRSpec-BOTS.ipynb","title":"NIRSpec BOTS Notebook"},{"file":"notebooks/NIRSPEC/FSlit/JWPipeNB-NIRSpec-FS.ipynb","title":"NIRSpec Fixed Slit Notebook"},{"file":"notebooks/NIRSPEC/IFU/JWPipeNB-NIRSpec-IFU.ipynb","title":"NIRSpec IFU Notebook"},{"file":"notebooks/NIRSPEC/MOS/JWPipeNB-NIRSpec-MOS.ipynb","title":"NIRSpec MOS Notebook"}],"title":"NIRSpec"}],"bibliography":[],"index":"index","pages":[{"level":1,"title":"MIRI"},{"slug":"notebooks.miri.coronagraphy.jwpipenb-miri-coron","title":"MIRI Conagraphy Pipeline Notebook","short_title":"MIRI Coronagraphy Notebook","description":"","date":"","thumbnail":"/build/d28265d85bf85e9f858ef5629b9e2037.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.miri.imaging.jwpipenb-miri-imaging","title":"MIRI Imaging Pipeline Notebook","short_title":"MIRI Imaging Notebook","description":"","date":"","thumbnail":"/build/d28265d85bf85e9f858ef5629b9e2037.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.miri.imaging-tso.jwpipenb-miri-imaging-tso","title":"MIRI Imaging TSO Pipeline Notebook","short_title":"MIRI Imaging TSO Notebook","description":"","date":"","thumbnail":"/build/d28265d85bf85e9f858ef5629b9e2037.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.miri.lrs-slit.jwpipenb-miri-lrs-slit","title":"MIRI LRS Slit Mode Pipeline Notebook","short_title":"MIRI LRS Slit Notebook","description":"","date":"","thumbnail":"/build/d28265d85bf85e9f858ef5629b9e2037.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.miri.lrs-slitless-tso.jwpipenb-miri-lrs-slitless-tso","title":"MIRI LRS Slitless Mode TSO Pipeline Notebook","short_title":"MIRI LRS Slitless TSO Notebook","description":"","date":"","thumbnail":"/build/d28265d85bf85e9f858ef5629b9e2037.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.miri.mrs.jwpipenb-miri-mrs","title":"MIRI MRS Pipeline Notebook","short_title":"MIRI MRS Notebook","description":"","date":"","thumbnail":"/build/d28265d85bf85e9f858ef5629b9e2037.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"NIRCAM"},{"slug":"notebooks.nircam.coronagraphy.jwpipenb-nircam-coronagraphy","title":"NIRCam Coronagraphy Pipeline Notebook","short_title":"NIRCam Coronagraphy Notebook","description":"","date":"","thumbnail":"/build/d28265d85bf85e9f858ef5629b9e2037.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.nircam.imaging.jwpipenb-nircam-imaging","title":"NIRCam Imaging Pipeline Notebook","short_title":"NIRCam Imaging Notebook","description":"","date":"","thumbnail":"/build/d28265d85bf85e9f858ef5629b9e2037.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"NIRISS"},{"slug":"notebooks.niriss.ami.jwpipenb-niriss-ami","title":"NIRISS AMI Pipeline Notebook","short_title":"NIRISS AMI Notebook","description":"","date":"","thumbnail":"/build/d28265d85bf85e9f858ef5629b9e2037.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.niriss.imaging.jwpipenb-niriss-imaging","title":"NIRISS Imaging Pipeline Notebook","short_title":"NIRISS Imaging Notebook","description":"","date":"","thumbnail":"/build/d28265d85bf85e9f858ef5629b9e2037.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"NIRSpec"},{"slug":"notebooks.nirspec.bots.jwpipenb-nirspec-bots","title":"NIRSpec BOTS Pipeline Notebook","short_title":"NIRSpec BOTS Notebook","description":"","date":"","thumbnail":"/build/d28265d85bf85e9f858ef5629b9e2037.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.nirspec.fslit.jwpipenb-nirspec-fs","title":"NIRSpec FS Pipeline Notebook","short_title":"NIRSpec Fixed Slit Notebook","description":"","date":"","thumbnail":"/build/d28265d85bf85e9f858ef5629b9e2037.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.nirspec.ifu.jwpipenb-nirspec-ifu","title":"NIRSpec IFU Pipeline Notebook","short_title":"NIRSpec IFU Notebook","description":"","date":"","thumbnail":"/build/d28265d85bf85e9f858ef5629b9e2037.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.nirspec.mos.jwpipenb-nirspec-mos","title":"NIRSpec MOS Pipeline Notebook","short_title":"NIRSpec MOS Notebook","description":"","date":"","thumbnail":"/build/d28265d85bf85e9f858ef5629b9e2037.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}]},"CONTENT_CDN_PORT":"3100","MODE":"static"},"routes/$":{"config":{"version":3,"myst":"1.8.0","options":{"folders":true},"nav":[],"actions":[],"projects":[{"exports":[],"title":"JWST Pipeline Notebooks","authors":[{"nameParsed":{"literal":"STScI","family":"STScI"},"name":"STScI","id":"contributors-myst-generated-uid-0"}],"github":"https://github.com/spacetelescope/notebook-ci-testing","copyright":"2024","thebe":{"binder":{"url":"https://mybinder.org","provider":"github","repo":"https://github.com/spacetelescope/notebook-ci-testing","ref":"main"}},"toc":[{"file":"README.md"},{"children":[{"file":"notebooks/MIRI/Coronagraphy/JWPipeNB-MIRI-Coron.ipynb","title":"MIRI Coronagraphy Notebook"},{"file":"notebooks/MIRI/Imaging/JWPipeNB-MIRI-imaging.ipynb","title":"MIRI Imaging Notebook"},{"file":"notebooks/MIRI/Imaging-TSO/JWPipeNB-MIRI-imaging-TSO.ipynb","title":"MIRI Imaging TSO Notebook"},{"file":"notebooks/MIRI/LRS-slit/JWPipeNB-MIRI-LRS-slit.ipynb","title":"MIRI LRS Slit Notebook"},{"file":"notebooks/MIRI/LRS-slitless-TSO/JWPipeNB-MIRI-LRS-slitless-TSO.ipynb","title":"MIRI LRS Slitless TSO Notebook"},{"file":"notebooks/MIRI/MRS/JWPipeNB-MIRI-MRS.ipynb","title":"MIRI MRS Notebook"}],"title":"MIRI"},{"children":[{"file":"notebooks/NIRCAM/Coronagraphy/JWPipeNB-nircam-coronagraphy.ipynb","title":"NIRCam Coronagraphy Notebook"},{"file":"notebooks/NIRCAM/Imaging/JWPipeNB-nircam-imaging.ipynb","title":"NIRCam Imaging Notebook"}],"title":"NIRCAM"},{"children":[{"file":"notebooks/NIRISS/AMI/JWPipeNB-niriss-ami.ipynb","title":"NIRISS AMI Notebook"},{"file":"notebooks/NIRISS/Imaging/JWPipeNB-niriss-imaging.ipynb","title":"NIRISS Imaging Notebook"},{"file":"notebooks/NIRISS/SOSS/JWPipeNB-niriss-soss.ipynb","title":"NIRISS Single Object Slitless Spectroscopy Notebook"},{"file":"notebooks/NIRISS/WFSS/JWPipeNB-niriss-wfss.ipynb","title":"NIRISS Wide Field Slitless Spectroscopy Notebook"}],"title":"NIRISS"},{"children":[{"file":"notebooks/NIRSPEC/BOTS/JWPipeNB-NIRSpec-BOTS.ipynb","title":"NIRSpec BOTS Notebook"},{"file":"notebooks/NIRSPEC/FSlit/JWPipeNB-NIRSpec-FS.ipynb","title":"NIRSpec Fixed Slit Notebook"},{"file":"notebooks/NIRSPEC/IFU/JWPipeNB-NIRSpec-IFU.ipynb","title":"NIRSpec IFU Notebook"},{"file":"notebooks/NIRSPEC/MOS/JWPipeNB-NIRSpec-MOS.ipynb","title":"NIRSpec MOS Notebook"}],"title":"NIRSpec"}],"bibliography":[],"index":"index","pages":[{"level":1,"title":"MIRI"},{"slug":"notebooks.miri.coronagraphy.jwpipenb-miri-coron","title":"MIRI Conagraphy Pipeline Notebook","short_title":"MIRI Coronagraphy Notebook","description":"","date":"","thumbnail":"/build/d28265d85bf85e9f858ef5629b9e2037.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.miri.imaging.jwpipenb-miri-imaging","title":"MIRI Imaging Pipeline Notebook","short_title":"MIRI Imaging Notebook","description":"","date":"","thumbnail":"/build/d28265d85bf85e9f858ef5629b9e2037.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.miri.imaging-tso.jwpipenb-miri-imaging-tso","title":"MIRI Imaging TSO Pipeline Notebook","short_title":"MIRI Imaging TSO Notebook","description":"","date":"","thumbnail":"/build/d28265d85bf85e9f858ef5629b9e2037.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.miri.lrs-slit.jwpipenb-miri-lrs-slit","title":"MIRI LRS Slit Mode Pipeline Notebook","short_title":"MIRI LRS Slit Notebook","description":"","date":"","thumbnail":"/build/d28265d85bf85e9f858ef5629b9e2037.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.miri.lrs-slitless-tso.jwpipenb-miri-lrs-slitless-tso","title":"MIRI LRS Slitless Mode TSO Pipeline Notebook","short_title":"MIRI LRS Slitless TSO Notebook","description":"","date":"","thumbnail":"/build/d28265d85bf85e9f858ef5629b9e2037.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.miri.mrs.jwpipenb-miri-mrs","title":"MIRI MRS Pipeline Notebook","short_title":"MIRI MRS Notebook","description":"","date":"","thumbnail":"/build/d28265d85bf85e9f858ef5629b9e2037.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"NIRCAM"},{"slug":"notebooks.nircam.coronagraphy.jwpipenb-nircam-coronagraphy","title":"NIRCam Coronagraphy Pipeline Notebook","short_title":"NIRCam Coronagraphy Notebook","description":"","date":"","thumbnail":"/build/d28265d85bf85e9f858ef5629b9e2037.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.nircam.imaging.jwpipenb-nircam-imaging","title":"NIRCam Imaging Pipeline Notebook","short_title":"NIRCam Imaging Notebook","description":"","date":"","thumbnail":"/build/d28265d85bf85e9f858ef5629b9e2037.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"NIRISS"},{"slug":"notebooks.niriss.ami.jwpipenb-niriss-ami","title":"NIRISS AMI Pipeline Notebook","short_title":"NIRISS AMI Notebook","description":"","date":"","thumbnail":"/build/d28265d85bf85e9f858ef5629b9e2037.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.niriss.imaging.jwpipenb-niriss-imaging","title":"NIRISS Imaging Pipeline Notebook","short_title":"NIRISS Imaging Notebook","description":"","date":"","thumbnail":"/build/d28265d85bf85e9f858ef5629b9e2037.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"NIRSpec"},{"slug":"notebooks.nirspec.bots.jwpipenb-nirspec-bots","title":"NIRSpec BOTS Pipeline Notebook","short_title":"NIRSpec BOTS Notebook","description":"","date":"","thumbnail":"/build/d28265d85bf85e9f858ef5629b9e2037.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.nirspec.fslit.jwpipenb-nirspec-fs","title":"NIRSpec FS Pipeline Notebook","short_title":"NIRSpec Fixed Slit Notebook","description":"","date":"","thumbnail":"/build/d28265d85bf85e9f858ef5629b9e2037.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.nirspec.ifu.jwpipenb-nirspec-ifu","title":"NIRSpec IFU Pipeline Notebook","short_title":"NIRSpec IFU Notebook","description":"","date":"","thumbnail":"/build/d28265d85bf85e9f858ef5629b9e2037.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.nirspec.mos.jwpipenb-nirspec-mos","title":"NIRSpec MOS Pipeline Notebook","short_title":"NIRSpec MOS Notebook","description":"","date":"","thumbnail":"/build/d28265d85bf85e9f858ef5629b9e2037.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}]},"page":{"version":3,"kind":"Notebook","sha256":"8da39d54b12b950ca2d082b0291b9d24f6d040cef1946d4d04299cdf907beea7","slug":"notebooks.miri.imaging.jwpipenb-miri-imaging","location":"/notebooks/MIRI/Imaging/JWPipeNB-MIRI-imaging.ipynb","dependencies":[],"frontmatter":{"title":"MIRI Imaging Pipeline Notebook","content_includes_title":true,"kernelspec":{"name":"python3","display_name":"Python 3 (ipykernel)","language":"python"},"authors":[{"nameParsed":{"literal":"STScI","family":"STScI"},"name":"STScI","id":"contributors-myst-generated-uid-0"}],"github":"https://github.com/spacetelescope/notebook-ci-testing","copyright":"2024","numbering":{"title":{"offset":1}},"source_url":"https://github.com/spacetelescope/notebook-ci-testing/blob/main/notebooks/MIRI/Imaging/JWPipeNB-MIRI-imaging.ipynb","edit_url":"https://github.com/spacetelescope/notebook-ci-testing/edit/main/notebooks/MIRI/Imaging/JWPipeNB-MIRI-imaging.ipynb","thumbnail":"/build/d28265d85bf85e9f858ef5629b9e2037.png","exports":[{"format":"ipynb","filename":"JWPipeNB-MIRI-imaging.ipynb","url":"/build/JWPipeNB-MIRI-imagin-4386b91b781803005b44512d3f3cabde.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"image","style":{"float":"center"},"url":"/build/d28265d85bf85e9f858ef5629b9e2037.png","alt":"stsci_logo","width":"900px","key":"ZdMsGfWetP","urlSource":"https://github.com/spacetelescope/jwst-pipeline-notebooks/raw/main/_static/stsci_header.png"}],"key":"ZtyPo7Zjbb"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"MIRI Imaging Pipeline Notebook","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"VJmuRwSWZi"}],"identifier":"miri-imaging-pipeline-notebook","label":"MIRI Imaging Pipeline Notebook","html_id":"miri-imaging-pipeline-notebook","implicit":true,"key":"n7Z0ARDWqw"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Authors","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"wxQr7CddHl"}],"key":"yxMkOeT8JE"},{"type":"text","value":": M. Cracraft","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"LUpai5HLLg"},{"type":"break","key":"udirmnvC0p"},{"type":"text","value":"\n","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"vOMuIiU4xD"},{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Last Updated","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"RaFheJqhdf"}],"key":"gyJbWMjXi5"},{"type":"text","value":": July 16, 2025","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"jNoDmqXCfZ"},{"type":"break","key":"z1VmBl40WP"},{"type":"text","value":"\n","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"BeX2Vr4gRF"},{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Pipeline Version","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"taNYRRMaHh"}],"key":"hozfBEy2AI"},{"type":"text","value":": 1.19.1 (Build 12.0)","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"yf0F3FDhUt"}],"key":"JUun9Zv00z"}],"key":"zIevRJkWh0"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Purpose","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bKAenEco7i"}],"key":"Fj8Ibz1q1L"},{"type":"text","value":":","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TGS0UvQGJ2"},{"type":"break","key":"L5fY5ln8xY"},{"type":"text","value":"\nThis notebook provides a framework for processing generic Mid-Infrared Instrument\n(MIRI) Imaging data through all\nthree James Webb Space Telescope (JWST) pipeline stages.  Data is assumed\nto be located in one observation folder according to paths set up below.\nIt should not be necessary to edit any cells other than in the\n","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rYPEVJfZWs"},{"type":"link","url":"#1.-Configuration","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Configuration","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"cpbmuyzaOJ"}],"urlSource":"#1.-Configuration","key":"x6e45wY7KF"},{"type":"text","value":" section unless modifying the standard\npipeline processing options.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"m65h36hFsb"}],"key":"SoFIsEiiAZ"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"strong","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Data","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"f7UDUeTH8m"}],"key":"t3xEpdN03i"},{"type":"text","value":":","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"C0eVGR8AHz"},{"type":"break","key":"KBqcASdTYM"},{"type":"text","value":"\nThis example is set up to use an example dataset is from\n","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"XLsKFt9B5u"},{"type":"link","url":"https://www.stsci.edu/jwst/science-execution/program-information","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Program ID","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"lB6xUVpvlU"}],"urlSource":"https://www.stsci.edu/jwst/science-execution/program-information","key":"pdVFtMIFVX"},{"type":"text","value":"\n1040 (PI: O. Detre, Co-I: A. Noriega-Crespo) which is an external flat commissioning program.\nThe MIRI imaging dataset uses a 5-step dither pattern. Example input data to use will be\ndownloaded automatically unless disabled (i.e., to use local files instead).","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"DZuab9Ufvf"}],"key":"pGU6px6A26"},{"type":"paragraph","position":{"start":{"line":17,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"strong","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"JWST pipeline version and CRDS context","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"zTAEZBvR2P"}],"key":"EHC5l3d77o"},{"type":"text","value":":","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"PzlSKR7th5"},{"type":"break","key":"uxNhQy36mr"},{"type":"text","value":"\nThis notebook was written for the calibration pipeline version given above and uses the context associated with this version of the JWST Calibration Pipeline. Information about this an other contexts can be found in the JWST Calibration Reference Data System (CRDS) ","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"qezTbJ9Fb8"},{"type":"link","url":"(https://jwst-crds.stsci.edu/)","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"server","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"lH9Om4vzs7"}],"urlSource":"(https://jwst-crds.stsci.edu/)","key":"LZIwLJHlns"},{"type":"text","value":". If you use different pipeline\nversions, please refer to the table ","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"rdPX6rFuZB"},{"type":"link","url":"https://jwst-crds.stsci.edu/display_build_contexts/","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"here","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"mYGOWvhIE6"}],"urlSource":"https://jwst-crds.stsci.edu/display_build_contexts/","key":"EldXV2kJGr"},{"type":"text","value":" to determine what context to use. To learn more about the differences for the pipeline, read the relevant ","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"LawEamZm8L"},{"type":"link","url":"https://jwst-docs.stsci.edu/jwst-science-calibration-pipeline/jwst-operations-pipeline-build-information","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"documentation","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"hfRAiBiFFe"}],"urlSource":"https://jwst-docs.stsci.edu/jwst-science-calibration-pipeline/jwst-operations-pipeline-build-information","key":"b1QQIN2F2U"},{"type":"break","key":"hrXbKRyEIB"}],"key":"HTDthLHiEl"},{"type":"paragraph","position":{"start":{"line":21,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"strong","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"Updates","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"Vc7lQSw4Ea"}],"key":"lOcdSH9SS2"},{"type":"text","value":":","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"B0AglUQT1P"},{"type":"break","key":"ARVyCsfVq2"},{"type":"text","value":"\nThis notebook is regularly updated as improvements are made to the\npipeline. Find the most up to date version of this notebook at:\n","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"Eb0X36hGzE"},{"type":"link","url":"https://github.com/spacetelescope/jwst-pipeline-notebooks/","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"https://​github​.com​/spacetelescope​/jwst​-pipeline​-notebooks/","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"RIl9PIKlsd"}],"urlSource":"https://github.com/spacetelescope/jwst-pipeline-notebooks/","error":true,"key":"venkXL0qFU"}],"key":"NGSl0nPAcG"},{"type":"paragraph","position":{"start":{"line":26,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"strong","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"text","value":"Recent Changes","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"l5X3rNsnWJ"}],"key":"AIdKFlmE9g"},{"type":"text","value":":","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"m9DBo8p8KE"},{"type":"break","key":"veuvWTMkDE"},{"type":"text","value":"\nSeptember 25, 2024: original notebook released","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"ltXH5fn6ff"},{"type":"break","key":"ULtfuhzmxZ"},{"type":"text","value":"\nNovember 22, 2024: Updates to workflow when skipping pipeline modules","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"ErRhktLLon"},{"type":"break","key":"W5o5BG5EgE"},{"type":"text","value":"\nJanuary 16, 2025: Add handling for dedicated backgrounds, update to jwst 1.17.1","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"Sstd20qrfp"},{"type":"break","key":"Bbw2PZi53W"},{"type":"text","value":"\nMay 5, 2025: Updated to jwst 1.18.0 (no significant changes)","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"wQyaxA06No"},{"type":"break","key":"SFu3gDffvn"},{"type":"text","value":"\nJuly 16, 2025: Updated to jwst 1.19.1 (no significant changes)","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"HPpWVaEs1P"}],"key":"xrcZma8PiV"}],"key":"D957NYtdVj"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","key":"rN929iplVz"}],"key":"wpNr1xGBq7"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Table of Contents","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"OP4gcQRfhm"}],"identifier":"table-of-contents","label":"Table of Contents","html_id":"table-of-contents","implicit":true,"key":"k87tdrNoMl"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":2,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"#1.-Configuration","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Configuration","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"vWHvjasI1Z"}],"urlSource":"#1.-Configuration","key":"Nmgj6dAfyu"}],"key":"tGoDUCvh0n"}],"key":"VDg1PWlPMF"},{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"#2.-Package-Imports","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Package Imports","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"xyL2XZ8r9G"}],"urlSource":"#2.-Package-Imports","key":"WuL3me916S"}],"key":"YLytL9w2Th"}],"key":"PWeXuSCF9F"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"#3.-Demo-Mode-Setup-(ignore-if-not-using-demo-data)","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Demo Mode Setup (ignore if not using demo data)","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"qNSSvDe6yP"}],"urlSource":"#3.-Demo-Mode-Setup-(ignore-if-not-using-demo-data)","key":"KbGs54OxbW"}],"key":"WVaQvzGuxo"}],"key":"bX3zGHIOwl"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"#4.-Directory-Setup","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Directory Setup","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"CfD75WfeU0"}],"urlSource":"#4.-Directory-Setup","key":"XDAQON10bc"}],"key":"HlLgLW5Vmu"}],"key":"WoQIeiP6S5"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"#5.-Detector1-Pipeline","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Detector 1 Pipeline","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"k0Vdb4ID2C"}],"urlSource":"#5.-Detector1-Pipeline","key":"DV8shZHMSx"}],"key":"TPKRDhf9WK"}],"key":"AUQP1wFXwt"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"#6.-Image2-Pipeline","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Image2 Pipeline","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"pxSmvxOkgp"}],"urlSource":"#6.-Image2-Pipeline","key":"vG8VMOormz"}],"key":"QIB2Vy31NA"}],"key":"ADXima4B0y"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"#7.-Image3-Pipeline","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Image3 Pipeline","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"cfbTxMhsTL"}],"urlSource":"#7.-Image3-Pipeline","key":"JuK4MvgTpr"}],"key":"uiOLpzPxNj"}],"key":"mPI2wubmt9"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"#8.-Visualize-the-drizzle-combined-image","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Visualize the data","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"c54OfLrePx"}],"urlSource":"#8.-Visualize-the-drizzle-combined-image","key":"BCG0kXWk6B"}],"key":"TQta7WsEUu"}],"key":"DFofsxJuZw"}],"key":"nId8YQttKc"}],"key":"CvEMyWmjvb"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","key":"VBdRz2KoTh"}],"key":"UEwakv0B5R"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"1. Configuration","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Gp5uX4rBFc"}],"identifier":"id-1-configuration","label":"1. Configuration","html_id":"id-1-configuration","implicit":true,"key":"mYhR0mZzwL"},{"type":"thematicBreak","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"XzVuthqzH9"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Set basic configuration for running notebook.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"fzlJAIpacX"}],"key":"CK3HBTwWXd"}],"key":"eJ720Pzbyh"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Install dependencies and parameters","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wfLl9pTWZM"}],"identifier":"install-dependencies-and-parameters","label":"Install dependencies and parameters","html_id":"install-dependencies-and-parameters","implicit":true,"key":"IMUxNdd5R5"}],"key":"fwC2aylpFY"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"To make sure that the pipeline version is compatabile with the steps\ndiscussed below and the required dependencies and packages are installed,\nyou can create a fresh conda environment and install the provided\n","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"uIww3ZDzD1"},{"type":"inlineCode","value":"requirements.txt","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"AW01ARYNdB"},{"type":"text","value":" file before starting this notebook: ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rSW5f1pD57"},{"type":"break","key":"RqCRTVb46q"}],"key":"q2spB0Li5T"},{"type":"code","lang":"","value":"conda create -n miri_imaging_pipeline python=3.11\nconda activate miri_imaging_pipeline\npip install -r requirements.txt","position":{"start":{"line":5,"column":1},"end":{"line":9,"column":1}},"key":"a9cbAbbbPw"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Set the basic parameters to use with this notebook. These will affect\nwhat data is used, where data is located (if already in disk), and\npipeline modules run in this data. The list of parameters are:","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"Psl5HT1ukD"}],"key":"bdNR5CMXHD"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":15,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"demo_mode","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"XbX3QKKbyf"}],"key":"vFOzxnd1bL"}],"key":"U3MpyRAeoz"},{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"directories with data","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"T332nnxY4O"}],"key":"fax7X63iSy"}],"key":"nb0NIvB9V4"},{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"pipeline modules","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"IWrMw0xwoX"}],"key":"R1fqUXfKEg"}],"key":"i1idVOrVDv"}],"key":"MFhw44HbWI"}],"key":"qUyMhs3UBG"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-11-19T20:26:08.924848Z","iopub.status.busy":"2025-11-19T20:26:08.924695Z","iopub.status.idle":"2025-11-19T20:26:08.929675Z","shell.execute_reply":"2025-11-19T20:26:08.928879Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Basic import necessary for configuration\nimport os","key":"V16HLGz932"},{"type":"outputs","id":"go6im65QDWPTB-UFSO7C4","children":[],"key":"vwlPa849nP"}],"key":"ZFslTLBtmZ"},{"type":"block","kind":"notebook-content","children":[{"type":"div","class":"alert alert-block alert-warning","children":[{"type":"text","value":"Note that ","key":"UBgIxiy3Bd"},{"type":"inlineCode","value":"demo_mode","key":"arh0C5zn3y"},{"type":"text","value":" must be set appropriately below.","key":"wdHAzSzpci"}],"key":"ak5cLEccUh"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Set ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"oOr86Otcoz"},{"type":"inlineCode","value":"demo_mode = True","key":"A08153ytFu"},{"type":"text","value":" to run in demonstration mode. In this\nmode this notebook will download example data from the Barbara A.\nMikulski Archive for Space Telescopes\n(","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"WeihLDub1T"},{"type":"link","url":"https://mast.stsci.edu/portal/Mashup/Clients/Mast/Portal.html","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"MAST","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"UJI9cLd6st"}],"urlSource":"https://mast.stsci.edu/portal/Mashup/Clients/Mast/Portal.html","key":"F8Vg8HRglS"},{"type":"text","value":")\nand process it through the pipeline. This will all happen in a local\ndirectory unless modified in\n","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"cWqzC6s5Yd"},{"type":"link","url":"#3.-Demo-Mode-Setup-(ignore-if-not-using-demo-data)","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Section 3","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"nDLuncutJT"}],"urlSource":"#3.-Demo-Mode-Setup-(ignore-if-not-using-demo-data)","key":"VDaKk5em8L"},{"type":"text","value":" below.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"MCLare661A"},{"type":"break","key":"LLac3NVuzi"}],"key":"BqYLHeDq8Q"},{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Set ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"tENDXWIpc8"},{"type":"inlineCode","value":"demo_mode = False","key":"Lzdj2D9yVm"},{"type":"text","value":" if you want to process your own data\nthat has already been downloaded and provide the location of the data.","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"CDFfD53r9b"},{"type":"break","key":"iQokwcDRbn"}],"key":"WCeyjVSC5V"}],"key":"jW0kh3fxM7"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-11-19T20:26:08.931270Z","iopub.status.busy":"2025-11-19T20:26:08.931100Z","iopub.status.idle":"2025-11-19T20:26:08.935282Z","shell.execute_reply":"2025-11-19T20:26:08.934555Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Set parameters for demo_mode and processing steps.\n\n# -----------------------------Demo Mode---------------------------------\ndemo_mode = True\n\nif demo_mode:\n    print('Running in demonstration mode using online example data!')\n\n# --------------------------User Mode Directories------------------------\n# If demo_mode = False, look for user data in these paths\nif not demo_mode:\n    # Set directory paths for processing specific data; these will need\n    # to be changed to your local directory setup (below are given as\n    # examples)\n    user_home_dir = os.path.expanduser('~')\n\n    # Point to where science observation data are\n    # Assumes uncalibrated data in sci_dir/uncal/ and results in stage1,\n    # stage2, stage3 directories\n    sci_dir = os.path.join(user_home_dir, 'FlightData/APT1040/data/Obs001/')\n    \n    # Point to where background observation data are\n    # Assumes uncalibrated data in bg_dir/uncal/ and results in stage1 directory\n    #bg_dir = os.path.join(user_home_dir, 'FlightData/APT1714/data/Obs02/')\n    bg_dir = '' # If no background observation, use an empty string\n\n# --------------------------Set Processing Steps--------------------------\n# Individual pipeline stages can be turned on/off here.  Note that a later\n# stage won't be able to run unless data products have already been\n# produced from the prior stage.\n\n# Science processing\ndodet1 = True  # calwebb_detector1\ndoimage2 = True  # calwebb_image2\ndoimage3 = True  # calwebb_image3\ndoviz = True # Visualize calwebb_image3 results\n\n# Background processing (if present)\ndodet1bg = True  # calwebb_detector1","key":"F19OVliSay"},{"type":"outputs","id":"C_yuQ1J2Np2Tw1jdbAe44","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Running in demonstration mode using online example data!\n"},"children":[],"key":"WRc1oR9DOH"}],"key":"UV1KhE7H9O"}],"key":"k4BLLHM8sY"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Set CRDS context and server","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"sJwTCW9vYJ"}],"identifier":"set-crds-context-and-server","label":"Set CRDS context and server","html_id":"set-crds-context-and-server","implicit":true,"key":"cD3S9oP9H5"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Before importing ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"Y8RkJ8GTpv"},{"type":"inlineCode","value":"CRDS","key":"qNihl4azYt"},{"type":"text","value":" and ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"AYz7eBSNLP"},{"type":"inlineCode","value":"JWST","key":"Xbq2Mr7XWC"},{"type":"text","value":" modules, we need\nto configure our environment. This includes defining a CRDS cache\ndirectory in which to keep the reference files that will be used by the\ncalibration pipeline.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"v0iF1igYCj"},{"type":"break","key":"J9NjMddXby"}],"key":"wozSSLrCOf"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"If the root directory for the local CRDS cache directory has not been set\nalready, it will be set to create one in the home directory.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"LTQutQ1r1a"}],"key":"TSKDsemRjU"}],"key":"cHOpukVr3B"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-11-19T20:26:08.936887Z","iopub.status.busy":"2025-11-19T20:26:08.936744Z","iopub.status.idle":"2025-11-19T20:26:08.940604Z","shell.execute_reply":"2025-11-19T20:26:08.939835Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# ------------------------Set CRDS context and paths----------------------\n# Each version of the calibration pipeline is associated with a specific CRDS\n# context file. The pipeline will select the appropriate context file behind\n# the scenes while running. However, if you wish to override the default context\n# file and run the pipeline with a different context, you can set that using\n# the CRDS_CONTEXT environment variable. Here we show how this is done,\n# although we leave the line commented out in order to use the default context.\n# If you wish to specify a different context, uncomment the line below.\n#%env CRDS_CONTEXT jwst_1293.pmap\n\n# Check whether the local CRDS cache directory has been set.\n# If not, set it to the user home directory\nif (os.getenv('CRDS_PATH') is None):\n    os.environ['CRDS_PATH'] = os.path.join(os.path.expanduser('~'), 'crds')\n\n# Check whether the CRDS server URL has been set.  If not, set it.\nif (os.getenv('CRDS_SERVER_URL') is None):\n    os.environ['CRDS_SERVER_URL'] = 'https://jwst-crds.stsci.edu'\n\n# Echo CRDS path in use\nprint(f\"CRDS local filepath: {os.environ['CRDS_PATH']}\")\nprint(f\"CRDS file server: {os.environ['CRDS_SERVER_URL']}\")","key":"bROZUlxu4h"},{"type":"outputs","id":"EPc-_m5FS0jufmeWxEWxg","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"CRDS local filepath: /home/runner/crds\nCRDS file server: https://jwst-crds.stsci.edu\n"},"children":[],"key":"Mjok7BIROs"}],"key":"fY7V1pR2Br"}],"key":"q4NFoXi2an"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","key":"vSzJ0XSM5m"}],"key":"J7YXxTvHQK"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"2. Package Imports","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"AWugdcL3Sf"}],"identifier":"id-2-package-imports","label":"2. Package Imports","html_id":"id-2-package-imports","implicit":true,"key":"VHswjNXjG7"}],"key":"P09T9rKEzw"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-11-19T20:26:08.942105Z","iopub.status.busy":"2025-11-19T20:26:08.941964Z","iopub.status.idle":"2025-11-19T20:26:08.947091Z","shell.execute_reply":"2025-11-19T20:26:08.946375Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Use the entire available screen width for this notebook\nfrom IPython.display import display, HTML\ndisplay(HTML(\"\u003cstyle\u003e.container { width:95% !important; }\u003c/style\u003e\"))","key":"NJAM1CpiFa"},{"type":"outputs","id":"qhVnD_WW__8jJ1i48Ogdv","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"\u003cstyle\u003e.container { width:95% !important; }\u003c/style\u003e","content_type":"text/html"},"text/plain":{"content":"\u003cIPython.core.display.HTML object\u003e","content_type":"text/plain"}}},"children":[],"key":"AVifnflVvv"}],"key":"vetAW5CwA5"}],"key":"x6dwfau2w1"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-11-19T20:26:08.948657Z","iopub.status.busy":"2025-11-19T20:26:08.948495Z","iopub.status.idle":"2025-11-19T20:26:11.941619Z","shell.execute_reply":"2025-11-19T20:26:11.940855Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Basic system utilities for interacting with files\n# ----------------------General Imports------------------------------------\nimport glob\nimport time\nfrom pathlib import Path\n#import urllib.request\n\n# Numpy for doing calculations\nimport numpy as np\n\n# To display full ouptut of cell, not just the last result\nfrom IPython.core.interactiveshell import InteractiveShell\nInteractiveShell.ast_node_interactivity = \"all\"\n\n# --------------------Astroquery Imports------------------------------\n# ASCII files, and downloading demo files\nfrom astroquery.mast import Observations\n\n# ----------------Matplotlib for visualizing images-------------------\nimport matplotlib.pyplot as plt\n\n# -------------------Astropy routines for visualizing detected sources----------\nfrom astropy.table import Table\nfrom astropy.io import fits\n\n# ----------------------JWST calibration pipeline------------------------\nimport jwst\nimport crds\n\nfrom jwst.pipeline import Detector1Pipeline\nfrom jwst.pipeline import Image2Pipeline\nfrom jwst.pipeline import Image3Pipeline\n\n# JWST pipeline utilities\nfrom jwst import datamodels\nfrom jwst.datamodels import ImageModel\nfrom jwst.associations import asn_from_list as afl  # Tools for creating association files\nfrom jwst.associations.lib.rules_level2_base import DMSLevel2bBase  # Definition of a Lvl2 association file\nfrom jwst.associations.lib.rules_level3_base import DMS_Level3_Base  # Definition of a Lvl3 association file\n\n# Echo pipeline version and CRDS context in use\nprint(f\"JWST Calibration Pipeline Version: {jwst.__version__}\")\nprint(f\"Using CRDS Context: {crds.get_context_name('jwst')}\")","key":"ucoSYEMNqA"},{"type":"outputs","id":"TL-hMsY9Cp0fH5plxHbiZ","children":[{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"CRDS - INFO -  Calibration SW Found: jwst 1.19.1 (/home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages/jwst-1.19.1.dist-info)\n"},"children":[],"key":"Odv4DbYjnb"},{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"JWST Calibration Pipeline Version: 1.19.1\n"},"children":[],"key":"whKciV3bSz"},{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Using CRDS Context: jwst_1413.pmap\n"},"children":[],"key":"lHKHKK9h0y"}],"key":"SbMjqv07Wz"}],"key":"Gngi6MfzAL"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-11-19T20:26:11.943628Z","iopub.status.busy":"2025-11-19T20:26:11.943276Z","iopub.status.idle":"2025-11-19T20:26:11.945887Z","shell.execute_reply":"2025-11-19T20:26:11.945222Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Start a timer to keep track of runtime\ntime0 = time.perf_counter()","key":"hjz63wVqC4"},{"type":"outputs","id":"O2P5vVNg_woUhpdryoobX","children":[],"key":"zWUDEkgkIn"}],"key":"H02b2aRkcD"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","key":"hMjcRZCsc1"}],"key":"PoTEFIhX7q"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"3. Demo Mode Setup (ignore if not using demo data)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"UBpNNsYiF6"}],"identifier":"id-3-demo-mode-setup-ignore-if-not-using-demo-data","label":"3. Demo Mode Setup (ignore if not using demo data)","html_id":"id-3-demo-mode-setup-ignore-if-not-using-demo-data","implicit":true,"key":"RClu0e14Wd"},{"type":"thematicBreak","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"FTlFeQt5zp"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"If running in demonstration mode, set up the program information to\nretrieve the uncalibrated data automatically from MAST using\n","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"zlQ6LfMa1l"},{"type":"link","url":"https://astroquery.readthedocs.io/en/latest/mast/mast.html","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"astroquery","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Pu3OY66sz8"}],"urlSource":"https://astroquery.readthedocs.io/en/latest/mast/mast.html","key":"QEGD5kgA5C"},{"type":"text","value":".\nMAST allows for flexibility of searching by the proposal ID and the\nobservation ID instead of just filenames.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"hWVxWoQl7m"},{"type":"break","key":"uLHdoqgJeH"}],"key":"fUZIZJrdDZ"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"For illustrative purposes, we focus on data taken through the MIRI\n","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"hQNeAMGLxn"},{"type":"link","url":"https://jwst-docs.stsci.edu/jwst-mid-infrared-instrument/miri-observing-modes/miri-imaging#MIRIImaging-MIRIFiltersImagingfilters","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"F770W filter","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"uoORyuQpJ9"}],"urlSource":"https://jwst-docs.stsci.edu/jwst-mid-infrared-instrument/miri-observing-modes/miri-imaging#MIRIImaging-MIRIFiltersImagingfilters","key":"Lv1lenzwQi"},{"type":"text","value":"\nand start with uncalibrated data products. The files are named\n","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"oKKx5svr90"},{"type":"inlineCode","value":"jw01040001005_03103_0000n_miri_uncal.fits","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"BB9LIZlvUj"},{"type":"text","value":", where ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"HAFtIPK1no"},{"type":"emphasis","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"n","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"ZLfQO7vcsk"}],"key":"M58AGIfRSE"},{"type":"text","value":" refers to the\ndither step number which ranges from 1 - 5.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"YkTqhld8GX"}],"key":"F7KLLa1tcV"},{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"More information about the JWST file naming conventions can be found at:\n","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"L8uqhDqUeS"},{"type":"link","url":"https://jwst-pipeline.readthedocs.io/en/latest/jwst/data_products/file_naming.html","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"https://​jwst​-pipeline​.readthedocs​.io​/en​/latest​/jwst​/data​_products​/file​_naming​.html","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"KZozTC8MEt"}],"urlSource":"https://jwst-pipeline.readthedocs.io/en/latest/jwst/data_products/file_naming.html","key":"g08vNxuSDX"}],"key":"XY4K2xYO31"}],"key":"rrfphS5ydr"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-11-19T20:26:11.947666Z","iopub.status.busy":"2025-11-19T20:26:11.947511Z","iopub.status.idle":"2025-11-19T20:26:11.951417Z","shell.execute_reply":"2025-11-19T20:26:11.950679Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Set up the program information and paths for demo program\nif demo_mode:\n    print('Running in demonstration mode and will download example data from MAST!')\n    program = '01040'\n    sci_observtn = \"001\"\n    visit = \"005\"\n    data_dir = os.path.join('.', 'mir_im_demo_data')\n    download_dir = data_dir\n    sci_dir = os.path.join(data_dir, 'Obs' + sci_observtn)\n    uncal_dir = os.path.join(sci_dir, 'uncal')\n    bg_dir = ''\n\n    # Ensure filepaths for input data exist\n    if not os.path.exists(uncal_dir):\n        os.makedirs(uncal_dir)\n\n    # Create directory if it does not exist\n    if not os.path.isdir(data_dir):\n        os.mkdir(data_dir)","key":"fFjATmZ196"},{"type":"outputs","id":"nGPaKPx3aoBuZpPjmnLK7","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Running in demonstration mode and will download example data from MAST!\n"},"children":[],"key":"WaSDs2kYs3"}],"key":"fapv4ABI5t"}],"key":"IvbndtlfyQ"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Identify list of science (SCI) uncalibrated files associated with visits.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"J53HLNVp4a"}],"key":"Bj6zbnjUwq"},{"type":"div","class":"alert alert-block alert-warning","children":[{"type":"text","value":"Selects only filter ","key":"nbqGTUnwc3"},{"type":"emphasis","children":[{"type":"text","value":"f770w","key":"SegBfi5z9K"}],"key":"TmfULOCqfW"},{"type":"text","value":" data","key":"ocnNrYMP66"}],"key":"dYYundPA5V"}],"key":"ZZFgtB3HCP"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-11-19T20:26:11.952906Z","iopub.status.busy":"2025-11-19T20:26:11.952740Z","iopub.status.idle":"2025-11-19T20:26:12.214966Z","shell.execute_reply":"2025-11-19T20:26:12.214220Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Obtain a list of observation IDs for the specified demo program\nif demo_mode:\n    # Science data\n    sci_obs_id_table = Observations.query_criteria(instrument_name=[\"MIRI/IMAGE\"],\n                                                   provenance_name=[\"CALJWST\"],  # Executed observations\n                                                   filters=['F770W'],  # Data for Specific Filter\n                                                   obs_id=['jw' + program + '-o' + sci_observtn + '*']\n                                                   )","key":"QhexAtHKke"},{"type":"outputs","id":"AOcZg2f5Hs7vVjEhG80P4","children":[],"key":"HjvYbxvk0p"}],"key":"zG4BP1yrzg"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-11-19T20:26:12.217356Z","iopub.status.busy":"2025-11-19T20:26:12.217105Z","iopub.status.idle":"2025-11-19T20:26:16.980018Z","shell.execute_reply":"2025-11-19T20:26:16.979360Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Turn the list of visits into a list of uncalibrated data files\nif demo_mode:\n    # Define types of files to select\n    file_dict = {'uncal': {'product_type': 'SCIENCE',\n                           'productSubGroupDescription': 'UNCAL',\n                           'calib_level': [1]}}\n\n    # Science files\n    sci_files_to_download = []\n\n    # Loop over visits identifying uncalibrated files that are associated\n    # with them\n    for exposure in (sci_obs_id_table):\n        products = Observations.get_product_list(exposure)\n        for filetype, query_dict in file_dict.items():\n            filtered_products = Observations.filter_products(products, productType=query_dict['product_type'],\n                                                             productSubGroupDescription=query_dict['productSubGroupDescription'],\n                                                             calib_level=query_dict['calib_level'])\n            sci_files_to_download.extend(filtered_products['dataURI'])\n\n    # Download only the files in a single visit\n    sci_files_to_download = [match for match in sci_files_to_download if ('jw' + program + sci_observtn + visit) in match]\n    sci_files_to_download = sorted(sci_files_to_download)\n    print(f\"Science files selected for downloading: {len(sci_files_to_download)}\")","key":"zYGmN7yuEK"},{"type":"outputs","id":"2nT3aUNJPsZ27V-d2d74i","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Science files selected for downloading: 5\n"},"children":[],"key":"EiFEXoukfW"}],"key":"sIx5PnfqJF"}],"key":"uL3Mp0S8PN"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Download all the uncal files and place them into the appropriate\ndirectories.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"uBieZVUs8l"},{"type":"break","key":"AihDS81KzL"}],"key":"XOwOyxSNee"},{"type":"div","class":"alert alert-block alert-warning","children":[{"type":"text","value":"Warning: If this notebook is halted during this step the downloaded file may be incomplete, and cause crashes later on!","key":"hX5SiwUUCB"}],"key":"IEtg3TBXO1"}],"key":"jILbhm50uN"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-11-19T20:26:16.981828Z","iopub.status.busy":"2025-11-19T20:26:16.981669Z","iopub.status.idle":"2025-11-19T20:26:17.383361Z","shell.execute_reply":"2025-11-19T20:26:17.382567Z"},"tags":["scroll-output"]},"children":[{"type":"code","lang":"python","executable":true,"value":"if demo_mode:\n    for filename in sci_files_to_download:\n        sci_manifest = Observations.download_file(filename,\n                                                  local_path=os.path.join(uncal_dir, Path(filename).name))","visibility":"show","key":"YSEl3LxMvJ"},{"type":"outputs","id":"UuvXofoKgi73YOm6ZxAxk","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"INFO: Found cached file ./mir_im_demo_data/Obs001/uncal/jw01040001005_03103_00001_mirimage_uncal.fits with expected size 15909120. [astroquery.query]\nINFO: Found cached file ./mir_im_demo_data/Obs001/uncal/jw01040001005_03103_00002_mirimage_uncal.fits with expected size 15909120. [astroquery.query]\n"},"children":[],"key":"sAvQ1I5mot"},{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"INFO: Found cached file ./mir_im_demo_data/Obs001/uncal/jw01040001005_03103_00003_mirimage_uncal.fits with expected size 15909120. [astroquery.query]\n"},"children":[],"key":"KejYeNOZTB"},{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"INFO: Found cached file ./mir_im_demo_data/Obs001/uncal/jw01040001005_03103_00004_mirimage_uncal.fits with expected size 15909120. [astroquery.query]\nINFO: Found cached file ./mir_im_demo_data/Obs001/uncal/jw01040001005_03103_00005_mirimage_uncal.fits with expected size 15909120. [astroquery.query]\n"},"children":[],"key":"ABKz8fidSz"}],"visibility":"show","key":"LD1lQHDUAU"}],"visibility":"show","key":"aLK8IqRv6R"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","key":"WIMGQ6z2Dq"}],"key":"gfte6wSXsQ"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"4. Directory Setup","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DEmEClaS3i"}],"identifier":"id-4-directory-setup","label":"4. Directory Setup","html_id":"id-4-directory-setup","implicit":true,"key":"SzAdhJSUGP"},{"type":"thematicBreak","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"BnnnnAdlMn"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Set up detailed paths to input/output stages here.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"G6quP9b3h5"}],"key":"DhrPbvGz7H"}],"key":"VQ7AQ3Eg1b"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-11-19T20:26:17.385419Z","iopub.status.busy":"2025-11-19T20:26:17.385248Z","iopub.status.idle":"2025-11-19T20:26:17.389496Z","shell.execute_reply":"2025-11-19T20:26:17.388833Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Define output subdirectories to keep science data products organized\nuncal_dir = os.path.join(sci_dir, 'uncal')  # Uncalibrated pipeline inputs should be here\ndet1_dir = os.path.join(sci_dir, 'stage1')  # calwebb_detector1 pipeline outputs will go here\nimage2_dir = os.path.join(sci_dir, 'stage2')  # calwebb_spec2 pipeline outputs will go here\nimage3_dir = os.path.join(sci_dir, 'stage3')  # calwebb_spec3 pipeline outputs will go here\n\n# Output subdirectories to keep background data products organized\nuncal_bgdir = os.path.join(bg_dir, 'uncal')  # Uncalibrated pipeline inputs should be here\ndet1_bgdir = os.path.join(bg_dir, 'stage1')  # calwebb_detector1 pipeline outputs will go here\n\n# We need to check that the desired output directories exist, and if not\n# create them\nif not os.path.exists(det1_dir):\n    os.makedirs(det1_dir)\nif not os.path.exists(image2_dir):\n    os.makedirs(image2_dir)\nif not os.path.exists(image3_dir):\n    os.makedirs(image3_dir)\n    \nif ((bg_dir != '') \u0026 (not os.path.exists(det1_bgdir))):\n    os.makedirs(det1_bgdir)","key":"P1LuqQpdXp"},{"type":"outputs","id":"euGYw35cbTL3ZdoOioUD0","children":[],"key":"clJjGeMPWs"}],"key":"rAx4mWxw7z"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-11-19T20:26:17.391000Z","iopub.status.busy":"2025-11-19T20:26:17.390858Z","iopub.status.idle":"2025-11-19T20:26:17.393900Z","shell.execute_reply":"2025-11-19T20:26:17.393249Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Print out the time benchmark\ntime1 = time.perf_counter()\nprint(f\"Runtime so far: {time1 - time0:0.0f} seconds\")","key":"IWfLy1cUcu"},{"type":"outputs","id":"f99ad16PeG_RfIzPQTv98","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Runtime so far: 5 seconds\n"},"children":[],"key":"Je1jV6pNJ7"}],"key":"BhrODSuzPx"}],"key":"iel0JbL7Vs"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","key":"E0Tt8rYHRy"}],"key":"FZwQNkhw5g"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"5. Detector1 Pipeline","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"o5BOtVmn6U"}],"identifier":"id-5-detector1-pipeline","label":"5. Detector1 Pipeline","html_id":"id-5-detector1-pipeline","implicit":true,"key":"tHkcqTSXWg"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Run the datasets through the\n","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"EG7do06ffZ"},{"type":"link","url":"https://jwst-docs.stsci.edu/jwst-science-calibration-pipeline-overview/stages-of-jwst-data-processing/calwebb_detector1","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Detector1","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"UaL1Z7nVt6"}],"urlSource":"https://jwst-docs.stsci.edu/jwst-science-calibration-pipeline-overview/stages-of-jwst-data-processing/calwebb_detector1","key":"IQ8CTELiFx"},{"type":"text","value":"\nstage of the pipeline to apply detector level calibrations and create a\ncountrate data product where slopes are fitted to the integration ramps.\nThese ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"Us2Xn1iPIV"},{"type":"inlineCode","value":"*_rate.fits","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"t577zGnckA"},{"type":"text","value":" products are 2D (nrows x ncols), averaged over all\nintegrations. 3D countrate data products (","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"CLnu6EjZn9"},{"type":"inlineCode","value":"*_rateints.fits","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"j8sORLOIRD"},{"type":"text","value":") are also\ncreated (nintegrations x nrows x ncols) which have the fitted ramp slopes\nfor each integration.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"NMirlkB5sX"},{"type":"break","key":"zqTr1y4YPO"}],"key":"jGHO3FVh98"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"By default, all steps in the ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"arko1fw1UJ"},{"type":"inlineCode","value":"Detector1","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"YS53zPddR0"},{"type":"text","value":" stage of the pipeline are run for\nMIRI except: the ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"zixZH7Wx7G"},{"type":"inlineCode","value":"group_scale","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"FoZ9lpCaVX"},{"type":"text","value":", ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"WovQqyuikj"},{"type":"inlineCode","value":"ipc","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"Ubxhskag0E"},{"type":"text","value":" and the ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"r0HVSwTnFV"},{"type":"inlineCode","value":"gain_scale","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"GqtrNfeRBH"},{"type":"text","value":" steps.","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"hfzYsugSxx"},{"type":"break","key":"anbgbLJYZJ"}],"key":"NPdMpGj5dT"},{"type":"paragraph","position":{"start":{"line":14,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"MIRI performs a few pipeline steps in calwebb_detector1 that are not performed for other instruments.\nThe ","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"awaDhek4h6"},{"type":"link","url":"https://jwst-pipeline.readthedocs.io/en/latest/jwst/emicorr/index.html#emicorr-step","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"emicorr","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"Sz0uAyOq0s"}],"urlSource":"https://jwst-pipeline.readthedocs.io/en/latest/jwst/emicorr/index.html#emicorr-step","key":"GX5z6JBTJU"},{"type":"text","value":" step corrects\nfor known noise patterns in MIRI data. For certain subarrays, these noise patterns are clearly imprinted on\nthe data in the ","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"BLOKGMuqhS"},{"type":"inlineCode","value":"rate.fits","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"gcYAfelm6Y"},{"type":"text","value":" files.","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"SpCSzgJRyp"},{"type":"break","key":"Mhh1AtzRXt"}],"key":"e5Q3YcKsAd"},{"type":"paragraph","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"The ","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"EYsibnL4gI"},{"type":"link","url":"https://jwst-pipeline.readthedocs.io/en/latest/jwst/firstframe/index.html#firstframe-step","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"firstframe","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"o1biPRNjlG"}],"urlSource":"https://jwst-pipeline.readthedocs.io/en/latest/jwst/firstframe/index.html#firstframe-step","key":"flH38Ox1vS"},{"type":"text","value":" step flags the first frame in each integration as bad, if the number of groups per integration is greater than 3.","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"GdmMx7pNUg"},{"type":"break","key":"cgRjOmyGO7"}],"key":"sOOnJGwSkx"},{"type":"paragraph","position":{"start":{"line":21,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"The ","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"mNVWKC2CRH"},{"type":"link","url":"https://jwst-pipeline.readthedocs.io/en/latest/jwst/lastframe/index.html#lastframe-step","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"lastframe","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"pAOdjJiXa5"}],"urlSource":"https://jwst-pipeline.readthedocs.io/en/latest/jwst/lastframe/index.html#lastframe-step","key":"csUOr0J6m5"},{"type":"text","value":" step\nflags the last frame in each integration as bad, if the number of groups per integration is greater than 2.","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"CeOhPl3gYW"},{"type":"break","key":"cqUH67uCUd"}],"key":"MkONOV2vi3"},{"type":"paragraph","position":{"start":{"line":24,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"text","value":"The ","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"VPsnhBpSdY"},{"type":"link","url":"https://jwst-pipeline.readthedocs.io/en/latest/jwst/reset/index.html#reset-step","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"reset","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"XWWXhgn42S"}],"urlSource":"https://jwst-pipeline.readthedocs.io/en/latest/jwst/reset/index.html#reset-step","key":"EpkrxRggW5"},{"type":"text","value":" correction step\ncorrects for the reset anomaly effect. This effect is caused by the non-ideal behavior of the field effect\ntransistor (FET) upon resetting in the dark causing the initial frames in an integration to be offset\nfrom their expected values.","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"ZOHVilPIEu"},{"type":"break","key":"AN2ccwAS9E"}],"key":"CRwbxhVy0f"},{"type":"paragraph","position":{"start":{"line":29,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"text","value":"The ","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"KbK4O1GQa9"},{"type":"link","url":"https://jwst-pipeline.readthedocs.io/en/latest/jwst/rscd/index.html#rscd-step","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"text","value":"rscd","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"RufhGKouv1"}],"urlSource":"https://jwst-pipeline.readthedocs.io/en/latest/jwst/rscd/index.html#rscd-step","key":"rwAfrUmNzo"},{"type":"text","value":" step reads a reference\nfile for each data file and determines how many frames at the start of a ramp should be flagged as bad. There are a\nnumber of nonlinearities at the start of MIRI ramps, and the flagging allows the more linear portion of the ramp to\nbe used for jump detection and ramp fitting, without using the initial, non-linear portion of the ramp. The number\nof groups flagged depend on filter and subarray.","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"lqK9y8hsPO"},{"type":"break","key":"iZNR1NHrq2"}],"key":"w6rDYgaKs3"},{"type":"paragraph","position":{"start":{"line":35,"column":1},"end":{"line":44,"column":1}},"children":[{"type":"text","value":"As of CRDS context ","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"E6pkLid3DO"},{"type":"inlineCode","value":"jwst_1201.pmap","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"DDEbBVvacC"},{"type":"text","value":" and later, the\n","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"SO4s2ZrMfQ"},{"type":"link","url":"https://jwst-pipeline.readthedocs.io/en/latest/api/jwst.jump.JumpStep.html","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"text","value":"jump","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"NQkgbG1UiG"}],"urlSource":"https://jwst-pipeline.readthedocs.io/en/latest/api/jwst.jump.JumpStep.html","key":"f43QEi60Ks"},{"type":"text","value":" step\nof the ","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"MMLnaXMeld"},{"type":"inlineCode","value":"DETECTOR1","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"wawfHXol8L"},{"type":"text","value":" stage of the pipeline will remove residuals associated\nwith ","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"aPwgvJA6qe"},{"type":"link","url":"https://jwst-docs.stsci.edu/known-issues-with-jwst-data/shower-and-snowball-artifacts","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"text","value":"showers","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"WB466j7qc7"}],"urlSource":"https://jwst-docs.stsci.edu/known-issues-with-jwst-data/shower-and-snowball-artifacts","key":"QJdNLa8Vuf"},{"type":"text","value":"\nfor the MIRI imaging mode, but only for data with filter F1500W and shorter. The default parameters for this correction,\nwhere ","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"CAeg0iDZS2"},{"type":"inlineCode","value":"find_showers","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"U91Ql0BRAg"},{"type":"text","value":" set to ","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"JK8T6d9i2a"},{"type":"inlineCode","value":"True","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"WhUFaRFZf2"},{"type":"text","value":" turns on the shower\nremoval algorithm, are specified in the ","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"KtZgVbaA0K"},{"type":"inlineCode","value":"pars-jumpstep","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"BeOlFHEIef"},{"type":"text","value":" parameter\nreference files. Users may wish to alter parameters to optimize removal of\nshower residuals. Available parameters are discussed in the\n","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"uvZhA2HuGu"},{"type":"link","url":"https://www.stsci.edu/files/live/sites/www/files/home/jwst/documentation/technical-documents/_documents/JWST-STScI-008545.pdf","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"text","value":"Detection and Flagging of Showers and Snowballs in JWST Technical Report (Regan 2023)","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"ZBUlQF67G7"}],"urlSource":"https://www.stsci.edu/files/live/sites/www/files/home/jwst/documentation/technical-documents/_documents/JWST-STScI-008545.pdf","key":"oiRh0ta6Zo"},{"type":"text","value":".","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"c2lI5RdOgm"}],"key":"VglyceuMDJ"}],"key":"U5tGCctqEg"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-11-19T20:26:17.395444Z","iopub.status.busy":"2025-11-19T20:26:17.395303Z","iopub.status.idle":"2025-11-19T20:26:17.399063Z","shell.execute_reply":"2025-11-19T20:26:17.398422Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Set up a dictionary to define how the Detector1 pipeline should be configured\n\n# Boilerplate dictionary setup\ndet1dict = {}\ndet1dict['group_scale'], det1dict['dq_init'], det1dict['emicorr'] = {}, {}, {}\ndet1dict['saturation'], det1dict['firstframe'], det1dict['lastframe'] = {}, {}, {}\ndet1dict['reset'], det1dict['linearity'], det1dict['rscd'] = {}, {}, {}\ndet1dict['dark_current'], det1dict['refpix'], det1dict['jump'] = {}, {}, {}\ndet1dict['ramp_fit'], det1dict['gain_scale'] = {}, {}\n\n# Overrides for whether or not certain steps should be skipped\n# skipping the refpix step\n#det1dict['refpix']['skip'] = True\n#det1dict['jump']['find_showers'] = False # Turn off detection of cosmic ray showers\n\n# Overrides for various reference files\n# Files should be in the base local directory or provide full path\n#det1dict['dq_init']['override_mask'] = 'myfile.fits'  # Bad pixel mask\n#det1dict['saturation']['override_saturation'] = 'myfile.fits'  # Saturation\n#det1dict['reset']['override_reset'] = 'myfile.fits'  # Reset\n#det1dict['linearity']['override_linearity'] = 'myfile.fits'  # Linearity\n#det1dict['rscd']['override_rscd'] = 'myfile.fits'  # RSCD\n#det1dict['dark_current']['override_dark'] = 'myfile.fits'  # Dark current subtraction\n#det1dict['jump']['override_gain'] = 'myfile.fits'  # Gain used by jump step\n#det1dict['ramp_fit']['override_gain'] = 'myfile.fits'  # Gain used by ramp fitting step\n#det1dict['jump']['override_readnoise'] = 'myfile.fits'  # Read noise used by jump step\n#det1dict['ramp_fit']['override_readnoise'] = 'myfile.fits'  # Read noise used by ramp fitting step\n\n# Turn on multi-core processing (off by default).  Choose what fraction of cores to use (quarter, half, or all)\ndet1dict['jump']['maximum_cores'] = 'half'\n\n# Alter parameters to optimize removal of shower residuals (example)\n#det1dict['jump']['after_jump_flag_dn1'] = X  # A floating point value in units of DN\n#det1dict['jump']['after_jump_flag_time1'] = x.x # A floating point value in units of seconds","key":"d4JLrSKoho"},{"type":"outputs","id":"VF3N-L8YwLLq4XciAz0QR","children":[],"key":"USZQJNvDtp"}],"key":"SxmNCNNbyX"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Calibrating Science Files","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"RWiJT7wtJU"}],"identifier":"calibrating-science-files","label":"Calibrating Science Files","html_id":"calibrating-science-files","implicit":true,"key":"fb1tYwQVup"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Look for input science files and run calwebb_detector1 pipeline using the call method.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"tBj6fA04pO"}],"key":"RzCsbXi2AY"}],"key":"SrTD9T4mQC"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-11-19T20:26:17.400788Z","iopub.status.busy":"2025-11-19T20:26:17.400649Z","iopub.status.idle":"2025-11-19T20:26:17.404299Z","shell.execute_reply":"2025-11-19T20:26:17.403602Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"uncal_files = sorted(glob.glob(os.path.join(uncal_dir, '*_uncal.fits')))\nuncal_bgfiles = sorted(glob.glob(os.path.join(uncal_bgdir, '*_uncal.fits')))\n\nprint('Found ' + str(len(uncal_files)) + ' science input files')\nprint('Found ' + str(len(uncal_bgfiles)) + ' background input files')","key":"YkO2xJFktg"},{"type":"outputs","id":"lVYpP7LJlqnytT8EUOmVE","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Found 5 science input files\nFound 0 background input files\n"},"children":[],"key":"y4VqP0K0iT"}],"key":"vzNPwmAJn3"}],"key":"pw9UhWZ3LA"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Look at the first file to determine exposure parameters and practice using\nJWST datamodels¶","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ur8VZyHsrk"}],"key":"EPs9bTvP7F"}],"key":"LmC6dT9s5u"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-11-19T20:26:17.405749Z","iopub.status.busy":"2025-11-19T20:26:17.405607Z","iopub.status.idle":"2025-11-19T20:26:18.049031Z","shell.execute_reply":"2025-11-19T20:26:18.048268Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"if dodet1:\n    # print file name\n    print(uncal_files[0])\n\n    # Open file as JWST datamodel\n    examine = datamodels.open(uncal_files[0])\n\n    # Print out exposure info\n    print(f\"Instrument: {examine.meta.instrument.name}\")\n    print(f\"Filter: {examine.meta.instrument.filter}\")\n    print(f\"Number of integrations: {examine.meta.exposure.nints}\")\n    print(f\"Number of groups: {examine.meta.exposure.ngroups}\")\n    print(f\"Readout pattern: {examine.meta.exposure.readpatt}\")\n    print(f\"Dither position number: {examine.meta.dither.position_number}\")\n    print(\"\\n\")","key":"zEiCwsIqj7"},{"type":"outputs","id":"fkaxYa7gYAERVMtEhjvZV","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"./mir_im_demo_data/Obs001/uncal/jw01040001005_03103_00001_mirimage_uncal.fits\n"},"children":[],"key":"IuVLa4BGhS"},{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Instrument: MIRI\nFilter: F770W\nNumber of integrations: 1\nNumber of groups: 6\nReadout pattern: FASTR1\nDither position number: 1\n\n\n"},"children":[],"key":"CJKEyc00rj"}],"key":"vM7D246SGR"}],"key":"wl6dovnunn"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"From the above, we confirm that the demo data file is for the MIRI instrument\nusing the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"iBmiw408of"},{"type":"inlineCode","value":"F770W","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ZaBYxjFXtL"},{"type":"text","value":" filter in the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rmtboMC5KS"},{"type":"link","url":"https://jwst-docs.stsci.edu/jwst-mid-infrared-instrument/miri-instrumentation/miri-filters-and-dispersers#gsc.tab=0","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Filter Wheel","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"IInOgL0hHs"}],"urlSource":"https://jwst-docs.stsci.edu/jwst-mid-infrared-instrument/miri-instrumentation/miri-filters-and-dispersers#gsc.tab=0","key":"yNY9CkTetV"},{"type":"text","value":". This observation uses\nthe MIRI ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"AUXrxz6UNe"},{"type":"link","url":"https://jwst-docs.stsci.edu/jwst-mid-infrared-instrument/miri-instrumentation/miri-detector-overview/miri-detector-readout-overview#gsc.tab=0","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"readout pattern","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"OsvuALeGz7"}],"urlSource":"https://jwst-docs.stsci.edu/jwst-mid-infrared-instrument/miri-instrumentation/miri-detector-overview/miri-detector-readout-overview#gsc.tab=0","key":"tuiWph59YW"},{"type":"text","value":" FASTR1,\n6 groups per integration, and 1 integration per exposure. This data file\nis the 1st dither position in this exposure sequence. For more information\nabout how JWST exposures are defined by up-the-ramp sampling, see the\n","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rfsrQYdJjz"},{"type":"link","url":"https://jwst-docs.stsci.edu/understanding-exposure-times","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Understanding Exposure Times JDox article","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fl9uskvXUw"}],"urlSource":"https://jwst-docs.stsci.edu/understanding-exposure-times","key":"AXOIQkJuno"},{"type":"text","value":".","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"SerB0Kx0Ie"},{"type":"break","key":"DTfJcXlYMb"}],"key":"enN5Ckn94E"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"This metadata will be the same for all exposures in this observation other\nthan the dither position number.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"c8LiXFxDWJ"}],"key":"vWhHf2zxfX"}],"key":"vgHD3dr1bN"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-11-19T20:26:18.050790Z","iopub.status.busy":"2025-11-19T20:26:18.050625Z","iopub.status.idle":"2025-11-19T20:27:19.646773Z","shell.execute_reply":"2025-11-19T20:27:19.646029Z"},"tags":["scroll-output"]},"children":[{"type":"code","lang":"python","executable":true,"value":"# Run Detector1 stage of pipeline, specifying:\n# output directory to save *_rate.fits files\n# save_results flag set to True so the rate files are saved\n\nif dodet1:\n    for uncal in uncal_files:\n        rate_result = Detector1Pipeline.call(uncal, output_dir=det1_dir, steps=det1dict, save_results=True,)\nelse:\n    print('Skipping Detector1 processing')","visibility":"show","key":"laRb4Vz2Eg"},{"type":"outputs","id":"NC_7JJsNWkDeWLO_eaAHs","children":[{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:18,241 - stpipe - INFO - PARS-EMICORRSTEP parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-emicorrstep_0003.asdf\n"},"children":[],"key":"psySqqjd9Z"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:18,259 - stpipe - INFO - PARS-DARKCURRENTSTEP parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-darkcurrentstep_0001.asdf\n"},"children":[],"key":"KWQhzNOz00"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:18,270 - stpipe - INFO - PARS-JUMPSTEP parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-jumpstep_0005.asdf\n"},"children":[],"key":"PCkISTVgXR"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:18,282 - stpipe - INFO - PARS-DETECTOR1PIPELINE parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-detector1pipeline_0008.asdf\n"},"children":[],"key":"FQB1jClz1V"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:18,298 - stpipe.Detector1Pipeline - INFO - Detector1Pipeline instance created.\n"},"children":[],"key":"FwAAcPfaSY"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:18,299 - stpipe.Detector1Pipeline.group_scale - INFO - GroupScaleStep instance created.\n"},"children":[],"key":"iqhffmL42o"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:18,300 - stpipe.Detector1Pipeline.dq_init - INFO - DQInitStep instance created.\n"},"children":[],"key":"fVisEXylus"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:18,301 - stpipe.Detector1Pipeline.emicorr - INFO - EmiCorrStep instance created.\n"},"children":[],"key":"xwPci8W3Wb"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:18,302 - stpipe.Detector1Pipeline.saturation - INFO - SaturationStep instance created.\n"},"children":[],"key":"CgeWsNqaxj"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:18,303 - stpipe.Detector1Pipeline.ipc - INFO - IPCStep instance created.\n"},"children":[],"key":"ewB2poBJ6U"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:18,304 - stpipe.Detector1Pipeline.superbias - INFO - SuperBiasStep instance created.\n"},"children":[],"key":"rmu3pSMUKn"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:18,305 - stpipe.Detector1Pipeline.refpix - INFO - RefPixStep instance created.\n"},"children":[],"key":"fMn0tia5OJ"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:18,307 - stpipe.Detector1Pipeline.rscd - INFO - RscdStep instance created.\n"},"children":[],"key":"j9ergrBJvy"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:18,308 - stpipe.Detector1Pipeline.firstframe - INFO - FirstFrameStep instance created.\n"},"children":[],"key":"s6UKsccDwK"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:18,309 - stpipe.Detector1Pipeline.lastframe - INFO - LastFrameStep instance created.\n"},"children":[],"key":"DsrNstB7JG"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:18,310 - stpipe.Detector1Pipeline.linearity - INFO - LinearityStep instance created.\n"},"children":[],"key":"ewmHr17k6P"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:18,311 - stpipe.Detector1Pipeline.dark_current - INFO - DarkCurrentStep instance created.\n"},"children":[],"key":"pmGJ6Hm71M"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:18,312 - stpipe.Detector1Pipeline.reset - INFO - ResetStep instance created.\n"},"children":[],"key":"rXFxjACYzM"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:18,313 - stpipe.Detector1Pipeline.persistence - INFO - PersistenceStep instance created.\n"},"children":[],"key":"S9JWPE9K6J"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:18,314 - stpipe.Detector1Pipeline.charge_migration - INFO - ChargeMigrationStep instance created.\n"},"children":[],"key":"gYx7PQEkZF"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:18,316 - stpipe.Detector1Pipeline.jump - INFO - JumpStep instance created.\n"},"children":[],"key":"yl73xAraZT"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:18,317 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - CleanFlickerNoiseStep instance created.\n"},"children":[],"key":"nTlyWc8oai"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:18,318 - stpipe.Detector1Pipeline.ramp_fit - INFO - RampFitStep instance created.\n"},"children":[],"key":"HDpMcv4DrL"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:18,320 - stpipe.Detector1Pipeline.gain_scale - INFO - GainScaleStep instance created.\n"},"children":[],"key":"RnEsU4DjeD"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:18,443 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline running with args ('./mir_im_demo_data/Obs001/uncal/jw01040001005_03103_00001_mirimage_uncal.fits',).\n"},"children":[],"key":"rHtI8HaQtD"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:18,463 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline parameters are:\n  pre_hooks: []\n  post_hooks: []\n  output_file: None\n  output_dir: ./mir_im_demo_data/Obs001/stage1\n  output_ext: .fits\n  output_use_model: False\n  output_use_index: True\n  save_results: True\n  skip: False\n  suffix: None\n  search_output_file: True\n  input_dir: ''\n  save_calibrated_ramp: False\n  steps:\n    group_scale:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n    dq_init:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n    emicorr:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      algorithm: joint\n      nints_to_phase: None\n      nbins: None\n      scale_reference: True\n      onthefly_corr_freq: None\n      use_n_cycles: 3\n      fit_ints_separately: False\n      user_supplied_reffile: None\n      save_intermediate_results: False\n    saturation:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      n_pix_grow_sat: 1\n      use_readpatt: True\n    ipc:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: True\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n    superbias:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n    refpix:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: True\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      odd_even_columns: True\n      use_side_ref_pixels: True\n      side_smoothing_length: 11\n      side_gain: 1.0\n      odd_even_rows: True\n      ovr_corr_mitigation_ftr: 3.0\n      preserve_irs2_refpix: False\n      irs2_mean_subtraction: False\n      refpix_algorithm: median\n      sigreject: 4.0\n      gaussmooth: 1.0\n      halfwidth: 30\n    rscd:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n    firstframe:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      bright_use_group1: False\n    lastframe:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n    linearity:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n    dark_current:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      dark_output: None\n      average_dark_current: 1.0\n    reset:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n    persistence:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      input_trapsfilled: ''\n      flag_pers_cutoff: 40.0\n      save_persistence: False\n      save_trapsfilled: True\n      modify_input: False\n    charge_migration:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: True\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      signal_threshold: 25000.0\n    jump:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      rejection_threshold: 4.0\n      three_group_rejection_threshold: 6.0\n      four_group_rejection_threshold: 5.0\n      maximum_cores: half\n      flag_4_neighbors: True\n      max_jump_to_flag_neighbors: 1000\n      min_jump_to_flag_neighbors: 30\n      after_jump_flag_dn1: 500\n      after_jump_flag_time1: 15\n      after_jump_flag_dn2: 1000\n      after_jump_flag_time2: 3000\n      expand_large_events: False\n      min_sat_area: 1\n      min_jump_area: 0\n      expand_factor: 0\n      use_ellipses: False\n      sat_required_snowball: False\n      min_sat_radius_extend: 0.0\n      sat_expand: 0\n      edge_size: 0\n      mask_snowball_core_next_int: True\n      snowball_time_masked_next_int: 4000\n      find_showers: True\n      max_shower_amplitude: 4.0\n      extend_snr_threshold: 3.0\n      extend_min_area: 50\n      extend_inner_radius: 1\n      extend_outer_radius: 2.6\n      extend_ellipse_expand_ratio: 1.1\n      time_masked_after_shower: 30\n      min_diffs_single_pass: 10\n      max_extended_radius: 200\n      minimum_groups: 3\n      minimum_sigclip_groups: 100\n      only_use_ints: True\n    clean_flicker_noise:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: True\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      fit_method: median\n      fit_by_channel: False\n      background_method: median\n      background_box_size: None\n      mask_science_regions: False\n      apply_flat_field: False\n      n_sigma: 2.0\n      fit_histogram: False\n      single_mask: True\n      user_mask: None\n      save_mask: False\n      save_background: False\n      save_noise: False\n    ramp_fit:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      algorithm: OLS_C\n      int_name: ''\n      save_opt: False\n      opt_name: ''\n      suppress_one_group: True\n      firstgroup: None\n      lastgroup: None\n      maximum_cores: '1'\n    gain_scale:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n"},"children":[],"key":"e93uJFFMvi"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:18,484 - stpipe.Detector1Pipeline - INFO - Prefetching reference files for dataset: 'jw01040001005_03103_00001_mirimage_uncal.fits' reftypes = ['dark', 'emicorr', 'gain', 'linearity', 'mask', 'persat', 'readnoise', 'reset', 'rscd', 'saturation', 'superbias', 'trapdensity', 'trappars']\n"},"children":[],"key":"YX0kbquha0"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:18,486 - stpipe.Detector1Pipeline - INFO - Prefetch for DARK reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_dark_0113.fits'.\n"},"children":[],"key":"xvmuVLr6FK"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:18,487 - stpipe.Detector1Pipeline - INFO - Prefetch for EMICORR reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_emicorr_0003.asdf'.\n"},"children":[],"key":"oZg8zgMgUF"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:18,488 - stpipe.Detector1Pipeline - INFO - Prefetch for GAIN reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_gain_0034.fits'.\n"},"children":[],"key":"qY1DIsUKgB"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:18,488 - stpipe.Detector1Pipeline - INFO - Prefetch for LINEARITY reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_linearity_0032.fits'.\n"},"children":[],"key":"ySDW2kYpJR"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:18,489 - stpipe.Detector1Pipeline - INFO - Prefetch for MASK reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_mask_0036.fits'.\n"},"children":[],"key":"YgXRSQ74RZ"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:18,489 - stpipe.Detector1Pipeline - INFO - Prefetch for PERSAT reference file is 'N/A'.\n"},"children":[],"key":"PfuUT1TmWD"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:18,490 - stpipe.Detector1Pipeline - INFO - Prefetch for READNOISE reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_readnoise_0085.fits'.\n"},"children":[],"key":"u1aCC1rT5r"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:18,490 - stpipe.Detector1Pipeline - INFO - Prefetch for RESET reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_reset_0077.fits'.\n"},"children":[],"key":"nSI1vwqQzo"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:18,490 - stpipe.Detector1Pipeline - INFO - Prefetch for RSCD reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_rscd_0017.fits'.\n"},"children":[],"key":"aIEml05QIV"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:18,491 - stpipe.Detector1Pipeline - INFO - Prefetch for SATURATION reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_saturation_0034.fits'.\n"},"children":[],"key":"PX8t1cO3S0"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:18,492 - stpipe.Detector1Pipeline - INFO - Prefetch for SUPERBIAS reference file is 'N/A'.\n"},"children":[],"key":"xvc4cK4QvC"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:18,492 - stpipe.Detector1Pipeline - INFO - Prefetch for TRAPDENSITY reference file is 'N/A'.\n"},"children":[],"key":"ZqRH20Ltuq"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:18,492 - stpipe.Detector1Pipeline - INFO - Prefetch for TRAPPARS reference file is 'N/A'.\n"},"children":[],"key":"Y0qHtRr5Qz"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:18,493 - jwst.pipeline.calwebb_detector1 - INFO - Starting calwebb_detector1 ...\n"},"children":[],"key":"LV5x3krRBa"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:18,728 - stpipe.Detector1Pipeline.group_scale - INFO - Step group_scale running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00001_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"lX2axCIxHo"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:18,736 - stpipe.Detector1Pipeline.group_scale - INFO - NFRAMES and FRMDIVSR are equal; correction not needed\n"},"children":[],"key":"A7DWF1oVsx"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:18,737 - stpipe.Detector1Pipeline.group_scale - INFO - Step will be skipped\n"},"children":[],"key":"sUq8KXl06o"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:18,739 - stpipe.Detector1Pipeline.group_scale - INFO - Step group_scale done\n"},"children":[],"key":"aapGq1uwui"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:18,874 - stpipe.Detector1Pipeline.dq_init - INFO - Step dq_init running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00001_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"mBiV6TRjEF"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:18,886 - stpipe.Detector1Pipeline.dq_init - INFO - Using MASK reference file /home/runner/crds/references/jwst/miri/jwst_miri_mask_0036.fits\n"},"children":[],"key":"H8SdPJJpHm"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:18,931 - stdatamodels.dynamicdq - WARNING - Keyword RESERVED_4 does not correspond to an existing DQ mnemonic, so will be ignored\n"},"children":[],"key":"d6HROcTbWI"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:18,941 - stdatamodels.dynamicdq - WARNING - Keyword UNRELIABLE_RESET does not correspond to an existing DQ mnemonic, so will be ignored\n"},"children":[],"key":"GSKnV5sFNY"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:18,955 - CRDS - INFO -  Calibration SW Found: jwst 1.19.1 (/home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages/jwst-1.19.1.dist-info)\n"},"children":[],"key":"u7mbdCmDcZ"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:19,058 - stpipe.Detector1Pipeline.dq_init - INFO - Step dq_init done\n"},"children":[],"key":"F4pTSWjWKq"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:19,190 - stpipe.Detector1Pipeline.emicorr - INFO - Step emicorr running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00001_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"arp3yFp5It"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:19,215 - stpipe.Detector1Pipeline.emicorr - INFO - Using CRDS reference file: /home/runner/crds/references/jwst/miri/jwst_miri_emicorr_0003.asdf\n"},"children":[],"key":"urcMhKwRZ4"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:19,234 - jwst.emicorr.emicorr - INFO - Using reference file to get subarray case.\n"},"children":[],"key":"Zp9IqT9EHV"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:19,235 - jwst.emicorr.emicorr - INFO - With configuration: Subarray=FULL, Read_pattern=FASTR1, Detector=MIRIMAGE\n"},"children":[],"key":"qWzVMPL589"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:19,235 - jwst.emicorr.emicorr - INFO - Will correct data for the following 1 frequencies: \n"},"children":[],"key":"GCTpW0StLz"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:19,236 - jwst.emicorr.emicorr - INFO -    ['Hz10']\n"},"children":[],"key":"G6TtyYpJZ8"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:19,236 - jwst.emicorr.emicorr - INFO - Running EMI fit with algorithm = 'joint'.\n"},"children":[],"key":"GmDzvzeTqc"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:25,290 - stpipe.Detector1Pipeline.emicorr - INFO - Step emicorr done\n"},"children":[],"key":"wzz6d55W2U"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:25,436 - stpipe.Detector1Pipeline.saturation - INFO - Step saturation running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00001_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"Z5HO6BEABE"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:25,450 - stpipe.Detector1Pipeline.saturation - INFO - Using SATURATION reference file /home/runner/crds/references/jwst/miri/jwst_miri_saturation_0034.fits\n"},"children":[],"key":"RY6tBPk7CY"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:25,451 - stpipe.Detector1Pipeline.saturation - INFO - Using SUPERBIAS reference file N/A\n"},"children":[],"key":"TDYg9rF00R"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:25,473 - stdatamodels.dynamicdq - WARNING - Keyword RESERVED_4 does not correspond to an existing DQ mnemonic, so will be ignored\n"},"children":[],"key":"dqLtohtT5P"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:25,482 - stdatamodels.dynamicdq - WARNING - Keyword UNRELIABLE_RESET does not correspond to an existing DQ mnemonic, so will be ignored\n"},"children":[],"key":"e3m1cH7LVO"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:25,502 - jwst.saturation.saturation - INFO - Using read_pattern with nframes 1\n"},"children":[],"key":"VFscTSi54e"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:25,549 - stcal.saturation.saturation - INFO - Detected 820 saturated pixels\n"},"children":[],"key":"JOlZt6Ywqd"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:25,552 - stcal.saturation.saturation - INFO - Detected 76 A/D floor pixels\n"},"children":[],"key":"OFg5DuDvMj"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:25,556 - stpipe.Detector1Pipeline.saturation - INFO - Step saturation done\n"},"children":[],"key":"c9fIKFp5tc"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:25,679 - stpipe.Detector1Pipeline.ipc - INFO - Step ipc running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00001_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"sU02nqGCBi"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:25,679 - stpipe.Detector1Pipeline.ipc - INFO - Step skipped.\n"},"children":[],"key":"Fwznitufmk"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:25,793 - stpipe.Detector1Pipeline.firstframe - INFO - Step firstframe running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00001_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"xJ8Bm0aQbe"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:25,813 - stpipe.Detector1Pipeline.firstframe - INFO - Step firstframe done\n"},"children":[],"key":"OaLR6AZoVO"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:25,936 - stpipe.Detector1Pipeline.lastframe - INFO - Step lastframe running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00001_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"kNCkhJklr1"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:25,968 - stpipe.Detector1Pipeline.lastframe - INFO - Step lastframe done\n"},"children":[],"key":"FcSfx0lxFn"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:26,095 - stpipe.Detector1Pipeline.reset - INFO - Step reset running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00001_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"UzgTIdhRal"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:26,113 - stpipe.Detector1Pipeline.reset - INFO - Using RESET reference file /home/runner/crds/references/jwst/miri/jwst_miri_reset_0077.fits\n"},"children":[],"key":"gLPElCX1Hb"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:26,165 - stdatamodels.dynamicdq - WARNING - Keyword RESERVED_4 does not correspond to an existing DQ mnemonic, so will be ignored\n"},"children":[],"key":"C8Yh3LRwD6"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:26,174 - stdatamodels.dynamicdq - WARNING - Keyword UNRELIABLE_RESET does not correspond to an existing DQ mnemonic, so will be ignored\n"},"children":[],"key":"y4tlHGu6gZ"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:26,211 - stpipe.Detector1Pipeline.reset - INFO - Step reset done\n"},"children":[],"key":"mN8MWbzEUq"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:26,344 - stpipe.Detector1Pipeline.linearity - INFO - Step linearity running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00001_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"zo4IuawQBo"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:26,356 - stpipe.Detector1Pipeline.linearity - INFO - Using Linearity reference file /home/runner/crds/references/jwst/miri/jwst_miri_linearity_0032.fits\n"},"children":[],"key":"v6i7PCOenK"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:26,380 - stdatamodels.dynamicdq - WARNING - Keyword RESERVED_4 does not correspond to an existing DQ mnemonic, so will be ignored\n"},"children":[],"key":"dP273rCuQS"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:26,390 - stdatamodels.dynamicdq - WARNING - Keyword UNRELIABLE_RESET does not correspond to an existing DQ mnemonic, so will be ignored\n"},"children":[],"key":"TmJum3IxFi"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:26,465 - stpipe.Detector1Pipeline.linearity - INFO - Step linearity done\n"},"children":[],"key":"BuKDNGBFjC"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:26,590 - stpipe.Detector1Pipeline.rscd - INFO - Step rscd running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00001_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"TKupVYvb65"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:26,602 - stpipe.Detector1Pipeline.rscd - INFO - Using RSCD reference file /home/runner/crds/references/jwst/miri/jwst_miri_rscd_0017.fits\n"},"children":[],"key":"dY5khbXlrV"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:26,646 - jwst.rscd.rscd_sub - INFO - Number of groups to skip for integrations 2 and higher: 2\n"},"children":[],"key":"AEyBGcvGpb"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:26,648 - stpipe.Detector1Pipeline.rscd - INFO - Step rscd done\n"},"children":[],"key":"aoXgGBIouB"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:26,766 - stpipe.Detector1Pipeline.dark_current - INFO - Step dark_current running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00001_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"wWUw5g0l9I"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:26,779 - stpipe.Detector1Pipeline.dark_current - INFO - Using DARK reference file /home/runner/crds/references/jwst/miri/jwst_miri_dark_0113.fits\n"},"children":[],"key":"IsPeEKyHqd"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:27,294 - stpipe.Detector1Pipeline.dark_current - INFO - Using Poisson noise from average dark current 1.0 e-/sec\n"},"children":[],"key":"VisWayK4qF"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:27,295 - stcal.dark_current.dark_sub - INFO - Science data nints=1, ngroups=6, nframes=1, groupgap=0\n"},"children":[],"key":"AJIyqdHNCS"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:27,295 - stcal.dark_current.dark_sub - INFO - Dark data nints=2, ngroups=360, nframes=1, groupgap=0\n"},"children":[],"key":"YQMX2dW3mU"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:27,821 - stpipe.Detector1Pipeline.dark_current - INFO - Step dark_current done\n"},"children":[],"key":"C8S5MLLxZY"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:27,947 - stpipe.Detector1Pipeline.refpix - INFO - Step refpix running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00001_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"gGpFxQ5fnw"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:27,948 - stpipe.Detector1Pipeline.refpix - INFO - Step skipped.\n"},"children":[],"key":"eMkdd2ZGMS"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:28,075 - stpipe.Detector1Pipeline.charge_migration - INFO - Step charge_migration running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00001_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"jLOWRNJVvz"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:28,076 - stpipe.Detector1Pipeline.charge_migration - INFO - Step skipped.\n"},"children":[],"key":"V8udLg0IaG"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:28,196 - stpipe.Detector1Pipeline.jump - INFO - Step jump running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00001_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"im039ieKcl"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:28,204 - stpipe.Detector1Pipeline.jump - INFO - CR rejection threshold = 4 sigma\n"},"children":[],"key":"C9UhiYWGrG"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:28,205 - stpipe.Detector1Pipeline.jump - INFO - Maximum cores to use = half\n"},"children":[],"key":"eBahuJ4kLW"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:28,223 - stpipe.Detector1Pipeline.jump - INFO - Using GAIN reference file: /home/runner/crds/references/jwst/miri/jwst_miri_gain_0034.fits\n"},"children":[],"key":"EH3KErnnW6"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:28,226 - stpipe.Detector1Pipeline.jump - INFO - Using READNOISE reference file: /home/runner/crds/references/jwst/miri/jwst_miri_readnoise_0085.fits\n"},"children":[],"key":"pCI6PU04SB"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:28,268 - stcal.jump.jump - INFO - Executing two-point difference method\n"},"children":[],"key":"D361FKIums"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:28,269 - stcal.jump.jump - INFO - Creating 2 processes for jump detection \n"},"children":[],"key":"mHEWT4Fq62"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:29,194 - stcal.jump.jump - INFO - Flagging Showers\n"},"children":[],"key":"MJXAtbOMMK"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:29,205 - stcal.jump.jump - WARNING - Not enough differences for shower detections\n"},"children":[],"key":"mNSxG39vhf"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:29,206 - stcal.jump.jump - INFO - Total showers= 0\n"},"children":[],"key":"jG2ZKGJeNz"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:29,206 - stcal.jump.jump - INFO - Total elapsed time = 0.937429 sec\n"},"children":[],"key":"U4FQCkAkh0"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:29,213 - stpipe.Detector1Pipeline.jump - INFO - The execution time in seconds: 1.009358\n"},"children":[],"key":"H1QlbHoMoz"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:29,216 - stpipe.Detector1Pipeline.jump - INFO - Step jump done\n"},"children":[],"key":"NUtbw3UGLO"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:29,341 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - Step clean_flicker_noise running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00001_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"z230XC2NuY"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:29,342 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - Step skipped.\n"},"children":[],"key":"Nn7UlPmE2C"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:29,473 - stpipe.Detector1Pipeline.ramp_fit - INFO - Step ramp_fit running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00001_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"tOkOr5JkBx"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:29,509 - jwst.ramp_fitting.ramp_fit_step - INFO - Using READNOISE reference file: /home/runner/crds/references/jwst/miri/jwst_miri_readnoise_0085.fits\n"},"children":[],"key":"GvBlUeRK3i"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:29,509 - jwst.ramp_fitting.ramp_fit_step - INFO - Using GAIN reference file: /home/runner/crds/references/jwst/miri/jwst_miri_gain_0034.fits\n"},"children":[],"key":"DiAcZytU6G"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:29,536 - jwst.ramp_fitting.ramp_fit_step - INFO - Using algorithm = OLS_C\n"},"children":[],"key":"nwh0uaHhJi"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:29,536 - jwst.ramp_fitting.ramp_fit_step - INFO - Using weighting = optimal\n"},"children":[],"key":"ZJnXPoLmiI"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:29,554 - stcal.ramp_fitting.ols_fit - INFO - Number of multiprocessing slices: 1\n"},"children":[],"key":"MBKi0RcUwA"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:29,559 - stcal.ramp_fitting.ols_fit - INFO - Number of leading groups that are flagged as DO_NOT_USE: 1\n"},"children":[],"key":"bQoluQsg3K"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:29,560 - stcal.ramp_fitting.ols_fit - INFO - MIRI dataset has all pixels in the final group flagged as DO_NOT_USE.\n"},"children":[],"key":"m2GAAYYHOz"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:29,962 - stcal.ramp_fitting.ols_fit - INFO - Ramp Fitting C Time: 0.4004828929901123\n"},"children":[],"key":"lKsIf2Z5tp"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,011 - stpipe.Detector1Pipeline.ramp_fit - INFO - Step ramp_fit done\n"},"children":[],"key":"YsV6xM4NEc"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,151 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale running with args (\u003cImageModel(1024, 1032) from jw01040001005_03103_00001_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"qCjJDC3n8B"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,180 - stpipe.Detector1Pipeline.gain_scale - INFO - GAINFACT not found in gain reference file\n"},"children":[],"key":"Pp9KYdKuw9"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,180 - stpipe.Detector1Pipeline.gain_scale - INFO - Step will be skipped\n"},"children":[],"key":"a1qRKQTIas"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,183 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale done\n"},"children":[],"key":"cLT1ui9NmM"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,328 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale running with args (\u003cCubeModel(1, 1024, 1032) from jw01040001005_03103_00001_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"EpSZBHtX6V"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,351 - stpipe.Detector1Pipeline.gain_scale - INFO - GAINFACT not found in gain reference file\n"},"children":[],"key":"OnmIF3RA9L"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,351 - stpipe.Detector1Pipeline.gain_scale - INFO - Step will be skipped\n"},"children":[],"key":"ezDpZr7zq8"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,353 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale done\n"},"children":[],"key":"wIvD0UKn8t"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,428 - stpipe.Detector1Pipeline - INFO - Saved model in ./mir_im_demo_data/Obs001/stage1/jw01040001005_03103_00001_mirimage_rateints.fits\n"},"children":[],"key":"CV72QTGWbu"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,429 - jwst.pipeline.calwebb_detector1 - INFO - ... ending calwebb_detector1\n"},"children":[],"key":"lqIspMYJZe"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,429 - jwst.stpipe.core - INFO - Results used CRDS context: jwst_1413.pmap\n"},"children":[],"key":"I1kGpY3JZF"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,501 - stpipe.Detector1Pipeline - INFO - Saved model in ./mir_im_demo_data/Obs001/stage1/jw01040001005_03103_00001_mirimage_rate.fits\n"},"children":[],"key":"ea3sGAkm27"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,501 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline done\n"},"children":[],"key":"eysd9VuGBC"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,502 - jwst.stpipe.core - INFO - Results used jwst version: 1.19.1\n"},"children":[],"key":"JQdEBcExhf"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,526 - stpipe - INFO - PARS-EMICORRSTEP parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-emicorrstep_0003.asdf\n"},"children":[],"key":"ToWVNTds4U"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,541 - stpipe - INFO - PARS-DARKCURRENTSTEP parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-darkcurrentstep_0001.asdf\n"},"children":[],"key":"MWf4C1GLSC"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,552 - stpipe - INFO - PARS-JUMPSTEP parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-jumpstep_0005.asdf\n"},"children":[],"key":"QES1ub46Xh"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,564 - stpipe - INFO - PARS-DETECTOR1PIPELINE parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-detector1pipeline_0008.asdf\n"},"children":[],"key":"VoD5Ufm99O"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,580 - stpipe.Detector1Pipeline - INFO - Detector1Pipeline instance created.\n"},"children":[],"key":"mZ6MNfu9r0"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,581 - stpipe.Detector1Pipeline.group_scale - INFO - GroupScaleStep instance created.\n"},"children":[],"key":"qO6Nbq2Cci"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,582 - stpipe.Detector1Pipeline.dq_init - INFO - DQInitStep instance created.\n"},"children":[],"key":"uVpWarVqMf"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,583 - stpipe.Detector1Pipeline.emicorr - INFO - EmiCorrStep instance created.\n"},"children":[],"key":"pebSeGl8fx"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,584 - stpipe.Detector1Pipeline.saturation - INFO - SaturationStep instance created.\n"},"children":[],"key":"HWbn7OPTVB"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,585 - stpipe.Detector1Pipeline.ipc - INFO - IPCStep instance created.\n"},"children":[],"key":"BgSr0ZxgAa"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,586 - stpipe.Detector1Pipeline.superbias - INFO - SuperBiasStep instance created.\n"},"children":[],"key":"oE6AMtZyvw"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,587 - stpipe.Detector1Pipeline.refpix - INFO - RefPixStep instance created.\n"},"children":[],"key":"n40IUqP9ND"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,588 - stpipe.Detector1Pipeline.rscd - INFO - RscdStep instance created.\n"},"children":[],"key":"VJz0W9kYyX"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,588 - stpipe.Detector1Pipeline.firstframe - INFO - FirstFrameStep instance created.\n"},"children":[],"key":"aHIuv6afA1"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,590 - stpipe.Detector1Pipeline.lastframe - INFO - LastFrameStep instance created.\n"},"children":[],"key":"GhIsh98Nd1"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,590 - stpipe.Detector1Pipeline.linearity - INFO - LinearityStep instance created.\n"},"children":[],"key":"gAKxCJqjjD"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,591 - stpipe.Detector1Pipeline.dark_current - INFO - DarkCurrentStep instance created.\n"},"children":[],"key":"X28D39F7DT"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,592 - stpipe.Detector1Pipeline.reset - INFO - ResetStep instance created.\n"},"children":[],"key":"c11VoJNKPK"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,593 - stpipe.Detector1Pipeline.persistence - INFO - PersistenceStep instance created.\n"},"children":[],"key":"hAdoXKPHL9"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,594 - stpipe.Detector1Pipeline.charge_migration - INFO - ChargeMigrationStep instance created.\n"},"children":[],"key":"FCQLSrElB5"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,596 - stpipe.Detector1Pipeline.jump - INFO - JumpStep instance created.\n"},"children":[],"key":"mi0BHFchIX"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,597 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - CleanFlickerNoiseStep instance created.\n"},"children":[],"key":"YuUHE7AW8N"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,598 - stpipe.Detector1Pipeline.ramp_fit - INFO - RampFitStep instance created.\n"},"children":[],"key":"W3zdOkV6C8"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,599 - stpipe.Detector1Pipeline.gain_scale - INFO - GainScaleStep instance created.\n"},"children":[],"key":"CDmlYQiTEe"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,736 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline running with args ('./mir_im_demo_data/Obs001/uncal/jw01040001005_03103_00002_mirimage_uncal.fits',).\n"},"children":[],"key":"MOlfKZDHSO"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,756 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline parameters are:\n  pre_hooks: []\n  post_hooks: []\n  output_file: None\n  output_dir: ./mir_im_demo_data/Obs001/stage1\n  output_ext: .fits\n  output_use_model: False\n  output_use_index: True\n  save_results: True\n  skip: False\n  suffix: None\n  search_output_file: True\n  input_dir: ''\n  save_calibrated_ramp: False\n  steps:\n    group_scale:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n    dq_init:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n    emicorr:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      algorithm: joint\n      nints_to_phase: None\n      nbins: None\n      scale_reference: True\n      onthefly_corr_freq: None\n      use_n_cycles: 3\n      fit_ints_separately: False\n      user_supplied_reffile: None\n      save_intermediate_results: False\n    saturation:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      n_pix_grow_sat: 1\n      use_readpatt: True\n    ipc:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: True\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n    superbias:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n    refpix:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: True\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      odd_even_columns: True\n      use_side_ref_pixels: True\n      side_smoothing_length: 11\n      side_gain: 1.0\n      odd_even_rows: True\n      ovr_corr_mitigation_ftr: 3.0\n      preserve_irs2_refpix: False\n      irs2_mean_subtraction: False\n      refpix_algorithm: median\n      sigreject: 4.0\n      gaussmooth: 1.0\n      halfwidth: 30\n    rscd:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n    firstframe:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      bright_use_group1: False\n    lastframe:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n    linearity:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n    dark_current:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      dark_output: None\n      average_dark_current: 1.0\n    reset:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n    persistence:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      input_trapsfilled: ''\n      flag_pers_cutoff: 40.0\n      save_persistence: False\n      save_trapsfilled: True\n      modify_input: False\n    charge_migration:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: True\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      signal_threshold: 25000.0\n    jump:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      rejection_threshold: 4.0\n      three_group_rejection_threshold: 6.0\n      four_group_rejection_threshold: 5.0\n      maximum_cores: half\n      flag_4_neighbors: True\n      max_jump_to_flag_neighbors: 1000\n      min_jump_to_flag_neighbors: 30\n      after_jump_flag_dn1: 500\n      after_jump_flag_time1: 15\n      after_jump_flag_dn2: 1000\n      after_jump_flag_time2: 3000\n      expand_large_events: False\n      min_sat_area: 1\n      min_jump_area: 0\n      expand_factor: 0\n      use_ellipses: False\n      sat_required_snowball: False\n      min_sat_radius_extend: 0.0\n      sat_expand: 0\n      edge_size: 0\n      mask_snowball_core_next_int: True\n      snowball_time_masked_next_int: 4000\n      find_showers: True\n      max_shower_amplitude: 4.0\n      extend_snr_threshold: 3.0\n      extend_min_area: 50\n      extend_inner_radius: 1\n      extend_outer_radius: 2.6\n      extend_ellipse_expand_ratio: 1.1\n      time_masked_after_shower: 30\n      min_diffs_single_pass: 10\n      max_extended_radius: 200\n      minimum_groups: 3\n      minimum_sigclip_groups: 100\n      only_use_ints: True\n    clean_flicker_noise:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: True\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      fit_method: median\n      fit_by_channel: False\n      background_method: median\n      background_box_size: None\n      mask_science_regions: False\n      apply_flat_field: False\n      n_sigma: 2.0\n      fit_histogram: False\n      single_mask: True\n      user_mask: None\n      save_mask: False\n      save_background: False\n      save_noise: False\n    ramp_fit:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      algorithm: OLS_C\n      int_name: ''\n      save_opt: False\n      opt_name: ''\n      suppress_one_group: True\n      firstgroup: None\n      lastgroup: None\n      maximum_cores: '1'\n    gain_scale:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n"},"children":[],"key":"ywACEN2hug"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,777 - stpipe.Detector1Pipeline - INFO - Prefetching reference files for dataset: 'jw01040001005_03103_00002_mirimage_uncal.fits' reftypes = ['dark', 'emicorr', 'gain', 'linearity', 'mask', 'persat', 'readnoise', 'reset', 'rscd', 'saturation', 'superbias', 'trapdensity', 'trappars']\n"},"children":[],"key":"WUrEbZByoM"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,780 - stpipe.Detector1Pipeline - INFO - Prefetch for DARK reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_dark_0113.fits'.\n"},"children":[],"key":"o4O9zjSJC8"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,781 - stpipe.Detector1Pipeline - INFO - Prefetch for EMICORR reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_emicorr_0003.asdf'.\n"},"children":[],"key":"B61eZMKH7O"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,781 - stpipe.Detector1Pipeline - INFO - Prefetch for GAIN reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_gain_0034.fits'.\n"},"children":[],"key":"mKte8gKQ3R"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,782 - stpipe.Detector1Pipeline - INFO - Prefetch for LINEARITY reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_linearity_0032.fits'.\n"},"children":[],"key":"Oh0jyX56GH"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,782 - stpipe.Detector1Pipeline - INFO - Prefetch for MASK reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_mask_0036.fits'.\n"},"children":[],"key":"EYpNx7x0uT"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,782 - stpipe.Detector1Pipeline - INFO - Prefetch for PERSAT reference file is 'N/A'.\n"},"children":[],"key":"Y9m0QawXTI"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,783 - stpipe.Detector1Pipeline - INFO - Prefetch for READNOISE reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_readnoise_0085.fits'.\n"},"children":[],"key":"MSzgBzimAj"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,783 - stpipe.Detector1Pipeline - INFO - Prefetch for RESET reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_reset_0077.fits'.\n"},"children":[],"key":"DxppfZbFiP"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,784 - stpipe.Detector1Pipeline - INFO - Prefetch for RSCD reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_rscd_0017.fits'.\n"},"children":[],"key":"JHpl5mOsVO"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,784 - stpipe.Detector1Pipeline - INFO - Prefetch for SATURATION reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_saturation_0034.fits'.\n"},"children":[],"key":"oko9N63rwo"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,785 - stpipe.Detector1Pipeline - INFO - Prefetch for SUPERBIAS reference file is 'N/A'.\n"},"children":[],"key":"N2ODFfnWUo"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,785 - stpipe.Detector1Pipeline - INFO - Prefetch for TRAPDENSITY reference file is 'N/A'.\n"},"children":[],"key":"vEs3nwk76X"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,786 - stpipe.Detector1Pipeline - INFO - Prefetch for TRAPPARS reference file is 'N/A'.\n"},"children":[],"key":"SvYkAKLMeq"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:30,786 - jwst.pipeline.calwebb_detector1 - INFO - Starting calwebb_detector1 ...\n"},"children":[],"key":"Et42qUJ7Os"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:31,029 - stpipe.Detector1Pipeline.group_scale - INFO - Step group_scale running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00002_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"Ow9Y6B1eId"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:31,037 - stpipe.Detector1Pipeline.group_scale - INFO - NFRAMES and FRMDIVSR are equal; correction not needed\n"},"children":[],"key":"cOppUHAfh8"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:31,037 - stpipe.Detector1Pipeline.group_scale - INFO - Step will be skipped\n"},"children":[],"key":"kdYY6uVXw5"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:31,039 - stpipe.Detector1Pipeline.group_scale - INFO - Step group_scale done\n"},"children":[],"key":"ZokJaX1TDr"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:31,177 - stpipe.Detector1Pipeline.dq_init - INFO - Step dq_init running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00002_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"wra154r9KA"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:31,186 - stpipe.Detector1Pipeline.dq_init - INFO - Using MASK reference file /home/runner/crds/references/jwst/miri/jwst_miri_mask_0036.fits\n"},"children":[],"key":"y885nGGa5q"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:31,228 - stdatamodels.dynamicdq - WARNING - Keyword RESERVED_4 does not correspond to an existing DQ mnemonic, so will be ignored\n"},"children":[],"key":"agTC68fSqG"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:31,239 - stdatamodels.dynamicdq - WARNING - Keyword UNRELIABLE_RESET does not correspond to an existing DQ mnemonic, so will be ignored\n"},"children":[],"key":"tiH5EpfEwV"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:31,249 - stpipe.Detector1Pipeline.dq_init - INFO - Step dq_init done\n"},"children":[],"key":"mHfCna0MBd"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:31,388 - stpipe.Detector1Pipeline.emicorr - INFO - Step emicorr running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00002_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"wImyTqC2iL"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:31,413 - stpipe.Detector1Pipeline.emicorr - INFO - Using CRDS reference file: /home/runner/crds/references/jwst/miri/jwst_miri_emicorr_0003.asdf\n"},"children":[],"key":"sS30N9Nst0"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:31,432 - jwst.emicorr.emicorr - INFO - Using reference file to get subarray case.\n"},"children":[],"key":"LbGsoDEtUf"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:31,433 - jwst.emicorr.emicorr - INFO - With configuration: Subarray=FULL, Read_pattern=FASTR1, Detector=MIRIMAGE\n"},"children":[],"key":"as4if9dDQl"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:31,433 - jwst.emicorr.emicorr - INFO - Will correct data for the following 1 frequencies: \n"},"children":[],"key":"YGY4qncirC"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:31,433 - jwst.emicorr.emicorr - INFO -    ['Hz10']\n"},"children":[],"key":"DMXz0Udx4l"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:31,434 - jwst.emicorr.emicorr - INFO - Running EMI fit with algorithm = 'joint'.\n"},"children":[],"key":"yuNzBpbWHF"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:37,460 - stpipe.Detector1Pipeline.emicorr - INFO - Step emicorr done\n"},"children":[],"key":"syedzlaUHE"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:37,587 - stpipe.Detector1Pipeline.saturation - INFO - Step saturation running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00002_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"NILVaioQLq"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:37,598 - stpipe.Detector1Pipeline.saturation - INFO - Using SATURATION reference file /home/runner/crds/references/jwst/miri/jwst_miri_saturation_0034.fits\n"},"children":[],"key":"xqIjK44mkh"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:37,598 - stpipe.Detector1Pipeline.saturation - INFO - Using SUPERBIAS reference file N/A\n"},"children":[],"key":"SCJVsU8tfD"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:37,620 - stdatamodels.dynamicdq - WARNING - Keyword RESERVED_4 does not correspond to an existing DQ mnemonic, so will be ignored\n"},"children":[],"key":"MpP24s4H88"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:37,629 - stdatamodels.dynamicdq - WARNING - Keyword UNRELIABLE_RESET does not correspond to an existing DQ mnemonic, so will be ignored\n"},"children":[],"key":"e8D36IFmLf"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:37,643 - jwst.saturation.saturation - INFO - Using read_pattern with nframes 1\n"},"children":[],"key":"LZnKPjwYzU"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:37,681 - stcal.saturation.saturation - INFO - Detected 845 saturated pixels\n"},"children":[],"key":"AeJlKA8XqW"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:37,683 - stcal.saturation.saturation - INFO - Detected 80 A/D floor pixels\n"},"children":[],"key":"R6pYC0iBfv"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:37,688 - stpipe.Detector1Pipeline.saturation - INFO - Step saturation done\n"},"children":[],"key":"bcV5udZhTL"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:37,829 - stpipe.Detector1Pipeline.ipc - INFO - Step ipc running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00002_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"CUpUje0C7G"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:37,830 - stpipe.Detector1Pipeline.ipc - INFO - Step skipped.\n"},"children":[],"key":"xE39U8NdsG"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:37,969 - stpipe.Detector1Pipeline.firstframe - INFO - Step firstframe running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00002_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"hYBL2i89yR"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:37,994 - stpipe.Detector1Pipeline.firstframe - INFO - Step firstframe done\n"},"children":[],"key":"v8FQLNSzSC"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:38,134 - stpipe.Detector1Pipeline.lastframe - INFO - Step lastframe running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00002_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"rkc61or5WL"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:38,154 - stpipe.Detector1Pipeline.lastframe - INFO - Step lastframe done\n"},"children":[],"key":"QgxDECpl7g"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:38,282 - stpipe.Detector1Pipeline.reset - INFO - Step reset running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00002_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"tbEV32BZUS"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:38,292 - stpipe.Detector1Pipeline.reset - INFO - Using RESET reference file /home/runner/crds/references/jwst/miri/jwst_miri_reset_0077.fits\n"},"children":[],"key":"J6zLp9tB4G"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:38,341 - stdatamodels.dynamicdq - WARNING - Keyword RESERVED_4 does not correspond to an existing DQ mnemonic, so will be ignored\n"},"children":[],"key":"W6HyruqUJR"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:38,350 - stdatamodels.dynamicdq - WARNING - Keyword UNRELIABLE_RESET does not correspond to an existing DQ mnemonic, so will be ignored\n"},"children":[],"key":"dBncOzWzkt"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:38,387 - stpipe.Detector1Pipeline.reset - INFO - Step reset done\n"},"children":[],"key":"lVUTGOFECF"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:38,523 - stpipe.Detector1Pipeline.linearity - INFO - Step linearity running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00002_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"pK3BVisEip"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:38,533 - stpipe.Detector1Pipeline.linearity - INFO - Using Linearity reference file /home/runner/crds/references/jwst/miri/jwst_miri_linearity_0032.fits\n"},"children":[],"key":"RfM6D19ZCm"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:38,555 - stdatamodels.dynamicdq - WARNING - Keyword RESERVED_4 does not correspond to an existing DQ mnemonic, so will be ignored\n"},"children":[],"key":"QNJILa4PxY"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:38,564 - stdatamodels.dynamicdq - WARNING - Keyword UNRELIABLE_RESET does not correspond to an existing DQ mnemonic, so will be ignored\n"},"children":[],"key":"q03zBbmtNR"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:38,636 - stpipe.Detector1Pipeline.linearity - INFO - Step linearity done\n"},"children":[],"key":"zM5hPtfvzE"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:38,757 - stpipe.Detector1Pipeline.rscd - INFO - Step rscd running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00002_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"ALKCWbiKXT"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:38,766 - stpipe.Detector1Pipeline.rscd - INFO - Using RSCD reference file /home/runner/crds/references/jwst/miri/jwst_miri_rscd_0017.fits\n"},"children":[],"key":"E7MiOOC6Dl"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:38,808 - jwst.rscd.rscd_sub - INFO - Number of groups to skip for integrations 2 and higher: 2\n"},"children":[],"key":"n0C84HJ3h5"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:38,810 - stpipe.Detector1Pipeline.rscd - INFO - Step rscd done\n"},"children":[],"key":"pyLw0iywT1"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:38,930 - stpipe.Detector1Pipeline.dark_current - INFO - Step dark_current running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00002_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"PxDuYg0ACM"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:38,939 - stpipe.Detector1Pipeline.dark_current - INFO - Using DARK reference file /home/runner/crds/references/jwst/miri/jwst_miri_dark_0113.fits\n"},"children":[],"key":"Glhzr1jmHm"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:39,438 - stpipe.Detector1Pipeline.dark_current - INFO - Using Poisson noise from average dark current 1.0 e-/sec\n"},"children":[],"key":"hTMRtU9BE6"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:39,439 - stcal.dark_current.dark_sub - INFO - Science data nints=1, ngroups=6, nframes=1, groupgap=0\n"},"children":[],"key":"CAx5R1A1xC"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:39,439 - stcal.dark_current.dark_sub - INFO - Dark data nints=2, ngroups=360, nframes=1, groupgap=0\n"},"children":[],"key":"ebpfoP0gsA"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:40,001 - stpipe.Detector1Pipeline.dark_current - INFO - Step dark_current done\n"},"children":[],"key":"db0aiJJp1k"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:40,137 - stpipe.Detector1Pipeline.refpix - INFO - Step refpix running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00002_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"v1yp1dbqO7"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:40,137 - stpipe.Detector1Pipeline.refpix - INFO - Step skipped.\n"},"children":[],"key":"AhCNpD1SHu"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:40,285 - stpipe.Detector1Pipeline.charge_migration - INFO - Step charge_migration running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00002_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"pCdQBZnylx"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:40,285 - stpipe.Detector1Pipeline.charge_migration - INFO - Step skipped.\n"},"children":[],"key":"vAl3l5iPJ9"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:40,415 - stpipe.Detector1Pipeline.jump - INFO - Step jump running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00002_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"V3l0P2sntD"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:40,423 - stpipe.Detector1Pipeline.jump - INFO - CR rejection threshold = 4 sigma\n"},"children":[],"key":"LGUmeG5lSA"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:40,423 - stpipe.Detector1Pipeline.jump - INFO - Maximum cores to use = half\n"},"children":[],"key":"PEuKOvgKsC"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:40,437 - stpipe.Detector1Pipeline.jump - INFO - Using GAIN reference file: /home/runner/crds/references/jwst/miri/jwst_miri_gain_0034.fits\n"},"children":[],"key":"YH6lyiOqf5"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:40,440 - stpipe.Detector1Pipeline.jump - INFO - Using READNOISE reference file: /home/runner/crds/references/jwst/miri/jwst_miri_readnoise_0085.fits\n"},"children":[],"key":"kpAZnK49fi"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:40,481 - stcal.jump.jump - INFO - Executing two-point difference method\n"},"children":[],"key":"wD6wHN3uw6"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:40,481 - stcal.jump.jump - INFO - Creating 2 processes for jump detection \n"},"children":[],"key":"AdgnPIa7B1"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:41,406 - stcal.jump.jump - INFO - Flagging Showers\n"},"children":[],"key":"NqQVf5ntOS"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:41,419 - stcal.jump.jump - WARNING - Not enough differences for shower detections\n"},"children":[],"key":"Oe2y5TNuCR"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:41,419 - stcal.jump.jump - INFO - Total showers= 0\n"},"children":[],"key":"yI1kpFIpvZ"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:41,420 - stcal.jump.jump - INFO - Total elapsed time = 0.93824 sec\n"},"children":[],"key":"u2s5780NGS"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:41,427 - stpipe.Detector1Pipeline.jump - INFO - The execution time in seconds: 1.003979\n"},"children":[],"key":"RajjNgYSgr"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:41,430 - stpipe.Detector1Pipeline.jump - INFO - Step jump done\n"},"children":[],"key":"p762kpiOlx"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:41,574 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - Step clean_flicker_noise running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00002_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"ZdTnhXpQxg"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:41,575 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - Step skipped.\n"},"children":[],"key":"f5B37NLHpV"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:41,708 - stpipe.Detector1Pipeline.ramp_fit - INFO - Step ramp_fit running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00002_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"W8g7z4T9pc"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:41,735 - jwst.ramp_fitting.ramp_fit_step - INFO - Using READNOISE reference file: /home/runner/crds/references/jwst/miri/jwst_miri_readnoise_0085.fits\n"},"children":[],"key":"FBGamQLOKZ"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:41,736 - jwst.ramp_fitting.ramp_fit_step - INFO - Using GAIN reference file: /home/runner/crds/references/jwst/miri/jwst_miri_gain_0034.fits\n"},"children":[],"key":"qRsLGvLffe"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:41,762 - jwst.ramp_fitting.ramp_fit_step - INFO - Using algorithm = OLS_C\n"},"children":[],"key":"D6cFFUeytH"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:41,762 - jwst.ramp_fitting.ramp_fit_step - INFO - Using weighting = optimal\n"},"children":[],"key":"qR8Ixc6Lq4"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:41,780 - stcal.ramp_fitting.ols_fit - INFO - Number of multiprocessing slices: 1\n"},"children":[],"key":"yD1MvV6sHl"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:41,785 - stcal.ramp_fitting.ols_fit - INFO - Number of leading groups that are flagged as DO_NOT_USE: 1\n"},"children":[],"key":"lYlMwiT9MD"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:41,786 - stcal.ramp_fitting.ols_fit - INFO - MIRI dataset has all pixels in the final group flagged as DO_NOT_USE.\n"},"children":[],"key":"fQbU9Iql99"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,194 - stcal.ramp_fitting.ols_fit - INFO - Ramp Fitting C Time: 0.40610289573669434\n"},"children":[],"key":"jSoOPuAeqg"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,235 - stpipe.Detector1Pipeline.ramp_fit - INFO - Step ramp_fit done\n"},"children":[],"key":"SWnZmc1enq"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,358 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale running with args (\u003cImageModel(1024, 1032) from jw01040001005_03103_00002_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"PfJmMLu7v8"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,380 - stpipe.Detector1Pipeline.gain_scale - INFO - GAINFACT not found in gain reference file\n"},"children":[],"key":"SBnuanFQAH"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,380 - stpipe.Detector1Pipeline.gain_scale - INFO - Step will be skipped\n"},"children":[],"key":"hehVBBBHGU"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,382 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale done\n"},"children":[],"key":"TjIAydqdMF"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,507 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale running with args (\u003cCubeModel(1, 1024, 1032) from jw01040001005_03103_00002_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"u1UMeSCiTj"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,530 - stpipe.Detector1Pipeline.gain_scale - INFO - GAINFACT not found in gain reference file\n"},"children":[],"key":"BoADmtSzME"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,530 - stpipe.Detector1Pipeline.gain_scale - INFO - Step will be skipped\n"},"children":[],"key":"bcSe0sagZJ"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,532 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale done\n"},"children":[],"key":"NYMRLpHJqc"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,604 - stpipe.Detector1Pipeline - INFO - Saved model in ./mir_im_demo_data/Obs001/stage1/jw01040001005_03103_00002_mirimage_rateints.fits\n"},"children":[],"key":"L0rlvkvGVh"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,604 - jwst.pipeline.calwebb_detector1 - INFO - ... ending calwebb_detector1\n"},"children":[],"key":"ejy9xL4UWg"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,608 - jwst.stpipe.core - INFO - Results used CRDS context: jwst_1413.pmap\n"},"children":[],"key":"cXD0rIjRkO"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,679 - stpipe.Detector1Pipeline - INFO - Saved model in ./mir_im_demo_data/Obs001/stage1/jw01040001005_03103_00002_mirimage_rate.fits\n"},"children":[],"key":"aHMuKZ3fJo"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,680 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline done\n"},"children":[],"key":"frgaFl1l4Z"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,680 - jwst.stpipe.core - INFO - Results used jwst version: 1.19.1\n"},"children":[],"key":"lAJikAC8Tq"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,705 - stpipe - INFO - PARS-EMICORRSTEP parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-emicorrstep_0003.asdf\n"},"children":[],"key":"w9FdFbSSeM"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,720 - stpipe - INFO - PARS-DARKCURRENTSTEP parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-darkcurrentstep_0001.asdf\n"},"children":[],"key":"WSclFWnnUN"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,731 - stpipe - INFO - PARS-JUMPSTEP parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-jumpstep_0005.asdf\n"},"children":[],"key":"AAJTB7aSin"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,743 - stpipe - INFO - PARS-DETECTOR1PIPELINE parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-detector1pipeline_0008.asdf\n"},"children":[],"key":"gg2hQHYhAk"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,761 - stpipe.Detector1Pipeline - INFO - Detector1Pipeline instance created.\n"},"children":[],"key":"KxOYdhf64n"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,762 - stpipe.Detector1Pipeline.group_scale - INFO - GroupScaleStep instance created.\n"},"children":[],"key":"CFkOLPitaF"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,763 - stpipe.Detector1Pipeline.dq_init - INFO - DQInitStep instance created.\n"},"children":[],"key":"cZucLkB9nk"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,764 - stpipe.Detector1Pipeline.emicorr - INFO - EmiCorrStep instance created.\n"},"children":[],"key":"Aa2G8AgeNH"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,765 - stpipe.Detector1Pipeline.saturation - INFO - SaturationStep instance created.\n"},"children":[],"key":"E4j51jMW3V"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,766 - stpipe.Detector1Pipeline.ipc - INFO - IPCStep instance created.\n"},"children":[],"key":"XzZdgf9WNF"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,767 - stpipe.Detector1Pipeline.superbias - INFO - SuperBiasStep instance created.\n"},"children":[],"key":"bimmXWUkon"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,768 - stpipe.Detector1Pipeline.refpix - INFO - RefPixStep instance created.\n"},"children":[],"key":"moYXxjhGmA"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,770 - stpipe.Detector1Pipeline.rscd - INFO - RscdStep instance created.\n"},"children":[],"key":"ceyQ2e8GYo"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,770 - stpipe.Detector1Pipeline.firstframe - INFO - FirstFrameStep instance created.\n"},"children":[],"key":"DGlf2NeVxT"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,771 - stpipe.Detector1Pipeline.lastframe - INFO - LastFrameStep instance created.\n"},"children":[],"key":"EbkQrC8CU4"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,772 - stpipe.Detector1Pipeline.linearity - INFO - LinearityStep instance created.\n"},"children":[],"key":"DHmKeDY8Ge"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,773 - stpipe.Detector1Pipeline.dark_current - INFO - DarkCurrentStep instance created.\n"},"children":[],"key":"xKwFwsJonG"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,774 - stpipe.Detector1Pipeline.reset - INFO - ResetStep instance created.\n"},"children":[],"key":"xzaUg8ZdJL"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,776 - stpipe.Detector1Pipeline.persistence - INFO - PersistenceStep instance created.\n"},"children":[],"key":"u5DDOf83y0"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,776 - stpipe.Detector1Pipeline.charge_migration - INFO - ChargeMigrationStep instance created.\n"},"children":[],"key":"U5Kq2XeQmL"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,778 - stpipe.Detector1Pipeline.jump - INFO - JumpStep instance created.\n"},"children":[],"key":"aDAyOQrRnU"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,780 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - CleanFlickerNoiseStep instance created.\n"},"children":[],"key":"yFlXusc8I4"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,781 - stpipe.Detector1Pipeline.ramp_fit - INFO - RampFitStep instance created.\n"},"children":[],"key":"nclCpvOFBw"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,782 - stpipe.Detector1Pipeline.gain_scale - INFO - GainScaleStep instance created.\n"},"children":[],"key":"SQE2kJejEn"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,916 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline running with args ('./mir_im_demo_data/Obs001/uncal/jw01040001005_03103_00003_mirimage_uncal.fits',).\n"},"children":[],"key":"Q8dDZ0Uhp1"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,937 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline parameters are:\n  pre_hooks: []\n  post_hooks: []\n  output_file: None\n  output_dir: ./mir_im_demo_data/Obs001/stage1\n  output_ext: .fits\n  output_use_model: False\n  output_use_index: True\n  save_results: True\n  skip: False\n  suffix: None\n  search_output_file: True\n  input_dir: ''\n  save_calibrated_ramp: False\n  steps:\n    group_scale:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n    dq_init:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n    emicorr:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      algorithm: joint\n      nints_to_phase: None\n      nbins: None\n      scale_reference: True\n      onthefly_corr_freq: None\n      use_n_cycles: 3\n      fit_ints_separately: False\n      user_supplied_reffile: None\n      save_intermediate_results: False\n    saturation:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      n_pix_grow_sat: 1\n      use_readpatt: True\n    ipc:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: True\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n    superbias:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n    refpix:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: True\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      odd_even_columns: True\n      use_side_ref_pixels: True\n      side_smoothing_length: 11\n      side_gain: 1.0\n      odd_even_rows: True\n      ovr_corr_mitigation_ftr: 3.0\n      preserve_irs2_refpix: False\n      irs2_mean_subtraction: False\n      refpix_algorithm: median\n      sigreject: 4.0\n      gaussmooth: 1.0\n      halfwidth: 30\n    rscd:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n    firstframe:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      bright_use_group1: False\n    lastframe:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n    linearity:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n    dark_current:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      dark_output: None\n      average_dark_current: 1.0\n    reset:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n    persistence:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      input_trapsfilled: ''\n      flag_pers_cutoff: 40.0\n      save_persistence: False\n      save_trapsfilled: True\n      modify_input: False\n    charge_migration:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: True\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      signal_threshold: 25000.0\n    jump:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      rejection_threshold: 4.0\n      three_group_rejection_threshold: 6.0\n      four_group_rejection_threshold: 5.0\n      maximum_cores: half\n      flag_4_neighbors: True\n      max_jump_to_flag_neighbors: 1000\n      min_jump_to_flag_neighbors: 30\n      after_jump_flag_dn1: 500\n      after_jump_flag_time1: 15\n      after_jump_flag_dn2: 1000\n      after_jump_flag_time2: 3000\n      expand_large_events: False\n      min_sat_area: 1\n      min_jump_area: 0\n      expand_factor: 0\n      use_ellipses: False\n      sat_required_snowball: False\n      min_sat_radius_extend: 0.0\n      sat_expand: 0\n      edge_size: 0\n      mask_snowball_core_next_int: True\n      snowball_time_masked_next_int: 4000\n      find_showers: True\n      max_shower_amplitude: 4.0\n      extend_snr_threshold: 3.0\n      extend_min_area: 50\n      extend_inner_radius: 1\n      extend_outer_radius: 2.6\n      extend_ellipse_expand_ratio: 1.1\n      time_masked_after_shower: 30\n      min_diffs_single_pass: 10\n      max_extended_radius: 200\n      minimum_groups: 3\n      minimum_sigclip_groups: 100\n      only_use_ints: True\n    clean_flicker_noise:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: True\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      fit_method: median\n      fit_by_channel: False\n      background_method: median\n      background_box_size: None\n      mask_science_regions: False\n      apply_flat_field: False\n      n_sigma: 2.0\n      fit_histogram: False\n      single_mask: True\n      user_mask: None\n      save_mask: False\n      save_background: False\n      save_noise: False\n    ramp_fit:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      algorithm: OLS_C\n      int_name: ''\n      save_opt: False\n      opt_name: ''\n      suppress_one_group: True\n      firstgroup: None\n      lastgroup: None\n      maximum_cores: '1'\n    gain_scale:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n"},"children":[],"key":"n553zXyijU"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,958 - stpipe.Detector1Pipeline - INFO - Prefetching reference files for dataset: 'jw01040001005_03103_00003_mirimage_uncal.fits' reftypes = ['dark', 'emicorr', 'gain', 'linearity', 'mask', 'persat', 'readnoise', 'reset', 'rscd', 'saturation', 'superbias', 'trapdensity', 'trappars']\n"},"children":[],"key":"Ej8xuiB3im"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,961 - stpipe.Detector1Pipeline - INFO - Prefetch for DARK reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_dark_0113.fits'.\n"},"children":[],"key":"j8Ha7CRogB"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,961 - stpipe.Detector1Pipeline - INFO - Prefetch for EMICORR reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_emicorr_0003.asdf'.\n"},"children":[],"key":"KbHQa9aDvj"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,962 - stpipe.Detector1Pipeline - INFO - Prefetch for GAIN reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_gain_0034.fits'.\n"},"children":[],"key":"PVrT07P6oG"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,962 - stpipe.Detector1Pipeline - INFO - Prefetch for LINEARITY reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_linearity_0032.fits'.\n"},"children":[],"key":"BTei1KXGDo"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,963 - stpipe.Detector1Pipeline - INFO - Prefetch for MASK reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_mask_0036.fits'.\n"},"children":[],"key":"Ec3DzszV6g"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,963 - stpipe.Detector1Pipeline - INFO - Prefetch for PERSAT reference file is 'N/A'.\n"},"children":[],"key":"yLEomKHWVd"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,964 - stpipe.Detector1Pipeline - INFO - Prefetch for READNOISE reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_readnoise_0085.fits'.\n"},"children":[],"key":"WI61Enxaug"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,964 - stpipe.Detector1Pipeline - INFO - Prefetch for RESET reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_reset_0077.fits'.\n"},"children":[],"key":"FMV7Vb0dKR"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,965 - stpipe.Detector1Pipeline - INFO - Prefetch for RSCD reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_rscd_0017.fits'.\n"},"children":[],"key":"dAVLdVHD9h"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,966 - stpipe.Detector1Pipeline - INFO - Prefetch for SATURATION reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_saturation_0034.fits'.\n"},"children":[],"key":"R8KNywpTT4"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,966 - stpipe.Detector1Pipeline - INFO - Prefetch for SUPERBIAS reference file is 'N/A'.\n"},"children":[],"key":"VNqj7uRN0V"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,967 - stpipe.Detector1Pipeline - INFO - Prefetch for TRAPDENSITY reference file is 'N/A'.\n"},"children":[],"key":"bzxONSp2s6"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,967 - stpipe.Detector1Pipeline - INFO - Prefetch for TRAPPARS reference file is 'N/A'.\n"},"children":[],"key":"zYRCH67Uaz"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:42,968 - jwst.pipeline.calwebb_detector1 - INFO - Starting calwebb_detector1 ...\n"},"children":[],"key":"BDAOZjhfgW"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:43,209 - stpipe.Detector1Pipeline.group_scale - INFO - Step group_scale running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00003_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"O74No8OrAf"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:43,217 - stpipe.Detector1Pipeline.group_scale - INFO - NFRAMES and FRMDIVSR are equal; correction not needed\n"},"children":[],"key":"dnNui7ZDOA"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:43,217 - stpipe.Detector1Pipeline.group_scale - INFO - Step will be skipped\n"},"children":[],"key":"waPfpRyF2i"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:43,219 - stpipe.Detector1Pipeline.group_scale - INFO - Step group_scale done\n"},"children":[],"key":"XolJbiAWb3"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:43,338 - stpipe.Detector1Pipeline.dq_init - INFO - Step dq_init running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00003_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"vXYtUqD45t"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:43,347 - stpipe.Detector1Pipeline.dq_init - INFO - Using MASK reference file /home/runner/crds/references/jwst/miri/jwst_miri_mask_0036.fits\n"},"children":[],"key":"ZyG8PjOQ4l"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:43,397 - stdatamodels.dynamicdq - WARNING - Keyword RESERVED_4 does not correspond to an existing DQ mnemonic, so will be ignored\n"},"children":[],"key":"mJhUccHnEW"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:43,408 - stdatamodels.dynamicdq - WARNING - Keyword UNRELIABLE_RESET does not correspond to an existing DQ mnemonic, so will be ignored\n"},"children":[],"key":"QucaD7DHuY"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:43,422 - stpipe.Detector1Pipeline.dq_init - INFO - Step dq_init done\n"},"children":[],"key":"dlzP66mJ8H"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:43,562 - stpipe.Detector1Pipeline.emicorr - INFO - Step emicorr running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00003_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"EFiaOGICtb"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:43,582 - stpipe.Detector1Pipeline.emicorr - INFO - Using CRDS reference file: /home/runner/crds/references/jwst/miri/jwst_miri_emicorr_0003.asdf\n"},"children":[],"key":"ae5ez77EOs"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:43,600 - jwst.emicorr.emicorr - INFO - Using reference file to get subarray case.\n"},"children":[],"key":"OgjWdgPhli"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:43,600 - jwst.emicorr.emicorr - INFO - With configuration: Subarray=FULL, Read_pattern=FASTR1, Detector=MIRIMAGE\n"},"children":[],"key":"DUhEUG0Atu"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:43,600 - jwst.emicorr.emicorr - INFO - Will correct data for the following 1 frequencies: \n"},"children":[],"key":"nMhx6Pg8Ko"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:43,601 - jwst.emicorr.emicorr - INFO -    ['Hz10']\n"},"children":[],"key":"wPSYPgZgT3"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:43,601 - jwst.emicorr.emicorr - INFO - Running EMI fit with algorithm = 'joint'.\n"},"children":[],"key":"Zexf3aJJSn"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:49,637 - stpipe.Detector1Pipeline.emicorr - INFO - Step emicorr done\n"},"children":[],"key":"DfOaFOiBDo"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:49,772 - stpipe.Detector1Pipeline.saturation - INFO - Step saturation running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00003_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"hTtN5fxRal"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:49,782 - stpipe.Detector1Pipeline.saturation - INFO - Using SATURATION reference file /home/runner/crds/references/jwst/miri/jwst_miri_saturation_0034.fits\n"},"children":[],"key":"uhEFkQ7nhs"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:49,783 - stpipe.Detector1Pipeline.saturation - INFO - Using SUPERBIAS reference file N/A\n"},"children":[],"key":"GO8osT0iT9"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:49,804 - stdatamodels.dynamicdq - WARNING - Keyword RESERVED_4 does not correspond to an existing DQ mnemonic, so will be ignored\n"},"children":[],"key":"PyJUR0WJcK"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:49,813 - stdatamodels.dynamicdq - WARNING - Keyword UNRELIABLE_RESET does not correspond to an existing DQ mnemonic, so will be ignored\n"},"children":[],"key":"Y6qbgu6bMf"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:49,834 - jwst.saturation.saturation - INFO - Using read_pattern with nframes 1\n"},"children":[],"key":"xt2Hc9KDkh"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:49,872 - stcal.saturation.saturation - INFO - Detected 801 saturated pixels\n"},"children":[],"key":"q7PzW5QD9n"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:49,875 - stcal.saturation.saturation - INFO - Detected 59 A/D floor pixels\n"},"children":[],"key":"VlQumJBNNp"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:49,879 - stpipe.Detector1Pipeline.saturation - INFO - Step saturation done\n"},"children":[],"key":"OkAPqxavKt"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:50,012 - stpipe.Detector1Pipeline.ipc - INFO - Step ipc running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00003_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"Gi8OzFnizl"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:50,012 - stpipe.Detector1Pipeline.ipc - INFO - Step skipped.\n"},"children":[],"key":"y9VveLhQ38"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:50,135 - stpipe.Detector1Pipeline.firstframe - INFO - Step firstframe running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00003_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"cQTbY76eA6"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:50,155 - stpipe.Detector1Pipeline.firstframe - INFO - Step firstframe done\n"},"children":[],"key":"v0vAdpaSjo"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:50,279 - stpipe.Detector1Pipeline.lastframe - INFO - Step lastframe running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00003_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"adtHdfoW4v"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:50,305 - stpipe.Detector1Pipeline.lastframe - INFO - Step lastframe done\n"},"children":[],"key":"xChinPbz2L"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:50,430 - stpipe.Detector1Pipeline.reset - INFO - Step reset running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00003_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"DXaP3FHXm6"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:50,439 - stpipe.Detector1Pipeline.reset - INFO - Using RESET reference file /home/runner/crds/references/jwst/miri/jwst_miri_reset_0077.fits\n"},"children":[],"key":"w950ZcgBOD"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:50,490 - stdatamodels.dynamicdq - WARNING - Keyword RESERVED_4 does not correspond to an existing DQ mnemonic, so will be ignored\n"},"children":[],"key":"WLSvtVGw7b"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:50,499 - stdatamodels.dynamicdq - WARNING - Keyword UNRELIABLE_RESET does not correspond to an existing DQ mnemonic, so will be ignored\n"},"children":[],"key":"rUGxY5IJ2f"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:50,537 - stpipe.Detector1Pipeline.reset - INFO - Step reset done\n"},"children":[],"key":"GUNRqavoas"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:50,678 - stpipe.Detector1Pipeline.linearity - INFO - Step linearity running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00003_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"oXqzNHKqUF"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:50,688 - stpipe.Detector1Pipeline.linearity - INFO - Using Linearity reference file /home/runner/crds/references/jwst/miri/jwst_miri_linearity_0032.fits\n"},"children":[],"key":"rGb9vBzrlZ"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:50,712 - stdatamodels.dynamicdq - WARNING - Keyword RESERVED_4 does not correspond to an existing DQ mnemonic, so will be ignored\n"},"children":[],"key":"oPULxavzdh"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:50,721 - stdatamodels.dynamicdq - WARNING - Keyword UNRELIABLE_RESET does not correspond to an existing DQ mnemonic, so will be ignored\n"},"children":[],"key":"pA7B4dxPLp"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:50,798 - stpipe.Detector1Pipeline.linearity - INFO - Step linearity done\n"},"children":[],"key":"ujHEK4YA32"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:50,929 - stpipe.Detector1Pipeline.rscd - INFO - Step rscd running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00003_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"w840cdvOA5"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:50,938 - stpipe.Detector1Pipeline.rscd - INFO - Using RSCD reference file /home/runner/crds/references/jwst/miri/jwst_miri_rscd_0017.fits\n"},"children":[],"key":"oyDGqBdJLc"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:50,981 - jwst.rscd.rscd_sub - INFO - Number of groups to skip for integrations 2 and higher: 2\n"},"children":[],"key":"a6lKwr0fm8"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:50,984 - stpipe.Detector1Pipeline.rscd - INFO - Step rscd done\n"},"children":[],"key":"JedM9Vtlfm"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:51,132 - stpipe.Detector1Pipeline.dark_current - INFO - Step dark_current running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00003_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"fFVOXXn9cX"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:51,142 - stpipe.Detector1Pipeline.dark_current - INFO - Using DARK reference file /home/runner/crds/references/jwst/miri/jwst_miri_dark_0113.fits\n"},"children":[],"key":"xbKPGXPIVc"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:51,661 - stpipe.Detector1Pipeline.dark_current - INFO - Using Poisson noise from average dark current 1.0 e-/sec\n"},"children":[],"key":"ucM9mu8C2b"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:51,662 - stcal.dark_current.dark_sub - INFO - Science data nints=1, ngroups=6, nframes=1, groupgap=0\n"},"children":[],"key":"ZjGiVpudcp"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:51,662 - stcal.dark_current.dark_sub - INFO - Dark data nints=2, ngroups=360, nframes=1, groupgap=0\n"},"children":[],"key":"g7b1oGVKh2"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:52,213 - stpipe.Detector1Pipeline.dark_current - INFO - Step dark_current done\n"},"children":[],"key":"oQDCbQlxoD"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:52,349 - stpipe.Detector1Pipeline.refpix - INFO - Step refpix running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00003_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"JEl4BrVEQj"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:52,350 - stpipe.Detector1Pipeline.refpix - INFO - Step skipped.\n"},"children":[],"key":"VFfs9tWLmq"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:52,468 - stpipe.Detector1Pipeline.charge_migration - INFO - Step charge_migration running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00003_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"Q7vd8KztpN"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:52,469 - stpipe.Detector1Pipeline.charge_migration - INFO - Step skipped.\n"},"children":[],"key":"VL5KRtf2iE"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:52,589 - stpipe.Detector1Pipeline.jump - INFO - Step jump running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00003_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"TKuyy5SJLN"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:52,596 - stpipe.Detector1Pipeline.jump - INFO - CR rejection threshold = 4 sigma\n"},"children":[],"key":"chhJaOZAc0"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:52,597 - stpipe.Detector1Pipeline.jump - INFO - Maximum cores to use = half\n"},"children":[],"key":"CwCoiwI646"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:52,612 - stpipe.Detector1Pipeline.jump - INFO - Using GAIN reference file: /home/runner/crds/references/jwst/miri/jwst_miri_gain_0034.fits\n"},"children":[],"key":"zbSNDSBaqM"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:52,614 - stpipe.Detector1Pipeline.jump - INFO - Using READNOISE reference file: /home/runner/crds/references/jwst/miri/jwst_miri_readnoise_0085.fits\n"},"children":[],"key":"nXx246RCUc"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:52,656 - stcal.jump.jump - INFO - Executing two-point difference method\n"},"children":[],"key":"LN0XFL8Lfa"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:52,657 - stcal.jump.jump - INFO - Creating 2 processes for jump detection \n"},"children":[],"key":"ScCV5JwKpe"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:53,587 - stcal.jump.jump - INFO - Flagging Showers\n"},"children":[],"key":"jCKN2DYpfC"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:53,602 - stcal.jump.jump - WARNING - Not enough differences for shower detections\n"},"children":[],"key":"eLnCxa8ljT"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:53,603 - stcal.jump.jump - INFO - Total showers= 0\n"},"children":[],"key":"R8KU8Hoi9H"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:53,603 - stcal.jump.jump - INFO - Total elapsed time = 0.94669 sec\n"},"children":[],"key":"VNwIiXQXB5"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:53,611 - stpipe.Detector1Pipeline.jump - INFO - The execution time in seconds: 1.014478\n"},"children":[],"key":"D3EvAPljUV"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:53,614 - stpipe.Detector1Pipeline.jump - INFO - Step jump done\n"},"children":[],"key":"qwNIOWyknn"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:53,746 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - Step clean_flicker_noise running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00003_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"x5GtGudzy2"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:53,747 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - Step skipped.\n"},"children":[],"key":"hXZwSYjz6V"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:53,861 - stpipe.Detector1Pipeline.ramp_fit - INFO - Step ramp_fit running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00003_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"uGSkuWWbkb"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:53,889 - jwst.ramp_fitting.ramp_fit_step - INFO - Using READNOISE reference file: /home/runner/crds/references/jwst/miri/jwst_miri_readnoise_0085.fits\n"},"children":[],"key":"EIWrKOJRlG"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:53,889 - jwst.ramp_fitting.ramp_fit_step - INFO - Using GAIN reference file: /home/runner/crds/references/jwst/miri/jwst_miri_gain_0034.fits\n"},"children":[],"key":"voEOwTcvIe"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:53,915 - jwst.ramp_fitting.ramp_fit_step - INFO - Using algorithm = OLS_C\n"},"children":[],"key":"v8PLvPUIDs"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:53,915 - jwst.ramp_fitting.ramp_fit_step - INFO - Using weighting = optimal\n"},"children":[],"key":"iYmbSb9zE2"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:53,934 - stcal.ramp_fitting.ols_fit - INFO - Number of multiprocessing slices: 1\n"},"children":[],"key":"Qyi55Ezb44"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:53,939 - stcal.ramp_fitting.ols_fit - INFO - Number of leading groups that are flagged as DO_NOT_USE: 1\n"},"children":[],"key":"CxoeNaJPmd"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:53,940 - stcal.ramp_fitting.ols_fit - INFO - MIRI dataset has all pixels in the final group flagged as DO_NOT_USE.\n"},"children":[],"key":"xIa3UQzLVw"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:54,347 - stcal.ramp_fitting.ols_fit - INFO - Ramp Fitting C Time: 0.40614819526672363\n"},"children":[],"key":"EZjt6prOWm"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:54,389 - stpipe.Detector1Pipeline.ramp_fit - INFO - Step ramp_fit done\n"},"children":[],"key":"rZhxcSuOaW"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:54,521 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale running with args (\u003cImageModel(1024, 1032) from jw01040001005_03103_00003_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"WsnM69liBy"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:54,543 - stpipe.Detector1Pipeline.gain_scale - INFO - GAINFACT not found in gain reference file\n"},"children":[],"key":"V4AvXFLbEn"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:54,543 - stpipe.Detector1Pipeline.gain_scale - INFO - Step will be skipped\n"},"children":[],"key":"RQYXEzljtZ"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:54,545 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale done\n"},"children":[],"key":"kBBnHk7B81"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:54,660 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale running with args (\u003cCubeModel(1, 1024, 1032) from jw01040001005_03103_00003_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"hVKCS0BeeX"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:54,682 - stpipe.Detector1Pipeline.gain_scale - INFO - GAINFACT not found in gain reference file\n"},"children":[],"key":"FOEmeZmPFo"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:54,683 - stpipe.Detector1Pipeline.gain_scale - INFO - Step will be skipped\n"},"children":[],"key":"Lz5aCw9n3i"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:54,685 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale done\n"},"children":[],"key":"Tyzr7xMaUE"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:54,755 - stpipe.Detector1Pipeline - INFO - Saved model in ./mir_im_demo_data/Obs001/stage1/jw01040001005_03103_00003_mirimage_rateints.fits\n"},"children":[],"key":"pU4imzTF3P"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:54,756 - jwst.pipeline.calwebb_detector1 - INFO - ... ending calwebb_detector1\n"},"children":[],"key":"DXrY37YuEN"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:54,757 - jwst.stpipe.core - INFO - Results used CRDS context: jwst_1413.pmap\n"},"children":[],"key":"CykV5rgbVX"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:54,826 - stpipe.Detector1Pipeline - INFO - Saved model in ./mir_im_demo_data/Obs001/stage1/jw01040001005_03103_00003_mirimage_rate.fits\n"},"children":[],"key":"e6pPWh8pTu"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:54,827 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline done\n"},"children":[],"key":"dwMHqxx0NT"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:54,828 - jwst.stpipe.core - INFO - Results used jwst version: 1.19.1\n"},"children":[],"key":"fhDgHkLV2Y"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:54,851 - stpipe - INFO - PARS-EMICORRSTEP parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-emicorrstep_0003.asdf\n"},"children":[],"key":"LIplRUBmtM"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:54,867 - stpipe - INFO - PARS-DARKCURRENTSTEP parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-darkcurrentstep_0001.asdf\n"},"children":[],"key":"elSeuS2aNv"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:54,877 - stpipe - INFO - PARS-JUMPSTEP parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-jumpstep_0005.asdf\n"},"children":[],"key":"entDFwodPr"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:54,889 - stpipe - INFO - PARS-DETECTOR1PIPELINE parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-detector1pipeline_0008.asdf\n"},"children":[],"key":"PeJ6SdU38T"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:54,906 - stpipe.Detector1Pipeline - INFO - Detector1Pipeline instance created.\n"},"children":[],"key":"NC7WMm58ln"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:54,907 - stpipe.Detector1Pipeline.group_scale - INFO - GroupScaleStep instance created.\n"},"children":[],"key":"MPp007TjMZ"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:54,908 - stpipe.Detector1Pipeline.dq_init - INFO - DQInitStep instance created.\n"},"children":[],"key":"DqcBCytL0d"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:54,909 - stpipe.Detector1Pipeline.emicorr - INFO - EmiCorrStep instance created.\n"},"children":[],"key":"mVfkhVsdHz"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:54,910 - stpipe.Detector1Pipeline.saturation - INFO - SaturationStep instance created.\n"},"children":[],"key":"hQug3PZxhT"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:54,911 - stpipe.Detector1Pipeline.ipc - INFO - IPCStep instance created.\n"},"children":[],"key":"MHKNmvBGLA"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:54,913 - stpipe.Detector1Pipeline.superbias - INFO - SuperBiasStep instance created.\n"},"children":[],"key":"b796g1vGxT"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:54,914 - stpipe.Detector1Pipeline.refpix - INFO - RefPixStep instance created.\n"},"children":[],"key":"ArmdvFr55X"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:54,915 - stpipe.Detector1Pipeline.rscd - INFO - RscdStep instance created.\n"},"children":[],"key":"y24C4sgBpH"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:54,916 - stpipe.Detector1Pipeline.firstframe - INFO - FirstFrameStep instance created.\n"},"children":[],"key":"iTB7W9Lavk"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:54,917 - stpipe.Detector1Pipeline.lastframe - INFO - LastFrameStep instance created.\n"},"children":[],"key":"C25Suxh4hx"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:54,918 - stpipe.Detector1Pipeline.linearity - INFO - LinearityStep instance created.\n"},"children":[],"key":"UVoRG15NPG"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:54,919 - stpipe.Detector1Pipeline.dark_current - INFO - DarkCurrentStep instance created.\n"},"children":[],"key":"rOb85Qeyaw"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:54,920 - stpipe.Detector1Pipeline.reset - INFO - ResetStep instance created.\n"},"children":[],"key":"ywhoMn7Wv3"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:54,921 - stpipe.Detector1Pipeline.persistence - INFO - PersistenceStep instance created.\n"},"children":[],"key":"e2aUXDML7J"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:54,922 - stpipe.Detector1Pipeline.charge_migration - INFO - ChargeMigrationStep instance created.\n"},"children":[],"key":"fUBUGg5GTB"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:54,923 - stpipe.Detector1Pipeline.jump - INFO - JumpStep instance created.\n"},"children":[],"key":"OCxlOmUT4q"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:54,925 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - CleanFlickerNoiseStep instance created.\n"},"children":[],"key":"JPVy9r9vps"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:54,926 - stpipe.Detector1Pipeline.ramp_fit - INFO - RampFitStep instance created.\n"},"children":[],"key":"N5eSHvUp3z"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:54,927 - stpipe.Detector1Pipeline.gain_scale - INFO - GainScaleStep instance created.\n"},"children":[],"key":"k0fAruRm2E"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:55,077 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline running with args ('./mir_im_demo_data/Obs001/uncal/jw01040001005_03103_00004_mirimage_uncal.fits',).\n"},"children":[],"key":"GTTaAH4v8Y"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:55,097 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline parameters are:\n  pre_hooks: []\n  post_hooks: []\n  output_file: None\n  output_dir: ./mir_im_demo_data/Obs001/stage1\n  output_ext: .fits\n  output_use_model: False\n  output_use_index: True\n  save_results: True\n  skip: False\n  suffix: None\n  search_output_file: True\n  input_dir: ''\n  save_calibrated_ramp: False\n  steps:\n    group_scale:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n    dq_init:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n    emicorr:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      algorithm: joint\n      nints_to_phase: None\n      nbins: None\n      scale_reference: True\n      onthefly_corr_freq: None\n      use_n_cycles: 3\n      fit_ints_separately: False\n      user_supplied_reffile: None\n      save_intermediate_results: False\n    saturation:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      n_pix_grow_sat: 1\n      use_readpatt: True\n    ipc:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: True\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n    superbias:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n    refpix:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: True\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      odd_even_columns: True\n      use_side_ref_pixels: True\n      side_smoothing_length: 11\n      side_gain: 1.0\n      odd_even_rows: True\n      ovr_corr_mitigation_ftr: 3.0\n      preserve_irs2_refpix: False\n      irs2_mean_subtraction: False\n      refpix_algorithm: median\n      sigreject: 4.0\n      gaussmooth: 1.0\n      halfwidth: 30\n    rscd:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n    firstframe:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      bright_use_group1: False\n    lastframe:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n    linearity:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n    dark_current:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      dark_output: None\n      average_dark_current: 1.0\n    reset:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n    persistence:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      input_trapsfilled: ''\n      flag_pers_cutoff: 40.0\n      save_persistence: False\n      save_trapsfilled: True\n      modify_input: False\n    charge_migration:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: True\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      signal_threshold: 25000.0\n    jump:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      rejection_threshold: 4.0\n      three_group_rejection_threshold: 6.0\n      four_group_rejection_threshold: 5.0\n      maximum_cores: half\n      flag_4_neighbors: True\n      max_jump_to_flag_neighbors: 1000\n      min_jump_to_flag_neighbors: 30\n      after_jump_flag_dn1: 500\n      after_jump_flag_time1: 15\n      after_jump_flag_dn2: 1000\n      after_jump_flag_time2: 3000\n      expand_large_events: False\n      min_sat_area: 1\n      min_jump_area: 0\n      expand_factor: 0\n      use_ellipses: False\n      sat_required_snowball: False\n      min_sat_radius_extend: 0.0\n      sat_expand: 0\n      edge_size: 0\n      mask_snowball_core_next_int: True\n      snowball_time_masked_next_int: 4000\n      find_showers: True\n      max_shower_amplitude: 4.0\n      extend_snr_threshold: 3.0\n      extend_min_area: 50\n      extend_inner_radius: 1\n      extend_outer_radius: 2.6\n      extend_ellipse_expand_ratio: 1.1\n      time_masked_after_shower: 30\n      min_diffs_single_pass: 10\n      max_extended_radius: 200\n      minimum_groups: 3\n      minimum_sigclip_groups: 100\n      only_use_ints: True\n    clean_flicker_noise:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: True\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      fit_method: median\n      fit_by_channel: False\n      background_method: median\n      background_box_size: None\n      mask_science_regions: False\n      apply_flat_field: False\n      n_sigma: 2.0\n      fit_histogram: False\n      single_mask: True\n      user_mask: None\n      save_mask: False\n      save_background: False\n      save_noise: False\n    ramp_fit:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      algorithm: OLS_C\n      int_name: ''\n      save_opt: False\n      opt_name: ''\n      suppress_one_group: True\n      firstgroup: None\n      lastgroup: None\n      maximum_cores: '1'\n    gain_scale:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n"},"children":[],"key":"Y4wyd01XpZ"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:55,119 - stpipe.Detector1Pipeline - INFO - Prefetching reference files for dataset: 'jw01040001005_03103_00004_mirimage_uncal.fits' reftypes = ['dark', 'emicorr', 'gain', 'linearity', 'mask', 'persat', 'readnoise', 'reset', 'rscd', 'saturation', 'superbias', 'trapdensity', 'trappars']\n"},"children":[],"key":"qwwH5s2vLl"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:55,122 - stpipe.Detector1Pipeline - INFO - Prefetch for DARK reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_dark_0113.fits'.\n"},"children":[],"key":"YJnXpczbVg"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:55,122 - stpipe.Detector1Pipeline - INFO - Prefetch for EMICORR reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_emicorr_0003.asdf'.\n"},"children":[],"key":"KKF87pURD8"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:55,123 - stpipe.Detector1Pipeline - INFO - Prefetch for GAIN reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_gain_0034.fits'.\n"},"children":[],"key":"vQbDJzEULZ"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:55,124 - stpipe.Detector1Pipeline - INFO - Prefetch for LINEARITY reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_linearity_0032.fits'.\n"},"children":[],"key":"SDxscLvprL"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:55,124 - stpipe.Detector1Pipeline - INFO - Prefetch for MASK reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_mask_0036.fits'.\n"},"children":[],"key":"R4acWUyIK6"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:55,125 - stpipe.Detector1Pipeline - INFO - Prefetch for PERSAT reference file is 'N/A'.\n"},"children":[],"key":"zQI2EFRGNm"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:55,125 - stpipe.Detector1Pipeline - INFO - Prefetch for READNOISE reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_readnoise_0085.fits'.\n"},"children":[],"key":"W658SaJaPb"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:55,125 - stpipe.Detector1Pipeline - INFO - Prefetch for RESET reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_reset_0077.fits'.\n"},"children":[],"key":"XPh2K3QC9Y"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:55,126 - stpipe.Detector1Pipeline - INFO - Prefetch for RSCD reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_rscd_0017.fits'.\n"},"children":[],"key":"xQxnWhdqQV"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:55,127 - stpipe.Detector1Pipeline - INFO - Prefetch for SATURATION reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_saturation_0034.fits'.\n"},"children":[],"key":"oRQpJTw8Jl"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:55,128 - stpipe.Detector1Pipeline - INFO - Prefetch for SUPERBIAS reference file is 'N/A'.\n"},"children":[],"key":"HigbAReriA"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:55,128 - stpipe.Detector1Pipeline - INFO - Prefetch for TRAPDENSITY reference file is 'N/A'.\n"},"children":[],"key":"AAAvaqua3N"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:55,128 - stpipe.Detector1Pipeline - INFO - Prefetch for TRAPPARS reference file is 'N/A'.\n"},"children":[],"key":"ZqMSiutUup"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:55,129 - jwst.pipeline.calwebb_detector1 - INFO - Starting calwebb_detector1 ...\n"},"children":[],"key":"rRfmElcjMa"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:55,375 - stpipe.Detector1Pipeline.group_scale - INFO - Step group_scale running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00004_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"MlOGNuzasj"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:55,383 - stpipe.Detector1Pipeline.group_scale - INFO - NFRAMES and FRMDIVSR are equal; correction not needed\n"},"children":[],"key":"uZAe48nTYB"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:55,383 - stpipe.Detector1Pipeline.group_scale - INFO - Step will be skipped\n"},"children":[],"key":"LZ9VdXOqQl"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:55,385 - stpipe.Detector1Pipeline.group_scale - INFO - Step group_scale done\n"},"children":[],"key":"JIDv0iIV3h"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:55,532 - stpipe.Detector1Pipeline.dq_init - INFO - Step dq_init running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00004_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"D3ECZNLyL6"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:55,541 - stpipe.Detector1Pipeline.dq_init - INFO - Using MASK reference file /home/runner/crds/references/jwst/miri/jwst_miri_mask_0036.fits\n"},"children":[],"key":"hSIoB4XwHg"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:55,583 - stdatamodels.dynamicdq - WARNING - Keyword RESERVED_4 does not correspond to an existing DQ mnemonic, so will be ignored\n"},"children":[],"key":"rDRAZ1LKui"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:55,593 - stdatamodels.dynamicdq - WARNING - Keyword UNRELIABLE_RESET does not correspond to an existing DQ mnemonic, so will be ignored\n"},"children":[],"key":"dJ5i8l1oei"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:55,604 - stpipe.Detector1Pipeline.dq_init - INFO - Step dq_init done\n"},"children":[],"key":"EvOfxFw5Cy"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:55,755 - stpipe.Detector1Pipeline.emicorr - INFO - Step emicorr running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00004_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"t3K1JdoPCz"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:55,775 - stpipe.Detector1Pipeline.emicorr - INFO - Using CRDS reference file: /home/runner/crds/references/jwst/miri/jwst_miri_emicorr_0003.asdf\n"},"children":[],"key":"YdHzmJg37T"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:55,793 - jwst.emicorr.emicorr - INFO - Using reference file to get subarray case.\n"},"children":[],"key":"FdAWQ42dvo"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:55,794 - jwst.emicorr.emicorr - INFO - With configuration: Subarray=FULL, Read_pattern=FASTR1, Detector=MIRIMAGE\n"},"children":[],"key":"nOuXHRnjU5"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:55,794 - jwst.emicorr.emicorr - INFO - Will correct data for the following 1 frequencies: \n"},"children":[],"key":"O3Y7hRbFoy"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:55,795 - jwst.emicorr.emicorr - INFO -    ['Hz10']\n"},"children":[],"key":"vDBmHp9XFf"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:26:55,795 - jwst.emicorr.emicorr - INFO - Running EMI fit with algorithm = 'joint'.\n"},"children":[],"key":"WFHgJ4zHEm"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:01,859 - stpipe.Detector1Pipeline.emicorr - INFO - Step emicorr done\n"},"children":[],"key":"IWOGziY7F9"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:02,005 - stpipe.Detector1Pipeline.saturation - INFO - Step saturation running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00004_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"BTSshvYW8L"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:02,016 - stpipe.Detector1Pipeline.saturation - INFO - Using SATURATION reference file /home/runner/crds/references/jwst/miri/jwst_miri_saturation_0034.fits\n"},"children":[],"key":"UbnIrowb3I"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:02,017 - stpipe.Detector1Pipeline.saturation - INFO - Using SUPERBIAS reference file N/A\n"},"children":[],"key":"bJsSnZUAKb"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:02,039 - stdatamodels.dynamicdq - WARNING - Keyword RESERVED_4 does not correspond to an existing DQ mnemonic, so will be ignored\n"},"children":[],"key":"aOtExdTXKY"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:02,049 - stdatamodels.dynamicdq - WARNING - Keyword UNRELIABLE_RESET does not correspond to an existing DQ mnemonic, so will be ignored\n"},"children":[],"key":"V44weluIEa"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:02,068 - jwst.saturation.saturation - INFO - Using read_pattern with nframes 1\n"},"children":[],"key":"ZjKtwLjdnf"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:02,109 - stcal.saturation.saturation - INFO - Detected 845 saturated pixels\n"},"children":[],"key":"LopgpiMJVe"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:02,111 - stcal.saturation.saturation - INFO - Detected 60 A/D floor pixels\n"},"children":[],"key":"tRWnK21RRz"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:02,116 - stpipe.Detector1Pipeline.saturation - INFO - Step saturation done\n"},"children":[],"key":"St50quMynn"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:02,264 - stpipe.Detector1Pipeline.ipc - INFO - Step ipc running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00004_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"olvpqQm9Jt"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:02,265 - stpipe.Detector1Pipeline.ipc - INFO - Step skipped.\n"},"children":[],"key":"mHU1uHtU3n"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:02,412 - stpipe.Detector1Pipeline.firstframe - INFO - Step firstframe running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00004_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"lbmDfWX8Qn"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:02,433 - stpipe.Detector1Pipeline.firstframe - INFO - Step firstframe done\n"},"children":[],"key":"xoaHWrrafd"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:02,584 - stpipe.Detector1Pipeline.lastframe - INFO - Step lastframe running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00004_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"q05cGtGe0T"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:02,610 - stpipe.Detector1Pipeline.lastframe - INFO - Step lastframe done\n"},"children":[],"key":"jT1SP1EAPc"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:02,744 - stpipe.Detector1Pipeline.reset - INFO - Step reset running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00004_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"Z1TXhpcbjO"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:02,753 - stpipe.Detector1Pipeline.reset - INFO - Using RESET reference file /home/runner/crds/references/jwst/miri/jwst_miri_reset_0077.fits\n"},"children":[],"key":"e3QRahXkUU"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:02,804 - stdatamodels.dynamicdq - WARNING - Keyword RESERVED_4 does not correspond to an existing DQ mnemonic, so will be ignored\n"},"children":[],"key":"bJwnIfBPOr"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:02,814 - stdatamodels.dynamicdq - WARNING - Keyword UNRELIABLE_RESET does not correspond to an existing DQ mnemonic, so will be ignored\n"},"children":[],"key":"ADXLomN2Qn"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:02,848 - stpipe.Detector1Pipeline.reset - INFO - Step reset done\n"},"children":[],"key":"Wx163y2i80"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:03,002 - stpipe.Detector1Pipeline.linearity - INFO - Step linearity running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00004_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"X85BcQpo8H"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:03,012 - stpipe.Detector1Pipeline.linearity - INFO - Using Linearity reference file /home/runner/crds/references/jwst/miri/jwst_miri_linearity_0032.fits\n"},"children":[],"key":"yAmnVWFGKx"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:03,036 - stdatamodels.dynamicdq - WARNING - Keyword RESERVED_4 does not correspond to an existing DQ mnemonic, so will be ignored\n"},"children":[],"key":"BQIWGYXEA8"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:03,046 - stdatamodels.dynamicdq - WARNING - Keyword UNRELIABLE_RESET does not correspond to an existing DQ mnemonic, so will be ignored\n"},"children":[],"key":"GVo8FWpJNU"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:03,120 - stpipe.Detector1Pipeline.linearity - INFO - Step linearity done\n"},"children":[],"key":"TTHnJkFhlo"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:03,259 - stpipe.Detector1Pipeline.rscd - INFO - Step rscd running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00004_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"p6m1yGGfOS"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:03,269 - stpipe.Detector1Pipeline.rscd - INFO - Using RSCD reference file /home/runner/crds/references/jwst/miri/jwst_miri_rscd_0017.fits\n"},"children":[],"key":"Mha7ABi6Gc"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:03,312 - jwst.rscd.rscd_sub - INFO - Number of groups to skip for integrations 2 and higher: 2\n"},"children":[],"key":"Zp0jkTMmpk"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:03,315 - stpipe.Detector1Pipeline.rscd - INFO - Step rscd done\n"},"children":[],"key":"E292GtqnhG"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:03,453 - stpipe.Detector1Pipeline.dark_current - INFO - Step dark_current running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00004_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"ukFzeYkcKU"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:03,462 - stpipe.Detector1Pipeline.dark_current - INFO - Using DARK reference file /home/runner/crds/references/jwst/miri/jwst_miri_dark_0113.fits\n"},"children":[],"key":"soqg9T9Hxw"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:03,969 - stpipe.Detector1Pipeline.dark_current - INFO - Using Poisson noise from average dark current 1.0 e-/sec\n"},"children":[],"key":"beXhhhJIRF"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:03,970 - stcal.dark_current.dark_sub - INFO - Science data nints=1, ngroups=6, nframes=1, groupgap=0\n"},"children":[],"key":"HgmB0aXgF7"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:03,970 - stcal.dark_current.dark_sub - INFO - Dark data nints=2, ngroups=360, nframes=1, groupgap=0\n"},"children":[],"key":"CLgUxQV5xx"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:04,562 - stpipe.Detector1Pipeline.dark_current - INFO - Step dark_current done\n"},"children":[],"key":"mjw78l9He1"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:04,709 - stpipe.Detector1Pipeline.refpix - INFO - Step refpix running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00004_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"XXvi0RxkBi"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:04,710 - stpipe.Detector1Pipeline.refpix - INFO - Step skipped.\n"},"children":[],"key":"nbZD9MNNAV"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:04,844 - stpipe.Detector1Pipeline.charge_migration - INFO - Step charge_migration running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00004_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"Tb0siRT3ij"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:04,845 - stpipe.Detector1Pipeline.charge_migration - INFO - Step skipped.\n"},"children":[],"key":"ezIp3A1ris"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:04,968 - stpipe.Detector1Pipeline.jump - INFO - Step jump running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00004_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"jA3l5GsMs1"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:04,975 - stpipe.Detector1Pipeline.jump - INFO - CR rejection threshold = 4 sigma\n"},"children":[],"key":"bqRfnnzojk"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:04,976 - stpipe.Detector1Pipeline.jump - INFO - Maximum cores to use = half\n"},"children":[],"key":"tPbG0Wet0b"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:04,990 - stpipe.Detector1Pipeline.jump - INFO - Using GAIN reference file: /home/runner/crds/references/jwst/miri/jwst_miri_gain_0034.fits\n"},"children":[],"key":"NvgTYhvri3"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:04,992 - stpipe.Detector1Pipeline.jump - INFO - Using READNOISE reference file: /home/runner/crds/references/jwst/miri/jwst_miri_readnoise_0085.fits\n"},"children":[],"key":"lHAjsBYQH6"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:05,033 - stcal.jump.jump - INFO - Executing two-point difference method\n"},"children":[],"key":"RufAizY5dN"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:05,034 - stcal.jump.jump - INFO - Creating 2 processes for jump detection \n"},"children":[],"key":"havD5aZTuE"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:06,007 - stcal.jump.jump - INFO - Flagging Showers\n"},"children":[],"key":"Kq5yL5hOwe"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:06,018 - stcal.jump.jump - WARNING - Not enough differences for shower detections\n"},"children":[],"key":"O3RGMwlEGz"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:06,019 - stcal.jump.jump - INFO - Total showers= 0\n"},"children":[],"key":"uYe4NQrg1L"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:06,020 - stcal.jump.jump - INFO - Total elapsed time = 0.985749 sec\n"},"children":[],"key":"b9I4n7RK8N"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:06,027 - stpipe.Detector1Pipeline.jump - INFO - The execution time in seconds: 1.051116\n"},"children":[],"key":"DGFnvxmSUj"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:06,029 - stpipe.Detector1Pipeline.jump - INFO - Step jump done\n"},"children":[],"key":"zNY4KbArl7"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:06,165 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - Step clean_flicker_noise running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00004_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"cCZTBpCZFD"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:06,166 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - Step skipped.\n"},"children":[],"key":"J3svTcCTbg"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:06,302 - stpipe.Detector1Pipeline.ramp_fit - INFO - Step ramp_fit running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00004_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"xyhIEOxrdl"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:06,325 - jwst.ramp_fitting.ramp_fit_step - INFO - Using READNOISE reference file: /home/runner/crds/references/jwst/miri/jwst_miri_readnoise_0085.fits\n"},"children":[],"key":"zqBI8BIlOb"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:06,325 - jwst.ramp_fitting.ramp_fit_step - INFO - Using GAIN reference file: /home/runner/crds/references/jwst/miri/jwst_miri_gain_0034.fits\n"},"children":[],"key":"vY5pGAyXx6"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:06,351 - jwst.ramp_fitting.ramp_fit_step - INFO - Using algorithm = OLS_C\n"},"children":[],"key":"B2qog0W9ww"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:06,352 - jwst.ramp_fitting.ramp_fit_step - INFO - Using weighting = optimal\n"},"children":[],"key":"GZXPQjx4vo"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:06,373 - stcal.ramp_fitting.ols_fit - INFO - Number of multiprocessing slices: 1\n"},"children":[],"key":"eQ0iHCr7xR"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:06,378 - stcal.ramp_fitting.ols_fit - INFO - Number of leading groups that are flagged as DO_NOT_USE: 1\n"},"children":[],"key":"emgGx5b3hN"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:06,379 - stcal.ramp_fitting.ols_fit - INFO - MIRI dataset has all pixels in the final group flagged as DO_NOT_USE.\n"},"children":[],"key":"ULFIA8r3qQ"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:06,785 - stcal.ramp_fitting.ols_fit - INFO - Ramp Fitting C Time: 0.40462183952331543\n"},"children":[],"key":"VoF2H3Euk1"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:06,828 - stpipe.Detector1Pipeline.ramp_fit - INFO - Step ramp_fit done\n"},"children":[],"key":"ani8KZOxbZ"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:06,982 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale running with args (\u003cImageModel(1024, 1032) from jw01040001005_03103_00004_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"otkGjpRZFJ"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,005 - stpipe.Detector1Pipeline.gain_scale - INFO - GAINFACT not found in gain reference file\n"},"children":[],"key":"cxIMm5bnbU"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,005 - stpipe.Detector1Pipeline.gain_scale - INFO - Step will be skipped\n"},"children":[],"key":"vvxTDa8Npf"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,008 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale done\n"},"children":[],"key":"DWt6JDzZ68"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,146 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale running with args (\u003cCubeModel(1, 1024, 1032) from jw01040001005_03103_00004_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"A1CKS4GQ3K"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,169 - stpipe.Detector1Pipeline.gain_scale - INFO - GAINFACT not found in gain reference file\n"},"children":[],"key":"HbqlmqVAwl"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,170 - stpipe.Detector1Pipeline.gain_scale - INFO - Step will be skipped\n"},"children":[],"key":"Cjky52iJc1"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,172 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale done\n"},"children":[],"key":"skhV6vQMiz"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,248 - stpipe.Detector1Pipeline - INFO - Saved model in ./mir_im_demo_data/Obs001/stage1/jw01040001005_03103_00004_mirimage_rateints.fits\n"},"children":[],"key":"ZzEV4ZJ26u"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,249 - jwst.pipeline.calwebb_detector1 - INFO - ... ending calwebb_detector1\n"},"children":[],"key":"hLCEEAykbm"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,250 - jwst.stpipe.core - INFO - Results used CRDS context: jwst_1413.pmap\n"},"children":[],"key":"jKEx9bcGg7"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,321 - stpipe.Detector1Pipeline - INFO - Saved model in ./mir_im_demo_data/Obs001/stage1/jw01040001005_03103_00004_mirimage_rate.fits\n"},"children":[],"key":"m9b3Ip2hP0"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,321 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline done\n"},"children":[],"key":"qXBiIDI7Iv"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,322 - jwst.stpipe.core - INFO - Results used jwst version: 1.19.1\n"},"children":[],"key":"KE4nEiOKLu"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,345 - stpipe - INFO - PARS-EMICORRSTEP parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-emicorrstep_0003.asdf\n"},"children":[],"key":"HnYOd7qjPz"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,361 - stpipe - INFO - PARS-DARKCURRENTSTEP parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-darkcurrentstep_0001.asdf\n"},"children":[],"key":"f03UzZ7pXR"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,372 - stpipe - INFO - PARS-JUMPSTEP parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-jumpstep_0005.asdf\n"},"children":[],"key":"ZAyj7p4FRV"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,384 - stpipe - INFO - PARS-DETECTOR1PIPELINE parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-detector1pipeline_0008.asdf\n"},"children":[],"key":"rRz5voPXEN"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,401 - stpipe.Detector1Pipeline - INFO - Detector1Pipeline instance created.\n"},"children":[],"key":"RLGZ62GYsw"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,402 - stpipe.Detector1Pipeline.group_scale - INFO - GroupScaleStep instance created.\n"},"children":[],"key":"PwtyVWaOJ1"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,403 - stpipe.Detector1Pipeline.dq_init - INFO - DQInitStep instance created.\n"},"children":[],"key":"zRG2uGbJNf"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,404 - stpipe.Detector1Pipeline.emicorr - INFO - EmiCorrStep instance created.\n"},"children":[],"key":"VHOTYmw3bP"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,405 - stpipe.Detector1Pipeline.saturation - INFO - SaturationStep instance created.\n"},"children":[],"key":"Q8DiQXN0hC"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,406 - stpipe.Detector1Pipeline.ipc - INFO - IPCStep instance created.\n"},"children":[],"key":"cOfIk0Z9tf"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,407 - stpipe.Detector1Pipeline.superbias - INFO - SuperBiasStep instance created.\n"},"children":[],"key":"XbyRToMY7Q"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,408 - stpipe.Detector1Pipeline.refpix - INFO - RefPixStep instance created.\n"},"children":[],"key":"qjDBcLn7Mp"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,410 - stpipe.Detector1Pipeline.rscd - INFO - RscdStep instance created.\n"},"children":[],"key":"Vcws8eEIeV"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,411 - stpipe.Detector1Pipeline.firstframe - INFO - FirstFrameStep instance created.\n"},"children":[],"key":"bFT9ebibQx"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,412 - stpipe.Detector1Pipeline.lastframe - INFO - LastFrameStep instance created.\n"},"children":[],"key":"mKiORejJuv"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,413 - stpipe.Detector1Pipeline.linearity - INFO - LinearityStep instance created.\n"},"children":[],"key":"kSWA59W6vG"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,414 - stpipe.Detector1Pipeline.dark_current - INFO - DarkCurrentStep instance created.\n"},"children":[],"key":"bCFHRURNYk"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,415 - stpipe.Detector1Pipeline.reset - INFO - ResetStep instance created.\n"},"children":[],"key":"SHUX35p9mp"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,416 - stpipe.Detector1Pipeline.persistence - INFO - PersistenceStep instance created.\n"},"children":[],"key":"vyz1QPWdjF"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,417 - stpipe.Detector1Pipeline.charge_migration - INFO - ChargeMigrationStep instance created.\n"},"children":[],"key":"mzzgyNOTgf"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,419 - stpipe.Detector1Pipeline.jump - INFO - JumpStep instance created.\n"},"children":[],"key":"evC41oX6Tq"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,420 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - CleanFlickerNoiseStep instance created.\n"},"children":[],"key":"TndonLus93"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,421 - stpipe.Detector1Pipeline.ramp_fit - INFO - RampFitStep instance created.\n"},"children":[],"key":"Eolf8gJIHQ"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,422 - stpipe.Detector1Pipeline.gain_scale - INFO - GainScaleStep instance created.\n"},"children":[],"key":"NOOUHm5DBH"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,568 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline running with args ('./mir_im_demo_data/Obs001/uncal/jw01040001005_03103_00005_mirimage_uncal.fits',).\n"},"children":[],"key":"Fi1ArWNCjb"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,589 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline parameters are:\n  pre_hooks: []\n  post_hooks: []\n  output_file: None\n  output_dir: ./mir_im_demo_data/Obs001/stage1\n  output_ext: .fits\n  output_use_model: False\n  output_use_index: True\n  save_results: True\n  skip: False\n  suffix: None\n  search_output_file: True\n  input_dir: ''\n  save_calibrated_ramp: False\n  steps:\n    group_scale:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n    dq_init:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n    emicorr:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      algorithm: joint\n      nints_to_phase: None\n      nbins: None\n      scale_reference: True\n      onthefly_corr_freq: None\n      use_n_cycles: 3\n      fit_ints_separately: False\n      user_supplied_reffile: None\n      save_intermediate_results: False\n    saturation:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      n_pix_grow_sat: 1\n      use_readpatt: True\n    ipc:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: True\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n    superbias:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n    refpix:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: True\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      odd_even_columns: True\n      use_side_ref_pixels: True\n      side_smoothing_length: 11\n      side_gain: 1.0\n      odd_even_rows: True\n      ovr_corr_mitigation_ftr: 3.0\n      preserve_irs2_refpix: False\n      irs2_mean_subtraction: False\n      refpix_algorithm: median\n      sigreject: 4.0\n      gaussmooth: 1.0\n      halfwidth: 30\n    rscd:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n    firstframe:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      bright_use_group1: False\n    lastframe:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n    linearity:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n    dark_current:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      dark_output: None\n      average_dark_current: 1.0\n    reset:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n    persistence:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      input_trapsfilled: ''\n      flag_pers_cutoff: 40.0\n      save_persistence: False\n      save_trapsfilled: True\n      modify_input: False\n    charge_migration:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: True\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      signal_threshold: 25000.0\n    jump:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      rejection_threshold: 4.0\n      three_group_rejection_threshold: 6.0\n      four_group_rejection_threshold: 5.0\n      maximum_cores: half\n      flag_4_neighbors: True\n      max_jump_to_flag_neighbors: 1000\n      min_jump_to_flag_neighbors: 30\n      after_jump_flag_dn1: 500\n      after_jump_flag_time1: 15\n      after_jump_flag_dn2: 1000\n      after_jump_flag_time2: 3000\n      expand_large_events: False\n      min_sat_area: 1\n      min_jump_area: 0\n      expand_factor: 0\n      use_ellipses: False\n      sat_required_snowball: False\n      min_sat_radius_extend: 0.0\n      sat_expand: 0\n      edge_size: 0\n      mask_snowball_core_next_int: True\n      snowball_time_masked_next_int: 4000\n      find_showers: True\n      max_shower_amplitude: 4.0\n      extend_snr_threshold: 3.0\n      extend_min_area: 50\n      extend_inner_radius: 1\n      extend_outer_radius: 2.6\n      extend_ellipse_expand_ratio: 1.1\n      time_masked_after_shower: 30\n      min_diffs_single_pass: 10\n      max_extended_radius: 200\n      minimum_groups: 3\n      minimum_sigclip_groups: 100\n      only_use_ints: True\n    clean_flicker_noise:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: True\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      fit_method: median\n      fit_by_channel: False\n      background_method: median\n      background_box_size: None\n      mask_science_regions: False\n      apply_flat_field: False\n      n_sigma: 2.0\n      fit_histogram: False\n      single_mask: True\n      user_mask: None\n      save_mask: False\n      save_background: False\n      save_noise: False\n    ramp_fit:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      algorithm: OLS_C\n      int_name: ''\n      save_opt: False\n      opt_name: ''\n      suppress_one_group: True\n      firstgroup: None\n      lastgroup: None\n      maximum_cores: '1'\n    gain_scale:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n"},"children":[],"key":"MVM7KuCQFq"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,611 - stpipe.Detector1Pipeline - INFO - Prefetching reference files for dataset: 'jw01040001005_03103_00005_mirimage_uncal.fits' reftypes = ['dark', 'emicorr', 'gain', 'linearity', 'mask', 'persat', 'readnoise', 'reset', 'rscd', 'saturation', 'superbias', 'trapdensity', 'trappars']\n"},"children":[],"key":"pUwq0zzpUM"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,614 - stpipe.Detector1Pipeline - INFO - Prefetch for DARK reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_dark_0113.fits'.\n"},"children":[],"key":"CCIewtvhUX"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,614 - stpipe.Detector1Pipeline - INFO - Prefetch for EMICORR reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_emicorr_0003.asdf'.\n"},"children":[],"key":"bPPv7Xx6tf"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,615 - stpipe.Detector1Pipeline - INFO - Prefetch for GAIN reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_gain_0034.fits'.\n"},"children":[],"key":"DDR5xFy258"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,615 - stpipe.Detector1Pipeline - INFO - Prefetch for LINEARITY reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_linearity_0032.fits'.\n"},"children":[],"key":"eCj7wpBTmb"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,616 - stpipe.Detector1Pipeline - INFO - Prefetch for MASK reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_mask_0036.fits'.\n"},"children":[],"key":"Nk5zUpMxRq"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,617 - stpipe.Detector1Pipeline - INFO - Prefetch for PERSAT reference file is 'N/A'.\n"},"children":[],"key":"oC2JP1RBOc"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,617 - stpipe.Detector1Pipeline - INFO - Prefetch for READNOISE reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_readnoise_0085.fits'.\n"},"children":[],"key":"ocf7V8tKl7"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,618 - stpipe.Detector1Pipeline - INFO - Prefetch for RESET reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_reset_0077.fits'.\n"},"children":[],"key":"WTCHpDHSU8"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,618 - stpipe.Detector1Pipeline - INFO - Prefetch for RSCD reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_rscd_0017.fits'.\n"},"children":[],"key":"aAOTe5KlDt"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,619 - stpipe.Detector1Pipeline - INFO - Prefetch for SATURATION reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_saturation_0034.fits'.\n"},"children":[],"key":"U3gnrGeq2T"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,620 - stpipe.Detector1Pipeline - INFO - Prefetch for SUPERBIAS reference file is 'N/A'.\n"},"children":[],"key":"Dth8gYMtWd"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,620 - stpipe.Detector1Pipeline - INFO - Prefetch for TRAPDENSITY reference file is 'N/A'.\n"},"children":[],"key":"R6yGy5K1Z5"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,620 - stpipe.Detector1Pipeline - INFO - Prefetch for TRAPPARS reference file is 'N/A'.\n"},"children":[],"key":"XwvZlGvLwA"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,621 - jwst.pipeline.calwebb_detector1 - INFO - Starting calwebb_detector1 ...\n"},"children":[],"key":"ITaIe8TZzX"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,877 - stpipe.Detector1Pipeline.group_scale - INFO - Step group_scale running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00005_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"I6kDWqu5nZ"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,885 - stpipe.Detector1Pipeline.group_scale - INFO - NFRAMES and FRMDIVSR are equal; correction not needed\n"},"children":[],"key":"KzAL9IVueK"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,886 - stpipe.Detector1Pipeline.group_scale - INFO - Step will be skipped\n"},"children":[],"key":"pgH9oqN1fC"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:07,887 - stpipe.Detector1Pipeline.group_scale - INFO - Step group_scale done\n"},"children":[],"key":"EJqctjClgj"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:08,034 - stpipe.Detector1Pipeline.dq_init - INFO - Step dq_init running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00005_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"rOgjIgduwp"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:08,044 - stpipe.Detector1Pipeline.dq_init - INFO - Using MASK reference file /home/runner/crds/references/jwst/miri/jwst_miri_mask_0036.fits\n"},"children":[],"key":"rs1lNzfDYm"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:08,081 - stdatamodels.dynamicdq - WARNING - Keyword RESERVED_4 does not correspond to an existing DQ mnemonic, so will be ignored\n"},"children":[],"key":"WKcA400sOw"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:08,093 - stdatamodels.dynamicdq - WARNING - Keyword UNRELIABLE_RESET does not correspond to an existing DQ mnemonic, so will be ignored\n"},"children":[],"key":"aJ0XVAhy4T"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:08,103 - stpipe.Detector1Pipeline.dq_init - INFO - Step dq_init done\n"},"children":[],"key":"PlpXJt15cr"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:08,243 - stpipe.Detector1Pipeline.emicorr - INFO - Step emicorr running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00005_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"dcdXvrLcab"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:08,268 - stpipe.Detector1Pipeline.emicorr - INFO - Using CRDS reference file: /home/runner/crds/references/jwst/miri/jwst_miri_emicorr_0003.asdf\n"},"children":[],"key":"JgBnGlVXOQ"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:08,286 - jwst.emicorr.emicorr - INFO - Using reference file to get subarray case.\n"},"children":[],"key":"kTMzzvSyp0"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:08,287 - jwst.emicorr.emicorr - INFO - With configuration: Subarray=FULL, Read_pattern=FASTR1, Detector=MIRIMAGE\n"},"children":[],"key":"ExHJ1TuL7W"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:08,287 - jwst.emicorr.emicorr - INFO - Will correct data for the following 1 frequencies: \n"},"children":[],"key":"jeyJz6pDnm"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:08,288 - jwst.emicorr.emicorr - INFO -    ['Hz10']\n"},"children":[],"key":"AIaOKCgkDA"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:08,288 - jwst.emicorr.emicorr - INFO - Running EMI fit with algorithm = 'joint'.\n"},"children":[],"key":"L3gUYiOrwW"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:14,342 - stpipe.Detector1Pipeline.emicorr - INFO - Step emicorr done\n"},"children":[],"key":"bEgHpgyAZN"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:14,477 - stpipe.Detector1Pipeline.saturation - INFO - Step saturation running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00005_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"emXaxdHqbE"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:14,488 - stpipe.Detector1Pipeline.saturation - INFO - Using SATURATION reference file /home/runner/crds/references/jwst/miri/jwst_miri_saturation_0034.fits\n"},"children":[],"key":"erxYak95hs"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:14,488 - stpipe.Detector1Pipeline.saturation - INFO - Using SUPERBIAS reference file N/A\n"},"children":[],"key":"CqyL3gNP5y"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:14,511 - stdatamodels.dynamicdq - WARNING - Keyword RESERVED_4 does not correspond to an existing DQ mnemonic, so will be ignored\n"},"children":[],"key":"h8KTkpfbX4"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:14,520 - stdatamodels.dynamicdq - WARNING - Keyword UNRELIABLE_RESET does not correspond to an existing DQ mnemonic, so will be ignored\n"},"children":[],"key":"f4WEIPHAbR"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:14,540 - jwst.saturation.saturation - INFO - Using read_pattern with nframes 1\n"},"children":[],"key":"CYPlu5RYzn"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:14,579 - stcal.saturation.saturation - INFO - Detected 826 saturated pixels\n"},"children":[],"key":"tfe0hnukFp"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:14,581 - stcal.saturation.saturation - INFO - Detected 59 A/D floor pixels\n"},"children":[],"key":"l91fvamq1H"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:14,586 - stpipe.Detector1Pipeline.saturation - INFO - Step saturation done\n"},"children":[],"key":"moaFPALZp0"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:14,716 - stpipe.Detector1Pipeline.ipc - INFO - Step ipc running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00005_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"pppOmCpEdB"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:14,717 - stpipe.Detector1Pipeline.ipc - INFO - Step skipped.\n"},"children":[],"key":"SGU66D1x7M"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:14,836 - stpipe.Detector1Pipeline.firstframe - INFO - Step firstframe running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00005_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"qwalDcLSLz"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:14,856 - stpipe.Detector1Pipeline.firstframe - INFO - Step firstframe done\n"},"children":[],"key":"oyk0soXi1V"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:14,988 - stpipe.Detector1Pipeline.lastframe - INFO - Step lastframe running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00005_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"yfr25ewxDm"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:15,008 - stpipe.Detector1Pipeline.lastframe - INFO - Step lastframe done\n"},"children":[],"key":"ETcKIBWz5x"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:15,149 - stpipe.Detector1Pipeline.reset - INFO - Step reset running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00005_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"TM5hOv15Zf"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:15,159 - stpipe.Detector1Pipeline.reset - INFO - Using RESET reference file /home/runner/crds/references/jwst/miri/jwst_miri_reset_0077.fits\n"},"children":[],"key":"MeOQ6Hh1tS"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:15,209 - stdatamodels.dynamicdq - WARNING - Keyword RESERVED_4 does not correspond to an existing DQ mnemonic, so will be ignored\n"},"children":[],"key":"iGIF9IhkR0"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:15,218 - stdatamodels.dynamicdq - WARNING - Keyword UNRELIABLE_RESET does not correspond to an existing DQ mnemonic, so will be ignored\n"},"children":[],"key":"uM0L4TwpXU"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:15,259 - stpipe.Detector1Pipeline.reset - INFO - Step reset done\n"},"children":[],"key":"iKvVcWkAY7"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:15,398 - stpipe.Detector1Pipeline.linearity - INFO - Step linearity running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00005_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"ihpF08mlgn"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:15,407 - stpipe.Detector1Pipeline.linearity - INFO - Using Linearity reference file /home/runner/crds/references/jwst/miri/jwst_miri_linearity_0032.fits\n"},"children":[],"key":"sxgCoxP6ZW"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:15,430 - stdatamodels.dynamicdq - WARNING - Keyword RESERVED_4 does not correspond to an existing DQ mnemonic, so will be ignored\n"},"children":[],"key":"OQKjuBBtDT"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:15,439 - stdatamodels.dynamicdq - WARNING - Keyword UNRELIABLE_RESET does not correspond to an existing DQ mnemonic, so will be ignored\n"},"children":[],"key":"H1PUZRJ2yD"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:15,513 - stpipe.Detector1Pipeline.linearity - INFO - Step linearity done\n"},"children":[],"key":"tbLndXn0Gx"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:15,653 - stpipe.Detector1Pipeline.rscd - INFO - Step rscd running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00005_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"wMAsFXCuo0"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:15,662 - stpipe.Detector1Pipeline.rscd - INFO - Using RSCD reference file /home/runner/crds/references/jwst/miri/jwst_miri_rscd_0017.fits\n"},"children":[],"key":"WsxqmASytF"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:15,706 - jwst.rscd.rscd_sub - INFO - Number of groups to skip for integrations 2 and higher: 2\n"},"children":[],"key":"Tznhcd3UMO"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:15,708 - stpipe.Detector1Pipeline.rscd - INFO - Step rscd done\n"},"children":[],"key":"UFRa4XCNp6"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:15,846 - stpipe.Detector1Pipeline.dark_current - INFO - Step dark_current running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00005_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"wONUAaPY95"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:15,857 - stpipe.Detector1Pipeline.dark_current - INFO - Using DARK reference file /home/runner/crds/references/jwst/miri/jwst_miri_dark_0113.fits\n"},"children":[],"key":"MUARLD7W1Y"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:16,376 - stpipe.Detector1Pipeline.dark_current - INFO - Using Poisson noise from average dark current 1.0 e-/sec\n"},"children":[],"key":"mK5nq7RCeH"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:16,377 - stcal.dark_current.dark_sub - INFO - Science data nints=1, ngroups=6, nframes=1, groupgap=0\n"},"children":[],"key":"J1j3nWD9Ji"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:16,378 - stcal.dark_current.dark_sub - INFO - Dark data nints=2, ngroups=360, nframes=1, groupgap=0\n"},"children":[],"key":"vuaMZvJAqV"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:16,959 - stpipe.Detector1Pipeline.dark_current - INFO - Step dark_current done\n"},"children":[],"key":"BSrSIlIjpp"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:17,087 - stpipe.Detector1Pipeline.refpix - INFO - Step refpix running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00005_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"IRiIOwLhnp"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:17,087 - stpipe.Detector1Pipeline.refpix - INFO - Step skipped.\n"},"children":[],"key":"oIrzDw3slT"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:17,230 - stpipe.Detector1Pipeline.charge_migration - INFO - Step charge_migration running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00005_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"Nz4NdXiEDD"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:17,231 - stpipe.Detector1Pipeline.charge_migration - INFO - Step skipped.\n"},"children":[],"key":"qB6pRzaThS"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:17,364 - stpipe.Detector1Pipeline.jump - INFO - Step jump running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00005_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"Vc6LiYpvzN"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:17,372 - stpipe.Detector1Pipeline.jump - INFO - CR rejection threshold = 4 sigma\n"},"children":[],"key":"XD5QDbBR7Z"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:17,372 - stpipe.Detector1Pipeline.jump - INFO - Maximum cores to use = half\n"},"children":[],"key":"ShaIqAmOim"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:17,386 - stpipe.Detector1Pipeline.jump - INFO - Using GAIN reference file: /home/runner/crds/references/jwst/miri/jwst_miri_gain_0034.fits\n"},"children":[],"key":"KPdVyh1qUn"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:17,389 - stpipe.Detector1Pipeline.jump - INFO - Using READNOISE reference file: /home/runner/crds/references/jwst/miri/jwst_miri_readnoise_0085.fits\n"},"children":[],"key":"NCitXAhyhd"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:17,430 - stcal.jump.jump - INFO - Executing two-point difference method\n"},"children":[],"key":"l1t0tBZhi7"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:17,430 - stcal.jump.jump - INFO - Creating 2 processes for jump detection \n"},"children":[],"key":"dfUleMpD1s"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:18,345 - stcal.jump.jump - INFO - Flagging Showers\n"},"children":[],"key":"OaTPHobfF4"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:18,360 - stcal.jump.jump - WARNING - Not enough differences for shower detections\n"},"children":[],"key":"bcT9sXNkWB"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:18,360 - stcal.jump.jump - INFO - Total showers= 0\n"},"children":[],"key":"MfJMR3xq8E"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:18,361 - stcal.jump.jump - INFO - Total elapsed time = 0.930243 sec\n"},"children":[],"key":"GEHBbyyRME"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:18,368 - stpipe.Detector1Pipeline.jump - INFO - The execution time in seconds: 0.995673\n"},"children":[],"key":"hCgDFIcm3n"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:18,371 - stpipe.Detector1Pipeline.jump - INFO - Step jump done\n"},"children":[],"key":"IHjQ9OdHDa"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:18,504 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - Step clean_flicker_noise running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00005_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"jRjVrqnZyb"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:18,505 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - Step skipped.\n"},"children":[],"key":"NjOZMITE1d"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:18,632 - stpipe.Detector1Pipeline.ramp_fit - INFO - Step ramp_fit running with args (\u003cRampModel(1, 6, 1024, 1032) from jw01040001005_03103_00005_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"B9krauC9CG"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:18,661 - jwst.ramp_fitting.ramp_fit_step - INFO - Using READNOISE reference file: /home/runner/crds/references/jwst/miri/jwst_miri_readnoise_0085.fits\n"},"children":[],"key":"E3qh514aaa"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:18,661 - jwst.ramp_fitting.ramp_fit_step - INFO - Using GAIN reference file: /home/runner/crds/references/jwst/miri/jwst_miri_gain_0034.fits\n"},"children":[],"key":"yvxi2jVFBq"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:18,688 - jwst.ramp_fitting.ramp_fit_step - INFO - Using algorithm = OLS_C\n"},"children":[],"key":"gJchpo9oID"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:18,688 - jwst.ramp_fitting.ramp_fit_step - INFO - Using weighting = optimal\n"},"children":[],"key":"aL2ml1BKK6"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:18,706 - stcal.ramp_fitting.ols_fit - INFO - Number of multiprocessing slices: 1\n"},"children":[],"key":"donkMactQE"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:18,711 - stcal.ramp_fitting.ols_fit - INFO - Number of leading groups that are flagged as DO_NOT_USE: 1\n"},"children":[],"key":"QCNT3vq72o"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:18,712 - stcal.ramp_fitting.ols_fit - INFO - MIRI dataset has all pixels in the final group flagged as DO_NOT_USE.\n"},"children":[],"key":"FWGVsLbo6Z"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:19,114 - stcal.ramp_fitting.ols_fit - INFO - Ramp Fitting C Time: 0.3999764919281006\n"},"children":[],"key":"o9ogAkxB7z"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:19,157 - stpipe.Detector1Pipeline.ramp_fit - INFO - Step ramp_fit done\n"},"children":[],"key":"i9qsFzzqzR"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:19,303 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale running with args (\u003cImageModel(1024, 1032) from jw01040001005_03103_00005_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"tBOGLuI9uC"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:19,324 - stpipe.Detector1Pipeline.gain_scale - INFO - GAINFACT not found in gain reference file\n"},"children":[],"key":"Ngu6g0oDXD"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:19,325 - stpipe.Detector1Pipeline.gain_scale - INFO - Step will be skipped\n"},"children":[],"key":"S8e3ZFtNeA"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:19,327 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale done\n"},"children":[],"key":"lRqkO4UEYd"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:19,472 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale running with args (\u003cCubeModel(1, 1024, 1032) from jw01040001005_03103_00005_mirimage_uncal.fits\u003e,).\n"},"children":[],"key":"GiDXNHFVTP"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:19,494 - stpipe.Detector1Pipeline.gain_scale - INFO - GAINFACT not found in gain reference file\n"},"children":[],"key":"UoCxxQDFjB"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:19,495 - stpipe.Detector1Pipeline.gain_scale - INFO - Step will be skipped\n"},"children":[],"key":"jhAVZvTvBU"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:19,497 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale done\n"},"children":[],"key":"zfMxO2H3Sh"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:19,569 - stpipe.Detector1Pipeline - INFO - Saved model in ./mir_im_demo_data/Obs001/stage1/jw01040001005_03103_00005_mirimage_rateints.fits\n"},"children":[],"key":"H7EeIVQXV8"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:19,570 - jwst.pipeline.calwebb_detector1 - INFO - ... ending calwebb_detector1\n"},"children":[],"key":"LNjRO84dpD"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:19,571 - jwst.stpipe.core - INFO - Results used CRDS context: jwst_1413.pmap\n"},"children":[],"key":"bljwn5Qaq7"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:19,641 - stpipe.Detector1Pipeline - INFO - Saved model in ./mir_im_demo_data/Obs001/stage1/jw01040001005_03103_00005_mirimage_rate.fits\n"},"children":[],"key":"NwIauv9yko"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:19,641 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline done\n"},"children":[],"key":"EgN29z9Xy3"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:19,642 - jwst.stpipe.core - INFO - Results used jwst version: 1.19.1\n"},"children":[],"key":"ssQOReHkCO"}],"visibility":"show","key":"nrwPiuwUsz"}],"visibility":"show","key":"u6YsSkwjQJ"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Calibrating Background Files","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"aKqYZooUWy"}],"identifier":"calibrating-background-files","label":"Calibrating Background Files","html_id":"calibrating-background-files","implicit":true,"key":"aD0cgHJk4n"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Look for input background files and run calwebb_detector1\npipeline using the call method.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"BngDLB8Ojw"}],"key":"HSEh3vsrlh"}],"key":"a9x8J8jLX4"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-11-19T20:27:19.648590Z","iopub.status.busy":"2025-11-19T20:27:19.648446Z","iopub.status.idle":"2025-11-19T20:27:19.651576Z","shell.execute_reply":"2025-11-19T20:27:19.650800Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Run Detector1 stage of pipeline on any background files\n\nif dodet1bg:\n    for uncal in uncal_bgfiles:\n        rate_result = Detector1Pipeline.call(uncal, output_dir=det1_bgdir, steps=det1dict, save_results=True,)\nelse:\n    print('Skipping Detector1 BG processing')","key":"u5TONvTlnp"},{"type":"outputs","id":"HsiTwk1TljmsGuh7sB01L","children":[],"key":"js5MbMnfEt"}],"key":"icF87vrNB9"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-11-19T20:27:19.652943Z","iopub.status.busy":"2025-11-19T20:27:19.652803Z","iopub.status.idle":"2025-11-19T20:27:19.655956Z","shell.execute_reply":"2025-11-19T20:27:19.655208Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Print out the time benchmark\ntime1 = time.perf_counter()\nprint(f\"Runtime for Detector1: {time1 - time0:0.0f} seconds\")","key":"QrKZ3V9xM2"},{"type":"outputs","id":"pouVLdIvXIxhnC1i2AmUr","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Runtime for Detector1: 68 seconds\n"},"children":[],"key":"nfEIMSNhbD"}],"key":"cTPa8BOsVQ"}],"key":"kHeYAgySL8"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Exploring the data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"PfQxLAMiXy"}],"identifier":"exploring-the-data","label":"Exploring the data","html_id":"exploring-the-data","implicit":true,"key":"WM47LtFW5o"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Identify ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"uP94ZcSNst"},{"type":"inlineCode","value":"*_rate.fits","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"lZt8vrnmIz"},{"type":"text","value":" files and verify which pipeline steps were run and\nwhich calibration reference files were applied.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"G07o6nt3Cf"},{"type":"break","key":"vq0VgW6y6T"}],"key":"ZHUhR5mQJp"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"The header contains information about which calibration steps were\ncompleted and skipped and which reference files were used to process the\ndata.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"G3y9gZdcwM"},{"type":"break","key":"O13GItI6Zc"}],"key":"vKGusbcA1y"}],"key":"zEfbaufnRC"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-11-19T20:27:19.657493Z","iopub.status.busy":"2025-11-19T20:27:19.657349Z","iopub.status.idle":"2025-11-19T20:27:19.699827Z","shell.execute_reply":"2025-11-19T20:27:19.699162Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"if dodet1:\n    # find rate files\n    rate_files = sorted(glob.glob(os.path.join(det1_dir, '*_rate.fits')))\n\n    # Read in file as datamodel\n    rate_f = datamodels.open(rate_files[0])\n\n    # Check which steps were run\n    rate_f.meta.cal_step.instance\n\n    # Check which reference files were used to calibrate the dataset:\n    rate_f.meta.ref_file.instance","key":"mIjyTlBmgp"},{"type":"outputs","id":"CndvjaWoFgKt39Y3KT6J6","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":19,"metadata":{},"data":{"text/plain":{"content":"{'charge_migration': 'SKIPPED',\n 'clean_flicker_noise': 'SKIPPED',\n 'dark_sub': 'COMPLETE',\n 'dq_init': 'COMPLETE',\n 'emicorr': 'COMPLETE',\n 'firstframe': 'COMPLETE',\n 'gain_scale': 'SKIPPED',\n 'group_scale': 'SKIPPED',\n 'ipc': 'SKIPPED',\n 'jump': 'COMPLETE',\n 'lastframe': 'COMPLETE',\n 'linearity': 'COMPLETE',\n 'ramp_fit': 'COMPLETE',\n 'refpix': 'SKIPPED',\n 'reset': 'COMPLETE',\n 'rscd': 'COMPLETE',\n 'saturation': 'COMPLETE'}","content_type":"text/plain"}}},"children":[],"key":"QtRzLJgTCE"},{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":19,"metadata":{},"data":{"text/plain":{"content":"{'crds': {'context_used': 'jwst_1413.pmap', 'sw_version': '13.0.6'},\n 'dark': {'name': 'crds://jwst_miri_dark_0113.fits'},\n 'emicorr': {'name': 'crds://jwst_miri_emicorr_0003.asdf'},\n 'gain': {'name': 'crds://jwst_miri_gain_0034.fits'},\n 'linearity': {'name': 'crds://jwst_miri_linearity_0032.fits'},\n 'mask': {'name': 'crds://jwst_miri_mask_0036.fits'},\n 'readnoise': {'name': 'crds://jwst_miri_readnoise_0085.fits'},\n 'reset': {'name': 'crds://jwst_miri_reset_0077.fits'},\n 'rscd': {'name': 'crds://jwst_miri_rscd_0017.fits'},\n 'saturation': {'name': 'crds://jwst_miri_saturation_0034.fits'},\n 'superbias': {'name': 'N/A'}}","content_type":"text/plain"}}},"children":[],"key":"p86quMiO62"}],"key":"hT5Rtuwec9"}],"key":"LkpgaKlk4s"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","key":"phy5YHxlA3"}],"key":"SZibtJFvDC"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"6. Image2 Pipeline","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"MHm6yZZRip"}],"identifier":"id-6-image2-pipeline","label":"6. Image2 Pipeline","html_id":"id-6-image2-pipeline","implicit":true,"key":"hhS1npzSGR"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"In the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"fImlKvrfPg"},{"type":"link","url":"https://jwst-pipeline.readthedocs.io/en/latest/jwst/pipeline/calwebb_image2.html","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Image2","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Q6ncGn4qZB"}],"urlSource":"https://jwst-pipeline.readthedocs.io/en/latest/jwst/pipeline/calwebb_image2.html","key":"e2HEAspz5n"},{"type":"text","value":" stage of the pipeline,\ncalibrated unrectified data products are created (","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"XAx5J1MJtF"},{"type":"inlineCode","value":"*_cal.fits","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"MJjzTBPZlH"},{"type":"text","value":" or\n","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"TlAaSysXJ7"},{"type":"inlineCode","value":"*_calints.fits","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"pGsZo4WOVt"},{"type":"text","value":" files, depending on whether the input files are\n","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"DyhIZq6ezd"},{"type":"inlineCode","value":"*_rate.fits","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"tMI1Wr80Pi"},{"type":"text","value":" or ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"nPa5RwWBKF"},{"type":"inlineCode","value":"*_rateints.fits","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"B0YdhBAG3q"},{"type":"text","value":").","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"qbyvKdNcs6"}],"key":"n25E5t2v7D"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"In this pipeline processing stage, the\n","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"UUDSWnLK8r"},{"type":"link","url":"https://jwst-pipeline.readthedocs.io/en/latest/jwst/background_step/index.html#background-step","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"background subtraction","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"V0ZUVhdSFl"}],"urlSource":"https://jwst-pipeline.readthedocs.io/en/latest/jwst/background_step/index.html#background-step","key":"DqHzaVa6mo"},{"type":"text","value":"\nstep is performed if the data have a dedicated background defined,\nthe ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"WYAo8FMrNC"},{"type":"link","url":"https://jwst-pipeline.readthedocs.io/en/latest/jwst/assign_wcs/index.html#assign-wcs-step","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"world coordinate system (WCS)","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"uqWvi57kks"}],"urlSource":"https://jwst-pipeline.readthedocs.io/en/latest/jwst/assign_wcs/index.html#assign-wcs-step","key":"E2JFXVetJi"},{"type":"text","value":"\nis assigned, the data are ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"jXS9W7cuFk"},{"type":"link","url":"https://jwst-pipeline.readthedocs.io/en/latest/jwst/flatfield/index.html#flatfield-step","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"flat fielded","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"ZEIyQk2Kdn"}],"urlSource":"https://jwst-pipeline.readthedocs.io/en/latest/jwst/flatfield/index.html#flatfield-step","key":"hx36QioZqx"},{"type":"text","value":",\nand a ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"lHpYl9Yx8v"},{"type":"link","url":"https://jwst-pipeline.readthedocs.io/en/latest/jwst/photom/index.html#photom-step","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"photometric calibration","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"NvtvIczqOo"}],"urlSource":"https://jwst-pipeline.readthedocs.io/en/latest/jwst/photom/index.html#photom-step","key":"YJclNiJAIr"},{"type":"text","value":"\nis applied to convert from units of countrate (ADU/s) to surface brightness (MJy/sr).","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"bre6T684Fc"}],"key":"yfJyny79L2"},{"type":"paragraph","position":{"start":{"line":16,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"The ","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"SB6KkYCWn4"},{"type":"link","url":"https://jwst-pipeline.readthedocs.io/en/latest/jwst/resample/index.html#resample-step","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"resampling","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"LrajPgN116"}],"urlSource":"https://jwst-pipeline.readthedocs.io/en/latest/jwst/resample/index.html#resample-step","key":"X4Et8SqhGw"},{"type":"text","value":"\nstep is performed, to create resampled images of each dither position, but this is\nonly a quick-look product. The resampling step occurs during the ","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"p31cG88p8U"},{"type":"inlineCode","value":"Image3","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"JumrwfnWzz"},{"type":"text","value":" stage by\ndefault. While the resampling step is done in the ","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"PZz9MDdmzU"},{"type":"inlineCode","value":"Image2","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"RKr54lhspt"},{"type":"text","value":" stage, the data quality\nfrom the ","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"ue99NYI9sZ"},{"type":"inlineCode","value":"Image3","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"a4DyWQVSsO"},{"type":"text","value":" stage will be better since the bad pixels, which adversely affect\nboth the centroids and photometry in individual images, will be mostly\nremoved.","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"d3Hy2xeRBF"}],"key":"fu6aedIBvX"}],"key":"Bo4AzGUSLu"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-11-19T20:27:19.701708Z","iopub.status.busy":"2025-11-19T20:27:19.701560Z","iopub.status.idle":"2025-11-19T20:27:19.704241Z","shell.execute_reply":"2025-11-19T20:27:19.703511Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"time_image2 = time.perf_counter()","key":"h3Up6Rao58"},{"type":"outputs","id":"_G8boH-GyWMesirydrTmF","children":[],"key":"nh2rmsuV31"}],"key":"q9QzknI3W1"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-11-19T20:27:19.705837Z","iopub.status.busy":"2025-11-19T20:27:19.705683Z","iopub.status.idle":"2025-11-19T20:27:19.708984Z","shell.execute_reply":"2025-11-19T20:27:19.708271Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Set up a dictionary to define how the Image2 pipeline should be configured.\n\n# Boilerplate dictionary setup\nimage2dict = {}\nimage2dict['bkg_subtract'] = {}\nimage2dict['assign_wcs'], image2dict['flat_field'] = {}, {}\nimage2dict['photom'], image2dict['resample'] = {}, {}\n\n# Overrides for whether or not certain steps should be skipped (example)\n#image2dict['resample']['skip'] = False\n\n# Change the nsigma used for clipping the input background data\nimage2dict['bkg_subtract']['sigma'] = 2\n\n# Overrides for various reference files\n# Files should be in the base local directory or provide full path\n#image2dict['assign_wcs']['override_distortion'] = 'myfile.asdf'  # Spatial distortion (ASDF file)\n#image2dict['assign_wcs']['override_filteroffset'] = 'myfile.asdf'  # Imager filter offsets (ASDF file)\n#image2dict['assign_wcs']['override_specwcs'] = 'myfile.asdf'  # Spectral distortion (ASDF file)\n#image2dict['assign_wcs']['override_wavelengthrange'] = 'myfile.asdf'  # Wavelength channel mapping (ASDF file)\n#image2dict['flat_field']['override_flat'] = 'myfile.fits'  # Pixel flatfield\n#image2dict['photom']['override_photom'] = 'myfile.fits'  # Photometric calibration array","key":"ViYAJbirqp"},{"type":"outputs","id":"L4hh7WdlqH-Wan64z2o-1","children":[],"key":"IvaEYVcWNU"}],"key":"mM4EorzrDH"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Define a function to create association files for Stage 2. This will enable use of the pixel-based background subtraction, if chosen above. This requires ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"siqs7Eqpxq"},{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"one","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Y5HYEYMISt"}],"key":"SDcJfqjw4R"},{"type":"text","value":" input SCI file, but can have multiple input background files.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bi4iYzGfDh"}],"key":"EMz1bylMEe"},{"type":"div","class":"alert alert-block alert-warning","children":[{"type":"text","value":"Note that the background will not be applied properly to all files if more than *one* SCI file is included in the association.","key":"P8uyV1O9hQ"}],"key":"e0xU7BWYCV"}],"key":"B5rnjPdUVR"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-11-19T20:27:19.710474Z","iopub.status.busy":"2025-11-19T20:27:19.710319Z","iopub.status.idle":"2025-11-19T20:27:19.714448Z","shell.execute_reply":"2025-11-19T20:27:19.713700Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"def writel2asn(onescifile, bgfiles, asnfile, prodname):\n    # Define the basic association of science files\n    asn = afl.asn_from_list([onescifile], rule=DMSLevel2bBase, product_name=prodname)  # Wrap in array since input was single exposure\n\n    # Filter configuration for this sci file\n    with fits.open(onescifile) as hdu:\n        hdu.verify()\n        hdr = hdu[0].header\n        this_filter = hdr['FILTER']\n\n    # If backgrounds were provided, find which are appropriate to this\n    # filter and add to association\n    for file in bgfiles:\n        with fits.open(file) as hdu:\n            hdu.verify()\n            if (hdu[0].header['FILTER'] == this_filter):\n                asn['products'][0]['members'].append({'expname': file, 'exptype': 'background'})              \n\n    # Write the association to a json file\n    _, serialized = asn.dump()\n    with open(asnfile, 'w') as outfile:\n        outfile.write(serialized)","key":"YUWQLyzqPI"},{"type":"outputs","id":"iYalwIxVYBsSeQc2rV2Rs","children":[],"key":"FgP5ND3dmv"}],"key":"DQObJHLqxG"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Find and sort all of the input files, ensuring use of absolute paths","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jKYMiHzltz"}],"key":"Ipbm77hgWr"}],"key":"VLW4octifE"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-11-19T20:27:19.715918Z","iopub.status.busy":"2025-11-19T20:27:19.715771Z","iopub.status.idle":"2025-11-19T20:27:19.720607Z","shell.execute_reply":"2025-11-19T20:27:19.719983Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Find all Science rate.fits files\nsstring = os.path.join(det1_dir, 'jw*rate.fits')  # Use files from the detector1 output folder\nrate_files = sorted(glob.glob(sstring))\nfor ii in range(0, len(rate_files)):\n    rate_files[ii] = os.path.abspath(rate_files[ii])\nrate_files = np.array(rate_files)\n\n# Background Files\nsstring = os.path.join(det1_bgdir, 'jw*rate.fits')\nbgfiles = sorted(glob.glob(sstring))\nfor ii in range(0, len(bgfiles)):\n    bgfiles[ii] = os.path.abspath(bgfiles[ii])\nbgfiles = np.array(bgfiles)\n\nprint(f\"Found  {str(len(rate_files))} science files\")\nprint(f\"Found  {str(len(bgfiles))} background files\")","key":"ubXfYieome"},{"type":"outputs","id":"3QW78LTOnVLnQNWxqfGpu","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Found  5 science files\nFound  0 background files\n"},"children":[],"key":"HHoFJTid91"}],"key":"vG6o0u3FZM"}],"key":"bahOnvLC7A"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-11-19T20:27:19.722357Z","iopub.status.busy":"2025-11-19T20:27:19.722178Z","iopub.status.idle":"2025-11-19T20:27:34.640154Z","shell.execute_reply":"2025-11-19T20:27:34.639326Z"},"tags":["scroll-output"]},"children":[{"type":"code","lang":"python","executable":true,"value":"# Run Image2 stage of pipeline, specifying the output directory to save *_cal.fits files\n# and save_results flag set to True so the rate files are saved\nif doimage2:\n    for rate in rate_files:\n        asnfile = os.path.join(sci_dir, 'l2asn.json')\n        writel2asn(rate, bgfiles, asnfile, 'Level2')\n        cal_result = Image2Pipeline.call(asnfile, output_dir=image2_dir, steps=image2dict, save_results=True)\nelse:\n    print(\"Skipping Image2 processing.\")","visibility":"show","key":"j4OtrHd9RS"},{"type":"outputs","id":"qtCjSuxI9iBX6JwgLe261","children":[{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:19,793 - stpipe - INFO - PARS-RESAMPLESTEP parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-resamplestep_0001.asdf\n"},"children":[],"key":"xSPNGoe53I"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:19,802 - stpipe - INFO - PARS-IMAGE2PIPELINE parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-image2pipeline_0004.asdf\n"},"children":[],"key":"ruaxdmcCxd"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:19,812 - stpipe.Image2Pipeline - INFO - Image2Pipeline instance created.\n"},"children":[],"key":"J2mHI0vhLx"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:19,814 - stpipe.Image2Pipeline.bkg_subtract - INFO - BackgroundStep instance created.\n"},"children":[],"key":"fQHSjgNCa5"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:19,816 - stpipe.Image2Pipeline.assign_wcs - INFO - AssignWcsStep instance created.\n"},"children":[],"key":"kLQwhdrdqi"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:19,817 - stpipe.Image2Pipeline.flat_field - INFO - FlatFieldStep instance created.\n"},"children":[],"key":"ohmQenUn2q"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:19,818 - stpipe.Image2Pipeline.photom - INFO - PhotomStep instance created.\n"},"children":[],"key":"q2Q2EmSLSe"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:19,819 - stpipe.Image2Pipeline.resample - INFO - ResampleStep instance created.\n"},"children":[],"key":"HbZjfCrbpo"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:19,963 - stpipe.Image2Pipeline - INFO - Step Image2Pipeline running with args ('./mir_im_demo_data/Obs001/l2asn.json',).\n"},"children":[],"key":"Z0chRYsj2I"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:19,971 - stpipe.Image2Pipeline - INFO - Step Image2Pipeline parameters are:\n  pre_hooks: []\n  post_hooks: []\n  output_file: None\n  output_dir: ./mir_im_demo_data/Obs001/stage2\n  output_ext: .fits\n  output_use_model: False\n  output_use_index: True\n  save_results: True\n  skip: False\n  suffix: None\n  search_output_file: True\n  input_dir: ''\n  save_bsub: False\n  steps:\n    bkg_subtract:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      bkg_list: None\n      save_combined_background: False\n      sigma: 2\n      maxiters: None\n      soss_source_percentile: 35.0\n      soss_bkg_percentile: None\n      wfss_mmag_extract: None\n      wfss_maxiter: 5\n      wfss_rms_stop: 0.0\n      wfss_outlier_percent: 1.0\n    assign_wcs:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      sip_approx: True\n      sip_max_pix_error: 0.01\n      sip_degree: None\n      sip_max_inv_pix_error: 0.01\n      sip_inv_degree: None\n      sip_npoints: 12\n      slit_y_low: -0.55\n      slit_y_high: 0.55\n      nrs_ifu_slice_wcs: False\n    flat_field:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      save_interpolated_flat: False\n      user_supplied_flat: None\n      inverse: False\n    photom:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      inverse: False\n      source_type: None\n      mrs_time_correction: True\n    resample:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      pixfrac: 1.0\n      kernel: square\n      fillval: NAN\n      weight_type: exptime\n      output_shape: None\n      crpix: None\n      crval: None\n      rotation: None\n      pixel_scale_ratio: 1.0\n      pixel_scale: None\n      output_wcs: ''\n      single: False\n      blendheaders: True\n      in_memory: True\n      enable_ctx: True\n      enable_err: True\n      report_var: True\n"},"children":[],"key":"S1X3eyUoRn"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:20,016 - stpipe.Image2Pipeline - INFO - Prefetching reference files for dataset: 'l2asn.json' reftypes = ['area', 'bkg', 'camera', 'collimator', 'dflat', 'disperser', 'distortion', 'fflat', 'filteroffset', 'flat', 'fore', 'fpa', 'ifufore', 'ifupost', 'ifuslicer', 'msa', 'ote', 'photom', 'regions', 'sflat', 'specwcs', 'wavelengthrange']\n"},"children":[],"key":"zhH43Ctdjz"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:20,019 - stpipe.Image2Pipeline - INFO - Prefetch for AREA reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_area_0006.fits'.\n"},"children":[],"key":"hg9RRVm0Co"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:20,020 - stpipe.Image2Pipeline - INFO - Prefetch for BKG reference file is 'N/A'.\n"},"children":[],"key":"MH5nSTGEGe"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:20,020 - stpipe.Image2Pipeline - INFO - Prefetch for CAMERA reference file is 'N/A'.\n"},"children":[],"key":"TfVWH1e2IM"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:20,021 - stpipe.Image2Pipeline - INFO - Prefetch for COLLIMATOR reference file is 'N/A'.\n"},"children":[],"key":"D1zjEFNhtp"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:20,021 - stpipe.Image2Pipeline - INFO - Prefetch for DFLAT reference file is 'N/A'.\n"},"children":[],"key":"B2ENo0MTet"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:20,021 - stpipe.Image2Pipeline - INFO - Prefetch for DISPERSER reference file is 'N/A'.\n"},"children":[],"key":"e2v9K1AF9M"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:20,022 - stpipe.Image2Pipeline - INFO - Prefetch for DISTORTION reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_distortion_0047.asdf'.\n"},"children":[],"key":"Sa2vBNSFQI"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:20,022 - stpipe.Image2Pipeline - INFO - Prefetch for FFLAT reference file is 'N/A'.\n"},"children":[],"key":"qiNcm4pu2f"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:20,023 - stpipe.Image2Pipeline - INFO - Prefetch for FILTEROFFSET reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_filteroffset_0008.asdf'.\n"},"children":[],"key":"lL5ATMvkCz"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:20,023 - stpipe.Image2Pipeline - INFO - Prefetch for FLAT reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_flat_0829.fits'.\n"},"children":[],"key":"NLcJVOnnze"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:20,025 - stpipe.Image2Pipeline - INFO - Prefetch for FORE reference file is 'N/A'.\n"},"children":[],"key":"mki5VMeChT"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:20,025 - stpipe.Image2Pipeline - INFO - Prefetch for FPA reference file is 'N/A'.\n"},"children":[],"key":"GpzMwL1fRO"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:20,026 - stpipe.Image2Pipeline - INFO - Prefetch for IFUFORE reference file is 'N/A'.\n"},"children":[],"key":"dIAylBskA3"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:20,026 - stpipe.Image2Pipeline - INFO - Prefetch for IFUPOST reference file is 'N/A'.\n"},"children":[],"key":"t9ASxOmGod"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:20,027 - stpipe.Image2Pipeline - INFO - Prefetch for IFUSLICER reference file is 'N/A'.\n"},"children":[],"key":"G3f5jMej75"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:20,027 - stpipe.Image2Pipeline - INFO - Prefetch for MSA reference file is 'N/A'.\n"},"children":[],"key":"eAumMzXrLp"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:20,028 - stpipe.Image2Pipeline - INFO - Prefetch for OTE reference file is 'N/A'.\n"},"children":[],"key":"zLW3RMV8iy"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:20,028 - stpipe.Image2Pipeline - INFO - Prefetch for PHOTOM reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_photom_0218.fits'.\n"},"children":[],"key":"pRZ50la1tj"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:20,028 - stpipe.Image2Pipeline - INFO - Prefetch for REGIONS reference file is 'N/A'.\n"},"children":[],"key":"vWLZYEKbj6"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:20,030 - stpipe.Image2Pipeline - INFO - Prefetch for SFLAT reference file is 'N/A'.\n"},"children":[],"key":"EoQN7pzWeO"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:20,030 - stpipe.Image2Pipeline - INFO - Prefetch for SPECWCS reference file is 'N/A'.\n"},"children":[],"key":"aDS4utn4UH"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:20,031 - stpipe.Image2Pipeline - INFO - Prefetch for WAVELENGTHRANGE reference file is 'N/A'.\n"},"children":[],"key":"Dre5sO3HJ7"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:20,031 - stpipe.Image2Pipeline - INFO - Starting calwebb_image2 ...\n"},"children":[],"key":"ClehPCX1Kn"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:20,037 - stpipe.Image2Pipeline - INFO - Processing product /home/runner/work/notebook-ci-testing/notebook-ci-testing/notebooks/MIRI/Imaging/mir_im_demo_data/Obs001/stage1/jw01040001005_03103_00001_mirimage\n"},"children":[],"key":"pakzoRuFVF"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:20,038 - stpipe.Image2Pipeline - INFO - Working on input /home/runner/work/notebook-ci-testing/notebook-ci-testing/notebooks/MIRI/Imaging/mir_im_demo_data/Obs001/stage1/jw01040001005_03103_00001_mirimage_rate.fits ...\n"},"children":[],"key":"O6FDlkJZDo"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:20,216 - stpipe.Image2Pipeline.assign_wcs - INFO - Step assign_wcs running with args (\u003cImageModel(1024, 1032) from ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00001_mirimage_image2pipeline.fits\u003e,).\n"},"children":[],"key":"sp67djoWWh"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:20,378 - jwst.assign_wcs.miri - INFO - Created a MIRI mir_image pipeline with references {'distortion': '/home/runner/crds/references/jwst/miri/jwst_miri_distortion_0047.asdf', 'filteroffset': '/home/runner/crds/references/jwst/miri/jwst_miri_filteroffset_0008.asdf', 'specwcs': None, 'regions': None, 'wavelengthrange': None, 'camera': None, 'collimator': None, 'disperser': None, 'fore': None, 'fpa': None, 'msa': None, 'ote': None, 'ifupost': None, 'ifufore': None, 'ifuslicer': None}\n"},"children":[],"key":"Hyian1UQKQ"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:20,428 - stcal.alignment.util - INFO - Update S_REGION to POLYGON ICRS  80.522590500 -69.442259683 80.541421228 -69.472834075 80.628988786 -69.466212482 80.610814720 -69.435536112\n"},"children":[],"key":"ilAztkWLBS"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:20,429 - jwst.assign_wcs.assign_wcs - INFO - assign_wcs updated S_REGION to POLYGON ICRS  80.522590500 -69.442259683 80.541421228 -69.472834075 80.628988786 -69.466212482 80.610814720 -69.435536112\n"},"children":[],"key":"IfqB9mJwcH"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:20,429 - jwst.assign_wcs.assign_wcs - INFO - COMPLETED assign_wcs\n"},"children":[],"key":"bToY3TvulO"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:20,463 - py.warnings - WARNING - /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages/gwcs/wcs/_wcs.py:1790: LinAlgWarning: Failed to achieve requested SIP approximation accuracy.\n  fit_inv_poly_u, fit_inv_poly_v, max_inv_resid = fit_2D_poly(\n\n"},"children":[],"key":"Efhlgup2uh"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:20,475 - stpipe.Image2Pipeline.assign_wcs - INFO - Step assign_wcs done\n"},"children":[],"key":"P1ssZXDXSf"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:20,612 - stpipe.Image2Pipeline.flat_field - INFO - Step flat_field running with args (\u003cImageModel(1024, 1032) from ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00001_mirimage_image2pipeline.fits\u003e,).\n"},"children":[],"key":"nx7fScDKqK"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:20,655 - stpipe.Image2Pipeline.flat_field - INFO - Using FLAT reference file: /home/runner/crds/references/jwst/miri/jwst_miri_flat_0829.fits\n"},"children":[],"key":"QTfUk5bTTh"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:20,656 - stpipe.Image2Pipeline.flat_field - INFO - No reference found for type FFLAT\n"},"children":[],"key":"d9Q2swQP1s"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:20,656 - stpipe.Image2Pipeline.flat_field - INFO - No reference found for type SFLAT\n"},"children":[],"key":"we86OdBSEV"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:20,657 - stpipe.Image2Pipeline.flat_field - INFO - No reference found for type DFLAT\n"},"children":[],"key":"kLrn2NPs9V"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:20,720 - stpipe.Image2Pipeline.flat_field - INFO - Step flat_field done\n"},"children":[],"key":"RaWGVjc73i"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:20,852 - stpipe.Image2Pipeline.photom - INFO - Step photom running with args (\u003cImageModel(1024, 1032) from ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00001_mirimage_image2pipeline.fits\u003e,).\n"},"children":[],"key":"HoA30PQCxT"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:20,868 - stpipe.Image2Pipeline.photom - INFO - Using photom reference file: /home/runner/crds/references/jwst/miri/jwst_miri_photom_0218.fits\n"},"children":[],"key":"RioYjhgO0F"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:20,869 - stpipe.Image2Pipeline.photom - INFO - Using area reference file: /home/runner/crds/references/jwst/miri/jwst_miri_area_0006.fits\n"},"children":[],"key":"RZSGMxNWPA"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:20,894 - jwst.photom.photom - INFO - Using instrument: MIRI\n"},"children":[],"key":"yexKdBU32M"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:20,894 - jwst.photom.photom - INFO -  detector: MIRIMAGE\n"},"children":[],"key":"zMmcGE8csm"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:20,895 - jwst.photom.photom - INFO -  exp_type: MIR_IMAGE\n"},"children":[],"key":"S9KXOHvxT9"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:20,895 - jwst.photom.photom - INFO -  filter: F770W\n"},"children":[],"key":"qXkJnpv0FE"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:20,926 - jwst.photom.photom - INFO - Pixel area map copied to output.\n"},"children":[],"key":"cBAz9a2Sj4"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:20,926 - jwst.photom.photom - INFO - Values for PIXAR_SR and PIXAR_A2 obtained from AREA reference file.\n"},"children":[],"key":"IhOSdRtlTX"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:20,928 - jwst.photom.photom - INFO -  subarray: FULL\n"},"children":[],"key":"n4MvQIZ6Tc"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:20,928 - jwst.photom.photom - INFO - Applying the time-dependent correction to the PHOTOM value.\n"},"children":[],"key":"x235ZRmjVJ"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:20,933 - jwst.photom.photom - INFO - PHOTMJSR value: 0.257756\n"},"children":[],"key":"TGGcv6se57"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:20,948 - stpipe.Image2Pipeline.photom - INFO - Step photom done\n"},"children":[],"key":"yQTQQMhv13"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:21,089 - stpipe.Image2Pipeline.resample - INFO - Step resample running with args (\u003cImageModel(1024, 1032) from ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00001_mirimage_image2pipeline.fits\u003e,).\n"},"children":[],"key":"BLjq45ZQ5l"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:21,120 - jwst.resample.resample_utils - INFO - Pixel scale ratio (pscale_out/pscale_in): 1.0\n"},"children":[],"key":"Y1cIry1HF3"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:21,120 - jwst.resample.resample_utils - INFO - Computed output pixel scale: 0.11091590874981953 arcsec.\n"},"children":[],"key":"PMjfd4M1Ya"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:21,127 - stcal.resample.resample - INFO - Output pixel scale: 0.11091590874981953 arcsec.\n"},"children":[],"key":"I94YCQXMH7"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:21,128 - stcal.resample.resample - INFO - Driz parameter kernel: square\n"},"children":[],"key":"cdNhTdPT76"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:21,128 - stcal.resample.resample - INFO - Driz parameter pixfrac: 1.0\n"},"children":[],"key":"YssfJ105Ac"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:21,129 - stcal.resample.resample - INFO - Driz parameter fillval: NAN\n"},"children":[],"key":"E6XYUjLQzS"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:21,129 - stcal.resample.resample - INFO - Driz parameter weight_type: exptime\n"},"children":[],"key":"M4s5QuGdzO"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:21,133 - jwst.resample.resample - INFO - Resampling science and variance data\n"},"children":[],"key":"rHvX0uaMIt"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:21,584 - stcal.resample.resample - INFO - Resampling science and variance data\n"},"children":[],"key":"eGDSb5tBwX"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:21,828 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --\u003e (1019, 1029)\n"},"children":[],"key":"uBZ5eum1W7"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:22,023 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --\u003e (1019, 1029)\n"},"children":[],"key":"a1SfnPFNq4"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:22,219 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --\u003e (1019, 1029)\n"},"children":[],"key":"vqQ3mjCDvt"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:22,515 - stcal.alignment.util - INFO - Update S_REGION to POLYGON ICRS  80.522470432 -69.442135354 80.541076384 -69.472844353 80.629482750 -69.466224295 80.610756230 -69.435524754\n"},"children":[],"key":"nCUXKxoNob"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:22,612 - stpipe.Image2Pipeline.resample - INFO - Saved model in ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00001_mirimage_i2d.fits\n"},"children":[],"key":"ciDxiXTdfx"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:22,613 - stpipe.Image2Pipeline.resample - INFO - Step resample done\n"},"children":[],"key":"TTnqo6TpvN"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:22,614 - stpipe.Image2Pipeline - INFO - Finished processing product /home/runner/work/notebook-ci-testing/notebook-ci-testing/notebooks/MIRI/Imaging/mir_im_demo_data/Obs001/stage1/jw01040001005_03103_00001_mirimage\n"},"children":[],"key":"s3O8bM27Rb"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:22,614 - stpipe.Image2Pipeline - INFO - ... ending calwebb_image2\n"},"children":[],"key":"I1ATm2gDBh"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:22,615 - jwst.stpipe.core - INFO - Results used CRDS context: jwst_1413.pmap\n"},"children":[],"key":"KIeVw3FCXI"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:22,742 - stpipe.Image2Pipeline - INFO - Saved model in ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00001_mirimage_cal.fits\n"},"children":[],"key":"fW7nDIsL7C"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:22,743 - stpipe.Image2Pipeline - INFO - Step Image2Pipeline done\n"},"children":[],"key":"jghRrqANNA"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:22,744 - jwst.stpipe.core - INFO - Results used jwst version: 1.19.1\n"},"children":[],"key":"fpBpHHxUmX"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:22,802 - stpipe - INFO - PARS-RESAMPLESTEP parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-resamplestep_0001.asdf\n"},"children":[],"key":"QR76AtPFwT"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:22,810 - stpipe - INFO - PARS-IMAGE2PIPELINE parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-image2pipeline_0004.asdf\n"},"children":[],"key":"TGh67qfOPG"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:22,821 - stpipe.Image2Pipeline - INFO - Image2Pipeline instance created.\n"},"children":[],"key":"qDA4jFJs12"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:22,822 - stpipe.Image2Pipeline.bkg_subtract - INFO - BackgroundStep instance created.\n"},"children":[],"key":"fMbBwf0Iqj"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:22,823 - stpipe.Image2Pipeline.assign_wcs - INFO - AssignWcsStep instance created.\n"},"children":[],"key":"MEwEYrg52U"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:22,825 - stpipe.Image2Pipeline.flat_field - INFO - FlatFieldStep instance created.\n"},"children":[],"key":"T4SMSzqB8S"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:22,826 - stpipe.Image2Pipeline.photom - INFO - PhotomStep instance created.\n"},"children":[],"key":"fKaPQXCXBj"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:22,827 - stpipe.Image2Pipeline.resample - INFO - ResampleStep instance created.\n"},"children":[],"key":"kxQxVl77Ae"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:22,975 - stpipe.Image2Pipeline - INFO - Step Image2Pipeline running with args ('./mir_im_demo_data/Obs001/l2asn.json',).\n"},"children":[],"key":"zWhFWoZCjW"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:22,983 - stpipe.Image2Pipeline - INFO - Step Image2Pipeline parameters are:\n  pre_hooks: []\n  post_hooks: []\n  output_file: None\n  output_dir: ./mir_im_demo_data/Obs001/stage2\n  output_ext: .fits\n  output_use_model: False\n  output_use_index: True\n  save_results: True\n  skip: False\n  suffix: None\n  search_output_file: True\n  input_dir: ''\n  save_bsub: False\n  steps:\n    bkg_subtract:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      bkg_list: None\n      save_combined_background: False\n      sigma: 2\n      maxiters: None\n      soss_source_percentile: 35.0\n      soss_bkg_percentile: None\n      wfss_mmag_extract: None\n      wfss_maxiter: 5\n      wfss_rms_stop: 0.0\n      wfss_outlier_percent: 1.0\n    assign_wcs:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      sip_approx: True\n      sip_max_pix_error: 0.01\n      sip_degree: None\n      sip_max_inv_pix_error: 0.01\n      sip_inv_degree: None\n      sip_npoints: 12\n      slit_y_low: -0.55\n      slit_y_high: 0.55\n      nrs_ifu_slice_wcs: False\n    flat_field:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      save_interpolated_flat: False\n      user_supplied_flat: None\n      inverse: False\n    photom:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      inverse: False\n      source_type: None\n      mrs_time_correction: True\n    resample:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      pixfrac: 1.0\n      kernel: square\n      fillval: NAN\n      weight_type: exptime\n      output_shape: None\n      crpix: None\n      crval: None\n      rotation: None\n      pixel_scale_ratio: 1.0\n      pixel_scale: None\n      output_wcs: ''\n      single: False\n      blendheaders: True\n      in_memory: True\n      enable_ctx: True\n      enable_err: True\n      report_var: True\n"},"children":[],"key":"zl0tVcunyk"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:23,028 - stpipe.Image2Pipeline - INFO - Prefetching reference files for dataset: 'l2asn.json' reftypes = ['area', 'bkg', 'camera', 'collimator', 'dflat', 'disperser', 'distortion', 'fflat', 'filteroffset', 'flat', 'fore', 'fpa', 'ifufore', 'ifupost', 'ifuslicer', 'msa', 'ote', 'photom', 'regions', 'sflat', 'specwcs', 'wavelengthrange']\n"},"children":[],"key":"omAemPKImq"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:23,031 - stpipe.Image2Pipeline - INFO - Prefetch for AREA reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_area_0006.fits'.\n"},"children":[],"key":"lygFRi5nvO"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:23,032 - stpipe.Image2Pipeline - INFO - Prefetch for BKG reference file is 'N/A'.\n"},"children":[],"key":"mFO4RD3QHr"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:23,032 - stpipe.Image2Pipeline - INFO - Prefetch for CAMERA reference file is 'N/A'.\n"},"children":[],"key":"aGD2PXGl04"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:23,033 - stpipe.Image2Pipeline - INFO - Prefetch for COLLIMATOR reference file is 'N/A'.\n"},"children":[],"key":"yRrqsD6gLt"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:23,033 - stpipe.Image2Pipeline - INFO - Prefetch for DFLAT reference file is 'N/A'.\n"},"children":[],"key":"CvLPpplvpE"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:23,034 - stpipe.Image2Pipeline - INFO - Prefetch for DISPERSER reference file is 'N/A'.\n"},"children":[],"key":"Rd0DMLxyLj"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:23,034 - stpipe.Image2Pipeline - INFO - Prefetch for DISTORTION reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_distortion_0047.asdf'.\n"},"children":[],"key":"my9lPZng1s"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:23,035 - stpipe.Image2Pipeline - INFO - Prefetch for FFLAT reference file is 'N/A'.\n"},"children":[],"key":"wjuRPaTTnn"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:23,035 - stpipe.Image2Pipeline - INFO - Prefetch for FILTEROFFSET reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_filteroffset_0008.asdf'.\n"},"children":[],"key":"UMFP0V4kam"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:23,035 - stpipe.Image2Pipeline - INFO - Prefetch for FLAT reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_flat_0829.fits'.\n"},"children":[],"key":"DbpItfvAZk"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:23,036 - stpipe.Image2Pipeline - INFO - Prefetch for FORE reference file is 'N/A'.\n"},"children":[],"key":"v8TyjoX6Cm"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:23,036 - stpipe.Image2Pipeline - INFO - Prefetch for FPA reference file is 'N/A'.\n"},"children":[],"key":"fY3KIM1Gb9"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:23,037 - stpipe.Image2Pipeline - INFO - Prefetch for IFUFORE reference file is 'N/A'.\n"},"children":[],"key":"luZJPyvIdk"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:23,037 - stpipe.Image2Pipeline - INFO - Prefetch for IFUPOST reference file is 'N/A'.\n"},"children":[],"key":"nIJ5VjiOur"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:23,037 - stpipe.Image2Pipeline - INFO - Prefetch for IFUSLICER reference file is 'N/A'.\n"},"children":[],"key":"rifuWTxB9k"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:23,038 - stpipe.Image2Pipeline - INFO - Prefetch for MSA reference file is 'N/A'.\n"},"children":[],"key":"Y0KsH91UUr"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:23,038 - stpipe.Image2Pipeline - INFO - Prefetch for OTE reference file is 'N/A'.\n"},"children":[],"key":"C9zvmlOqq7"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:23,039 - stpipe.Image2Pipeline - INFO - Prefetch for PHOTOM reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_photom_0218.fits'.\n"},"children":[],"key":"kVcjTWZCGD"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:23,040 - stpipe.Image2Pipeline - INFO - Prefetch for REGIONS reference file is 'N/A'.\n"},"children":[],"key":"X920nA6YSQ"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:23,040 - stpipe.Image2Pipeline - INFO - Prefetch for SFLAT reference file is 'N/A'.\n"},"children":[],"key":"agtmIPYmyK"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:23,040 - stpipe.Image2Pipeline - INFO - Prefetch for SPECWCS reference file is 'N/A'.\n"},"children":[],"key":"uAIHOq3Yv4"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:23,041 - stpipe.Image2Pipeline - INFO - Prefetch for WAVELENGTHRANGE reference file is 'N/A'.\n"},"children":[],"key":"IDdzzvcBYy"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:23,041 - stpipe.Image2Pipeline - INFO - Starting calwebb_image2 ...\n"},"children":[],"key":"sUE6mHZcte"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:23,047 - stpipe.Image2Pipeline - INFO - Processing product /home/runner/work/notebook-ci-testing/notebook-ci-testing/notebooks/MIRI/Imaging/mir_im_demo_data/Obs001/stage1/jw01040001005_03103_00002_mirimage\n"},"children":[],"key":"i85gQYVZ04"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:23,048 - stpipe.Image2Pipeline - INFO - Working on input /home/runner/work/notebook-ci-testing/notebook-ci-testing/notebooks/MIRI/Imaging/mir_im_demo_data/Obs001/stage1/jw01040001005_03103_00002_mirimage_rate.fits ...\n"},"children":[],"key":"j5dwLxmF7I"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:23,218 - stpipe.Image2Pipeline.assign_wcs - INFO - Step assign_wcs running with args (\u003cImageModel(1024, 1032) from ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00002_mirimage_image2pipeline.fits\u003e,).\n"},"children":[],"key":"qXbc5OuZzP"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:23,317 - jwst.assign_wcs.miri - INFO - Created a MIRI mir_image pipeline with references {'distortion': '/home/runner/crds/references/jwst/miri/jwst_miri_distortion_0047.asdf', 'filteroffset': '/home/runner/crds/references/jwst/miri/jwst_miri_filteroffset_0008.asdf', 'specwcs': None, 'regions': None, 'wavelengthrange': None, 'camera': None, 'collimator': None, 'disperser': None, 'fore': None, 'fpa': None, 'msa': None, 'ote': None, 'ifupost': None, 'ifufore': None, 'ifuslicer': None}\n"},"children":[],"key":"ZexigYIXeK"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:23,369 - stcal.alignment.util - INFO - Update S_REGION to POLYGON ICRS  80.519758777 -69.441179341 80.538584462 -69.471754044 80.626148504 -69.465133897 80.607979465 -69.434457227\n"},"children":[],"key":"vYTYkD480u"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:23,370 - jwst.assign_wcs.assign_wcs - INFO - assign_wcs updated S_REGION to POLYGON ICRS  80.519758777 -69.441179341 80.538584462 -69.471754044 80.626148504 -69.465133897 80.607979465 -69.434457227\n"},"children":[],"key":"GUEtozDasR"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:23,370 - jwst.assign_wcs.assign_wcs - INFO - COMPLETED assign_wcs\n"},"children":[],"key":"yF6WGNGZjb"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:23,403 - py.warnings - WARNING - /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages/gwcs/wcs/_wcs.py:1790: LinAlgWarning: Failed to achieve requested SIP approximation accuracy.\n  fit_inv_poly_u, fit_inv_poly_v, max_inv_resid = fit_2D_poly(\n\n"},"children":[],"key":"Sp1XepcxtL"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:23,415 - stpipe.Image2Pipeline.assign_wcs - INFO - Step assign_wcs done\n"},"children":[],"key":"IoqDOnjZnW"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:23,565 - stpipe.Image2Pipeline.flat_field - INFO - Step flat_field running with args (\u003cImageModel(1024, 1032) from ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00002_mirimage_image2pipeline.fits\u003e,).\n"},"children":[],"key":"wb8JHQp6NG"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:23,604 - stpipe.Image2Pipeline.flat_field - INFO - Using FLAT reference file: /home/runner/crds/references/jwst/miri/jwst_miri_flat_0829.fits\n"},"children":[],"key":"xf6Hg6hkU0"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:23,604 - stpipe.Image2Pipeline.flat_field - INFO - No reference found for type FFLAT\n"},"children":[],"key":"Fr7q3tYBIk"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:23,605 - stpipe.Image2Pipeline.flat_field - INFO - No reference found for type SFLAT\n"},"children":[],"key":"qv0zbD4jOE"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:23,605 - stpipe.Image2Pipeline.flat_field - INFO - No reference found for type DFLAT\n"},"children":[],"key":"WEQkABfVeu"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:23,673 - stpipe.Image2Pipeline.flat_field - INFO - Step flat_field done\n"},"children":[],"key":"NbZ63LLR8F"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:23,807 - stpipe.Image2Pipeline.photom - INFO - Step photom running with args (\u003cImageModel(1024, 1032) from ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00002_mirimage_image2pipeline.fits\u003e,).\n"},"children":[],"key":"ABdi0JihCx"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:23,820 - stpipe.Image2Pipeline.photom - INFO - Using photom reference file: /home/runner/crds/references/jwst/miri/jwst_miri_photom_0218.fits\n"},"children":[],"key":"aqq7niywld"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:23,820 - stpipe.Image2Pipeline.photom - INFO - Using area reference file: /home/runner/crds/references/jwst/miri/jwst_miri_area_0006.fits\n"},"children":[],"key":"Bv4PLDI6mP"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:23,847 - jwst.photom.photom - INFO - Using instrument: MIRI\n"},"children":[],"key":"mU6tXdfs3B"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:23,847 - jwst.photom.photom - INFO -  detector: MIRIMAGE\n"},"children":[],"key":"EpjfudBX9t"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:23,848 - jwst.photom.photom - INFO -  exp_type: MIR_IMAGE\n"},"children":[],"key":"mTuazgN4ss"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:23,848 - jwst.photom.photom - INFO -  filter: F770W\n"},"children":[],"key":"pv5G82GaOM"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:23,875 - jwst.photom.photom - INFO - Pixel area map copied to output.\n"},"children":[],"key":"TKcRELRbLg"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:23,875 - jwst.photom.photom - INFO - Values for PIXAR_SR and PIXAR_A2 obtained from AREA reference file.\n"},"children":[],"key":"AdS9hoa7n5"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:23,876 - jwst.photom.photom - INFO -  subarray: FULL\n"},"children":[],"key":"nsPgyAm7Yw"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:23,877 - jwst.photom.photom - INFO - Applying the time-dependent correction to the PHOTOM value.\n"},"children":[],"key":"EaNUeUwBnw"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:23,882 - jwst.photom.photom - INFO - PHOTMJSR value: 0.257756\n"},"children":[],"key":"L5ddPrSjah"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:23,898 - stpipe.Image2Pipeline.photom - INFO - Step photom done\n"},"children":[],"key":"y4ZZubJtZk"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:24,035 - stpipe.Image2Pipeline.resample - INFO - Step resample running with args (\u003cImageModel(1024, 1032) from ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00002_mirimage_image2pipeline.fits\u003e,).\n"},"children":[],"key":"Ux18CCwJas"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:24,066 - jwst.resample.resample_utils - INFO - Pixel scale ratio (pscale_out/pscale_in): 1.0\n"},"children":[],"key":"llUme5m2qV"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:24,066 - jwst.resample.resample_utils - INFO - Computed output pixel scale: 0.11091590886942379 arcsec.\n"},"children":[],"key":"W2SMgNi45x"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:24,073 - stcal.resample.resample - INFO - Output pixel scale: 0.11091590886942379 arcsec.\n"},"children":[],"key":"F8tqnYyCgG"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:24,074 - stcal.resample.resample - INFO - Driz parameter kernel: square\n"},"children":[],"key":"R01MDc1kZi"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:24,074 - stcal.resample.resample - INFO - Driz parameter pixfrac: 1.0\n"},"children":[],"key":"uM8unCMg41"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:24,075 - stcal.resample.resample - INFO - Driz parameter fillval: NAN\n"},"children":[],"key":"PkPhxZ2NRA"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:24,075 - stcal.resample.resample - INFO - Driz parameter weight_type: exptime\n"},"children":[],"key":"pCNPJJcCuD"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:24,079 - jwst.resample.resample - INFO - Resampling science and variance data\n"},"children":[],"key":"fg70t0SDYW"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:24,529 - stcal.resample.resample - INFO - Resampling science and variance data\n"},"children":[],"key":"tmSo3E9wBq"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:24,773 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --\u003e (1019, 1029)\n"},"children":[],"key":"RQYFaH9zHy"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:24,968 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --\u003e (1019, 1029)\n"},"children":[],"key":"m4HdQkgyQ2"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:25,164 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --\u003e (1019, 1029)\n"},"children":[],"key":"aCNt5JkHSY"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:25,469 - stcal.alignment.util - INFO - Update S_REGION to POLYGON ICRS  80.519638732 -69.441055010 80.538239633 -69.471764316 80.626642442 -69.465145718 80.607920980 -69.434445868\n"},"children":[],"key":"nfM0nLvdjM"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:25,569 - stpipe.Image2Pipeline.resample - INFO - Saved model in ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00002_mirimage_i2d.fits\n"},"children":[],"key":"fa5eT4SWfi"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:25,570 - stpipe.Image2Pipeline.resample - INFO - Step resample done\n"},"children":[],"key":"A8RjQtegFX"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:25,572 - stpipe.Image2Pipeline - INFO - Finished processing product /home/runner/work/notebook-ci-testing/notebook-ci-testing/notebooks/MIRI/Imaging/mir_im_demo_data/Obs001/stage1/jw01040001005_03103_00002_mirimage\n"},"children":[],"key":"to1GitLfnU"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:25,573 - stpipe.Image2Pipeline - INFO - ... ending calwebb_image2\n"},"children":[],"key":"P8fTsfswsM"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:25,574 - jwst.stpipe.core - INFO - Results used CRDS context: jwst_1413.pmap\n"},"children":[],"key":"fKoW7d5CmT"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:25,704 - stpipe.Image2Pipeline - INFO - Saved model in ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00002_mirimage_cal.fits\n"},"children":[],"key":"f7IOxSS0ti"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:25,704 - stpipe.Image2Pipeline - INFO - Step Image2Pipeline done\n"},"children":[],"key":"c3sQ7E7a1L"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:25,705 - jwst.stpipe.core - INFO - Results used jwst version: 1.19.1\n"},"children":[],"key":"DbZmOQ9OdR"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:25,766 - stpipe - INFO - PARS-RESAMPLESTEP parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-resamplestep_0001.asdf\n"},"children":[],"key":"ZihO81Pgcw"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:25,776 - stpipe - INFO - PARS-IMAGE2PIPELINE parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-image2pipeline_0004.asdf\n"},"children":[],"key":"cRKaTKivV5"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:25,786 - stpipe.Image2Pipeline - INFO - Image2Pipeline instance created.\n"},"children":[],"key":"afveMj8RxC"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:25,788 - stpipe.Image2Pipeline.bkg_subtract - INFO - BackgroundStep instance created.\n"},"children":[],"key":"XCvuaeVfHL"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:25,789 - stpipe.Image2Pipeline.assign_wcs - INFO - AssignWcsStep instance created.\n"},"children":[],"key":"tDB4tAPuCn"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:25,790 - stpipe.Image2Pipeline.flat_field - INFO - FlatFieldStep instance created.\n"},"children":[],"key":"CMiayGWb7l"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:25,791 - stpipe.Image2Pipeline.photom - INFO - PhotomStep instance created.\n"},"children":[],"key":"aPYmKXDNcX"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:25,792 - stpipe.Image2Pipeline.resample - INFO - ResampleStep instance created.\n"},"children":[],"key":"KJ6qZt6AJT"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:25,928 - stpipe.Image2Pipeline - INFO - Step Image2Pipeline running with args ('./mir_im_demo_data/Obs001/l2asn.json',).\n"},"children":[],"key":"FYwfu355oD"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:25,936 - stpipe.Image2Pipeline - INFO - Step Image2Pipeline parameters are:\n  pre_hooks: []\n  post_hooks: []\n  output_file: None\n  output_dir: ./mir_im_demo_data/Obs001/stage2\n  output_ext: .fits\n  output_use_model: False\n  output_use_index: True\n  save_results: True\n  skip: False\n  suffix: None\n  search_output_file: True\n  input_dir: ''\n  save_bsub: False\n  steps:\n    bkg_subtract:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      bkg_list: None\n      save_combined_background: False\n      sigma: 2\n      maxiters: None\n      soss_source_percentile: 35.0\n      soss_bkg_percentile: None\n      wfss_mmag_extract: None\n      wfss_maxiter: 5\n      wfss_rms_stop: 0.0\n      wfss_outlier_percent: 1.0\n    assign_wcs:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      sip_approx: True\n      sip_max_pix_error: 0.01\n      sip_degree: None\n      sip_max_inv_pix_error: 0.01\n      sip_inv_degree: None\n      sip_npoints: 12\n      slit_y_low: -0.55\n      slit_y_high: 0.55\n      nrs_ifu_slice_wcs: False\n    flat_field:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      save_interpolated_flat: False\n      user_supplied_flat: None\n      inverse: False\n    photom:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      inverse: False\n      source_type: None\n      mrs_time_correction: True\n    resample:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      pixfrac: 1.0\n      kernel: square\n      fillval: NAN\n      weight_type: exptime\n      output_shape: None\n      crpix: None\n      crval: None\n      rotation: None\n      pixel_scale_ratio: 1.0\n      pixel_scale: None\n      output_wcs: ''\n      single: False\n      blendheaders: True\n      in_memory: True\n      enable_ctx: True\n      enable_err: True\n      report_var: True\n"},"children":[],"key":"ebUUHsPRM3"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:25,980 - stpipe.Image2Pipeline - INFO - Prefetching reference files for dataset: 'l2asn.json' reftypes = ['area', 'bkg', 'camera', 'collimator', 'dflat', 'disperser', 'distortion', 'fflat', 'filteroffset', 'flat', 'fore', 'fpa', 'ifufore', 'ifupost', 'ifuslicer', 'msa', 'ote', 'photom', 'regions', 'sflat', 'specwcs', 'wavelengthrange']\n"},"children":[],"key":"XxgOgIASQ2"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:25,983 - stpipe.Image2Pipeline - INFO - Prefetch for AREA reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_area_0006.fits'.\n"},"children":[],"key":"agdolILl6t"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:25,984 - stpipe.Image2Pipeline - INFO - Prefetch for BKG reference file is 'N/A'.\n"},"children":[],"key":"Xg5ooqQMvN"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:25,984 - stpipe.Image2Pipeline - INFO - Prefetch for CAMERA reference file is 'N/A'.\n"},"children":[],"key":"p4y64bP821"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:25,985 - stpipe.Image2Pipeline - INFO - Prefetch for COLLIMATOR reference file is 'N/A'.\n"},"children":[],"key":"GA0Pm3kxSK"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:25,985 - stpipe.Image2Pipeline - INFO - Prefetch for DFLAT reference file is 'N/A'.\n"},"children":[],"key":"QJpEXTGY6T"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:25,986 - stpipe.Image2Pipeline - INFO - Prefetch for DISPERSER reference file is 'N/A'.\n"},"children":[],"key":"yCgdH6vefm"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:25,986 - stpipe.Image2Pipeline - INFO - Prefetch for DISTORTION reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_distortion_0047.asdf'.\n"},"children":[],"key":"ozsY8SLkfN"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:25,987 - stpipe.Image2Pipeline - INFO - Prefetch for FFLAT reference file is 'N/A'.\n"},"children":[],"key":"Hz57AgEckR"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:25,987 - stpipe.Image2Pipeline - INFO - Prefetch for FILTEROFFSET reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_filteroffset_0008.asdf'.\n"},"children":[],"key":"TwOEw9ACcY"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:25,988 - stpipe.Image2Pipeline - INFO - Prefetch for FLAT reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_flat_0829.fits'.\n"},"children":[],"key":"UJdcNwybOJ"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:25,988 - stpipe.Image2Pipeline - INFO - Prefetch for FORE reference file is 'N/A'.\n"},"children":[],"key":"UmkR4VKT5W"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:25,989 - stpipe.Image2Pipeline - INFO - Prefetch for FPA reference file is 'N/A'.\n"},"children":[],"key":"hLZNURWCT7"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:25,989 - stpipe.Image2Pipeline - INFO - Prefetch for IFUFORE reference file is 'N/A'.\n"},"children":[],"key":"Szpx5Vxqjl"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:25,990 - stpipe.Image2Pipeline - INFO - Prefetch for IFUPOST reference file is 'N/A'.\n"},"children":[],"key":"frFita8IUh"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:25,990 - stpipe.Image2Pipeline - INFO - Prefetch for IFUSLICER reference file is 'N/A'.\n"},"children":[],"key":"UrNSp2UxIL"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:25,990 - stpipe.Image2Pipeline - INFO - Prefetch for MSA reference file is 'N/A'.\n"},"children":[],"key":"RN07kzPUsZ"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:25,991 - stpipe.Image2Pipeline - INFO - Prefetch for OTE reference file is 'N/A'.\n"},"children":[],"key":"Mq0pspPmya"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:25,992 - stpipe.Image2Pipeline - INFO - Prefetch for PHOTOM reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_photom_0218.fits'.\n"},"children":[],"key":"biC4dvyAyy"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:25,992 - stpipe.Image2Pipeline - INFO - Prefetch for REGIONS reference file is 'N/A'.\n"},"children":[],"key":"pTHJDUFKT7"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:25,993 - stpipe.Image2Pipeline - INFO - Prefetch for SFLAT reference file is 'N/A'.\n"},"children":[],"key":"H98rK79aB9"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:25,993 - stpipe.Image2Pipeline - INFO - Prefetch for SPECWCS reference file is 'N/A'.\n"},"children":[],"key":"gxUnfuVW2y"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:25,993 - stpipe.Image2Pipeline - INFO - Prefetch for WAVELENGTHRANGE reference file is 'N/A'.\n"},"children":[],"key":"QF3kCbmqu7"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:25,994 - stpipe.Image2Pipeline - INFO - Starting calwebb_image2 ...\n"},"children":[],"key":"dZQHTU6Lpy"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:26,000 - stpipe.Image2Pipeline - INFO - Processing product /home/runner/work/notebook-ci-testing/notebook-ci-testing/notebooks/MIRI/Imaging/mir_im_demo_data/Obs001/stage1/jw01040001005_03103_00003_mirimage\n"},"children":[],"key":"yXS21HmFPi"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:26,000 - stpipe.Image2Pipeline - INFO - Working on input /home/runner/work/notebook-ci-testing/notebook-ci-testing/notebooks/MIRI/Imaging/mir_im_demo_data/Obs001/stage1/jw01040001005_03103_00003_mirimage_rate.fits ...\n"},"children":[],"key":"aO8YEEM5Tr"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:26,182 - stpipe.Image2Pipeline.assign_wcs - INFO - Step assign_wcs running with args (\u003cImageModel(1024, 1032) from ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00003_mirimage_image2pipeline.fits\u003e,).\n"},"children":[],"key":"iQJY8GOyzL"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:26,277 - jwst.assign_wcs.miri - INFO - Created a MIRI mir_image pipeline with references {'distortion': '/home/runner/crds/references/jwst/miri/jwst_miri_distortion_0047.asdf', 'filteroffset': '/home/runner/crds/references/jwst/miri/jwst_miri_filteroffset_0008.asdf', 'specwcs': None, 'regions': None, 'wavelengthrange': None, 'camera': None, 'collimator': None, 'disperser': None, 'fore': None, 'fpa': None, 'msa': None, 'ote': None, 'ifupost': None, 'ifufore': None, 'ifuslicer': None}\n"},"children":[],"key":"oEgPlYdQah"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:26,328 - stcal.alignment.util - INFO - Update S_REGION to POLYGON ICRS  80.517110392 -69.438899816 80.535930509 -69.469474789 80.623486029 -69.462855905 80.605322513 -69.432178972\n"},"children":[],"key":"eeJ1GgTNIt"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:26,329 - jwst.assign_wcs.assign_wcs - INFO - assign_wcs updated S_REGION to POLYGON ICRS  80.517110392 -69.438899816 80.535930509 -69.469474789 80.623486029 -69.462855905 80.605322513 -69.432178972\n"},"children":[],"key":"rEFZzp7Ph3"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:26,329 - jwst.assign_wcs.assign_wcs - INFO - COMPLETED assign_wcs\n"},"children":[],"key":"k62PeSQmou"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:26,362 - py.warnings - WARNING - /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages/gwcs/wcs/_wcs.py:1790: LinAlgWarning: Failed to achieve requested SIP approximation accuracy.\n  fit_inv_poly_u, fit_inv_poly_v, max_inv_resid = fit_2D_poly(\n\n"},"children":[],"key":"j87EzJaqun"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:26,373 - stpipe.Image2Pipeline.assign_wcs - INFO - Step assign_wcs done\n"},"children":[],"key":"tfPK5BQCBE"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:26,508 - stpipe.Image2Pipeline.flat_field - INFO - Step flat_field running with args (\u003cImageModel(1024, 1032) from ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00003_mirimage_image2pipeline.fits\u003e,).\n"},"children":[],"key":"Qnp2uWtah9"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:26,545 - stpipe.Image2Pipeline.flat_field - INFO - Using FLAT reference file: /home/runner/crds/references/jwst/miri/jwst_miri_flat_0829.fits\n"},"children":[],"key":"XhlzQFpuUd"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:26,545 - stpipe.Image2Pipeline.flat_field - INFO - No reference found for type FFLAT\n"},"children":[],"key":"HnHsg6tt1R"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:26,546 - stpipe.Image2Pipeline.flat_field - INFO - No reference found for type SFLAT\n"},"children":[],"key":"WbiIqqdeDj"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:26,546 - stpipe.Image2Pipeline.flat_field - INFO - No reference found for type DFLAT\n"},"children":[],"key":"QIPEKd2z7L"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:26,609 - stpipe.Image2Pipeline.flat_field - INFO - Step flat_field done\n"},"children":[],"key":"SnCocEnVhH"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:26,754 - stpipe.Image2Pipeline.photom - INFO - Step photom running with args (\u003cImageModel(1024, 1032) from ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00003_mirimage_image2pipeline.fits\u003e,).\n"},"children":[],"key":"vE1qn0FShp"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:26,766 - stpipe.Image2Pipeline.photom - INFO - Using photom reference file: /home/runner/crds/references/jwst/miri/jwst_miri_photom_0218.fits\n"},"children":[],"key":"gAjhG1PNze"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:26,766 - stpipe.Image2Pipeline.photom - INFO - Using area reference file: /home/runner/crds/references/jwst/miri/jwst_miri_area_0006.fits\n"},"children":[],"key":"wKkaJ0Unom"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:26,793 - jwst.photom.photom - INFO - Using instrument: MIRI\n"},"children":[],"key":"Fof4uH83iX"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:26,794 - jwst.photom.photom - INFO -  detector: MIRIMAGE\n"},"children":[],"key":"i73PlhYRAL"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:26,794 - jwst.photom.photom - INFO -  exp_type: MIR_IMAGE\n"},"children":[],"key":"BV3vpEq59y"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:26,795 - jwst.photom.photom - INFO -  filter: F770W\n"},"children":[],"key":"TLc8EF7Rl1"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:26,822 - jwst.photom.photom - INFO - Pixel area map copied to output.\n"},"children":[],"key":"ASW412YOE2"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:26,823 - jwst.photom.photom - INFO - Values for PIXAR_SR and PIXAR_A2 obtained from AREA reference file.\n"},"children":[],"key":"QpNsnCAuPt"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:26,824 - jwst.photom.photom - INFO -  subarray: FULL\n"},"children":[],"key":"fNbhJluN2B"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:26,825 - jwst.photom.photom - INFO - Applying the time-dependent correction to the PHOTOM value.\n"},"children":[],"key":"lIQeSItQDp"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:26,830 - jwst.photom.photom - INFO - PHOTMJSR value: 0.257756\n"},"children":[],"key":"crA2xRdCc6"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:26,845 - stpipe.Image2Pipeline.photom - INFO - Step photom done\n"},"children":[],"key":"ctdpbTsR8D"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:26,997 - stpipe.Image2Pipeline.resample - INFO - Step resample running with args (\u003cImageModel(1024, 1032) from ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00003_mirimage_image2pipeline.fits\u003e,).\n"},"children":[],"key":"QakgnlB84i"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:27,029 - jwst.resample.resample_utils - INFO - Pixel scale ratio (pscale_out/pscale_in): 1.0\n"},"children":[],"key":"R4zP1yBysi"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:27,030 - jwst.resample.resample_utils - INFO - Computed output pixel scale: 0.1109159089078686 arcsec.\n"},"children":[],"key":"TTZgdrLKWz"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:27,037 - stcal.resample.resample - INFO - Output pixel scale: 0.1109159089078686 arcsec.\n"},"children":[],"key":"kzozgaE9t1"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:27,037 - stcal.resample.resample - INFO - Driz parameter kernel: square\n"},"children":[],"key":"MlBT0aBbBR"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:27,038 - stcal.resample.resample - INFO - Driz parameter pixfrac: 1.0\n"},"children":[],"key":"CPlJrTDKDu"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:27,038 - stcal.resample.resample - INFO - Driz parameter fillval: NAN\n"},"children":[],"key":"jrdlSkUb7X"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:27,038 - stcal.resample.resample - INFO - Driz parameter weight_type: exptime\n"},"children":[],"key":"OaPNH6Pk4V"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:27,043 - jwst.resample.resample - INFO - Resampling science and variance data\n"},"children":[],"key":"DPxdrGEC7p"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:27,495 - stcal.resample.resample - INFO - Resampling science and variance data\n"},"children":[],"key":"TZu2n7zKhG"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:27,740 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --\u003e (1019, 1029)\n"},"children":[],"key":"zaySIkplqG"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:27,936 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --\u003e (1019, 1029)\n"},"children":[],"key":"oSVjAtDLro"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:28,133 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --\u003e (1019, 1029)\n"},"children":[],"key":"CjtybZEmqN"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:28,442 - stcal.alignment.util - INFO - Update S_REGION to POLYGON ICRS  80.516990373 -69.438775482 80.535585712 -69.469485056 80.623979910 -69.462867733 80.605264034 -69.432167612\n"},"children":[],"key":"ZFfQgp3zc7"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:28,538 - stpipe.Image2Pipeline.resample - INFO - Saved model in ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00003_mirimage_i2d.fits\n"},"children":[],"key":"o6wAusbZhx"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:28,538 - stpipe.Image2Pipeline.resample - INFO - Step resample done\n"},"children":[],"key":"gN8QPhWMUm"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:28,539 - stpipe.Image2Pipeline - INFO - Finished processing product /home/runner/work/notebook-ci-testing/notebook-ci-testing/notebooks/MIRI/Imaging/mir_im_demo_data/Obs001/stage1/jw01040001005_03103_00003_mirimage\n"},"children":[],"key":"Hgct7Ca3GH"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:28,540 - stpipe.Image2Pipeline - INFO - ... ending calwebb_image2\n"},"children":[],"key":"wn0HnB3WiU"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:28,541 - jwst.stpipe.core - INFO - Results used CRDS context: jwst_1413.pmap\n"},"children":[],"key":"AoqbxVomGh"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:28,669 - stpipe.Image2Pipeline - INFO - Saved model in ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00003_mirimage_cal.fits\n"},"children":[],"key":"oDUivDCGuo"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:28,670 - stpipe.Image2Pipeline - INFO - Step Image2Pipeline done\n"},"children":[],"key":"kGqpU0ShwM"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:28,670 - jwst.stpipe.core - INFO - Results used jwst version: 1.19.1\n"},"children":[],"key":"UfhN3EJx7L"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:28,728 - stpipe - INFO - PARS-RESAMPLESTEP parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-resamplestep_0001.asdf\n"},"children":[],"key":"IFTNdK204Y"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:28,737 - stpipe - INFO - PARS-IMAGE2PIPELINE parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-image2pipeline_0004.asdf\n"},"children":[],"key":"oueCYyjf5K"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:28,747 - stpipe.Image2Pipeline - INFO - Image2Pipeline instance created.\n"},"children":[],"key":"SQ5lJsMzkI"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:28,748 - stpipe.Image2Pipeline.bkg_subtract - INFO - BackgroundStep instance created.\n"},"children":[],"key":"IgcidIlQWx"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:28,749 - stpipe.Image2Pipeline.assign_wcs - INFO - AssignWcsStep instance created.\n"},"children":[],"key":"qFY2BKCd4O"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:28,750 - stpipe.Image2Pipeline.flat_field - INFO - FlatFieldStep instance created.\n"},"children":[],"key":"Veew3w1wgH"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:28,751 - stpipe.Image2Pipeline.photom - INFO - PhotomStep instance created.\n"},"children":[],"key":"jr0hNilpmz"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:28,753 - stpipe.Image2Pipeline.resample - INFO - ResampleStep instance created.\n"},"children":[],"key":"jcRwMOrAi3"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:28,896 - stpipe.Image2Pipeline - INFO - Step Image2Pipeline running with args ('./mir_im_demo_data/Obs001/l2asn.json',).\n"},"children":[],"key":"IUqxUNNhID"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:28,904 - stpipe.Image2Pipeline - INFO - Step Image2Pipeline parameters are:\n  pre_hooks: []\n  post_hooks: []\n  output_file: None\n  output_dir: ./mir_im_demo_data/Obs001/stage2\n  output_ext: .fits\n  output_use_model: False\n  output_use_index: True\n  save_results: True\n  skip: False\n  suffix: None\n  search_output_file: True\n  input_dir: ''\n  save_bsub: False\n  steps:\n    bkg_subtract:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      bkg_list: None\n      save_combined_background: False\n      sigma: 2\n      maxiters: None\n      soss_source_percentile: 35.0\n      soss_bkg_percentile: None\n      wfss_mmag_extract: None\n      wfss_maxiter: 5\n      wfss_rms_stop: 0.0\n      wfss_outlier_percent: 1.0\n    assign_wcs:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      sip_approx: True\n      sip_max_pix_error: 0.01\n      sip_degree: None\n      sip_max_inv_pix_error: 0.01\n      sip_inv_degree: None\n      sip_npoints: 12\n      slit_y_low: -0.55\n      slit_y_high: 0.55\n      nrs_ifu_slice_wcs: False\n    flat_field:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      save_interpolated_flat: False\n      user_supplied_flat: None\n      inverse: False\n    photom:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      inverse: False\n      source_type: None\n      mrs_time_correction: True\n    resample:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      pixfrac: 1.0\n      kernel: square\n      fillval: NAN\n      weight_type: exptime\n      output_shape: None\n      crpix: None\n      crval: None\n      rotation: None\n      pixel_scale_ratio: 1.0\n      pixel_scale: None\n      output_wcs: ''\n      single: False\n      blendheaders: True\n      in_memory: True\n      enable_ctx: True\n      enable_err: True\n      report_var: True\n"},"children":[],"key":"dO3mGsHowt"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:28,951 - stpipe.Image2Pipeline - INFO - Prefetching reference files for dataset: 'l2asn.json' reftypes = ['area', 'bkg', 'camera', 'collimator', 'dflat', 'disperser', 'distortion', 'fflat', 'filteroffset', 'flat', 'fore', 'fpa', 'ifufore', 'ifupost', 'ifuslicer', 'msa', 'ote', 'photom', 'regions', 'sflat', 'specwcs', 'wavelengthrange']\n"},"children":[],"key":"xxmdgmU2C1"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:28,954 - stpipe.Image2Pipeline - INFO - Prefetch for AREA reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_area_0006.fits'.\n"},"children":[],"key":"MYTumlAVGO"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:28,954 - stpipe.Image2Pipeline - INFO - Prefetch for BKG reference file is 'N/A'.\n"},"children":[],"key":"FzvK02FBlq"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:28,955 - stpipe.Image2Pipeline - INFO - Prefetch for CAMERA reference file is 'N/A'.\n"},"children":[],"key":"ZeiYLl5XoF"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:28,955 - stpipe.Image2Pipeline - INFO - Prefetch for COLLIMATOR reference file is 'N/A'.\n"},"children":[],"key":"pOMWRaSZwt"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:28,956 - stpipe.Image2Pipeline - INFO - Prefetch for DFLAT reference file is 'N/A'.\n"},"children":[],"key":"OQyTTFux14"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:28,956 - stpipe.Image2Pipeline - INFO - Prefetch for DISPERSER reference file is 'N/A'.\n"},"children":[],"key":"O1k1enDbIf"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:28,956 - stpipe.Image2Pipeline - INFO - Prefetch for DISTORTION reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_distortion_0047.asdf'.\n"},"children":[],"key":"g06MQrjfpD"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:28,957 - stpipe.Image2Pipeline - INFO - Prefetch for FFLAT reference file is 'N/A'.\n"},"children":[],"key":"tOKwHsXsEh"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:28,958 - stpipe.Image2Pipeline - INFO - Prefetch for FILTEROFFSET reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_filteroffset_0008.asdf'.\n"},"children":[],"key":"YgQlAIwmpG"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:28,958 - stpipe.Image2Pipeline - INFO - Prefetch for FLAT reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_flat_0829.fits'.\n"},"children":[],"key":"bbqILMmvnQ"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:28,959 - stpipe.Image2Pipeline - INFO - Prefetch for FORE reference file is 'N/A'.\n"},"children":[],"key":"JurJvGnnd3"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:28,959 - stpipe.Image2Pipeline - INFO - Prefetch for FPA reference file is 'N/A'.\n"},"children":[],"key":"DwGHDzuyMI"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:28,959 - stpipe.Image2Pipeline - INFO - Prefetch for IFUFORE reference file is 'N/A'.\n"},"children":[],"key":"IpGOjT09G5"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:28,960 - stpipe.Image2Pipeline - INFO - Prefetch for IFUPOST reference file is 'N/A'.\n"},"children":[],"key":"sKHiA0v5ZG"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:28,960 - stpipe.Image2Pipeline - INFO - Prefetch for IFUSLICER reference file is 'N/A'.\n"},"children":[],"key":"quCO4x5bHr"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:28,960 - stpipe.Image2Pipeline - INFO - Prefetch for MSA reference file is 'N/A'.\n"},"children":[],"key":"lfQawdB6Pg"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:28,961 - stpipe.Image2Pipeline - INFO - Prefetch for OTE reference file is 'N/A'.\n"},"children":[],"key":"nAf3BXp7MU"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:28,961 - stpipe.Image2Pipeline - INFO - Prefetch for PHOTOM reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_photom_0218.fits'.\n"},"children":[],"key":"mC4qiABzrC"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:28,962 - stpipe.Image2Pipeline - INFO - Prefetch for REGIONS reference file is 'N/A'.\n"},"children":[],"key":"GmWwWRmRcG"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:28,962 - stpipe.Image2Pipeline - INFO - Prefetch for SFLAT reference file is 'N/A'.\n"},"children":[],"key":"F9RiqKGg3z"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:28,963 - stpipe.Image2Pipeline - INFO - Prefetch for SPECWCS reference file is 'N/A'.\n"},"children":[],"key":"TM8bTsPzGQ"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:28,963 - stpipe.Image2Pipeline - INFO - Prefetch for WAVELENGTHRANGE reference file is 'N/A'.\n"},"children":[],"key":"N6WP3XIafX"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:28,964 - stpipe.Image2Pipeline - INFO - Starting calwebb_image2 ...\n"},"children":[],"key":"Y7Bb08sIsF"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:28,970 - stpipe.Image2Pipeline - INFO - Processing product /home/runner/work/notebook-ci-testing/notebook-ci-testing/notebooks/MIRI/Imaging/mir_im_demo_data/Obs001/stage1/jw01040001005_03103_00004_mirimage\n"},"children":[],"key":"rOZrhRGz3c"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:28,970 - stpipe.Image2Pipeline - INFO - Working on input /home/runner/work/notebook-ci-testing/notebook-ci-testing/notebooks/MIRI/Imaging/mir_im_demo_data/Obs001/stage1/jw01040001005_03103_00004_mirimage_rate.fits ...\n"},"children":[],"key":"obrsNTdC6h"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:29,161 - stpipe.Image2Pipeline.assign_wcs - INFO - Step assign_wcs running with args (\u003cImageModel(1024, 1032) from ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00004_mirimage_image2pipeline.fits\u003e,).\n"},"children":[],"key":"FwW184e8G7"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:29,259 - jwst.assign_wcs.miri - INFO - Created a MIRI mir_image pipeline with references {'distortion': '/home/runner/crds/references/jwst/miri/jwst_miri_distortion_0047.asdf', 'filteroffset': '/home/runner/crds/references/jwst/miri/jwst_miri_filteroffset_0008.asdf', 'specwcs': None, 'regions': None, 'wavelengthrange': None, 'camera': None, 'collimator': None, 'disperser': None, 'fore': None, 'fpa': None, 'msa': None, 'ote': None, 'ifupost': None, 'ifufore': None, 'ifuslicer': None}\n"},"children":[],"key":"MjBRXspZeU"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:29,308 - stcal.alignment.util - INFO - Update S_REGION to POLYGON ICRS  80.513336007 -69.439821548 80.532151500 -69.470396933 80.619711963 -69.463779964 80.601553105 -69.433102634\n"},"children":[],"key":"AXpjPiQSgr"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:29,309 - jwst.assign_wcs.assign_wcs - INFO - assign_wcs updated S_REGION to POLYGON ICRS  80.513336007 -69.439821548 80.532151500 -69.470396933 80.619711963 -69.463779964 80.601553105 -69.433102634\n"},"children":[],"key":"tGvi56S2ou"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:29,310 - jwst.assign_wcs.assign_wcs - INFO - COMPLETED assign_wcs\n"},"children":[],"key":"twExvBLVTs"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:29,342 - py.warnings - WARNING - /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages/gwcs/wcs/_wcs.py:1790: LinAlgWarning: Failed to achieve requested SIP approximation accuracy.\n  fit_inv_poly_u, fit_inv_poly_v, max_inv_resid = fit_2D_poly(\n\n"},"children":[],"key":"DL4hAzwZOR"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:29,353 - stpipe.Image2Pipeline.assign_wcs - INFO - Step assign_wcs done\n"},"children":[],"key":"CCIIUToUVp"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:29,496 - stpipe.Image2Pipeline.flat_field - INFO - Step flat_field running with args (\u003cImageModel(1024, 1032) from ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00004_mirimage_image2pipeline.fits\u003e,).\n"},"children":[],"key":"yW6tsCAq1q"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:29,533 - stpipe.Image2Pipeline.flat_field - INFO - Using FLAT reference file: /home/runner/crds/references/jwst/miri/jwst_miri_flat_0829.fits\n"},"children":[],"key":"KcICSjq4ho"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:29,534 - stpipe.Image2Pipeline.flat_field - INFO - No reference found for type FFLAT\n"},"children":[],"key":"LWzY1aMTzT"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:29,534 - stpipe.Image2Pipeline.flat_field - INFO - No reference found for type SFLAT\n"},"children":[],"key":"mS2M7k7ntP"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:29,535 - stpipe.Image2Pipeline.flat_field - INFO - No reference found for type DFLAT\n"},"children":[],"key":"Y2tBclyQUV"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:29,599 - stpipe.Image2Pipeline.flat_field - INFO - Step flat_field done\n"},"children":[],"key":"Zwzx7DdH3J"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:29,753 - stpipe.Image2Pipeline.photom - INFO - Step photom running with args (\u003cImageModel(1024, 1032) from ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00004_mirimage_image2pipeline.fits\u003e,).\n"},"children":[],"key":"RXJd7yWpK5"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:29,766 - stpipe.Image2Pipeline.photom - INFO - Using photom reference file: /home/runner/crds/references/jwst/miri/jwst_miri_photom_0218.fits\n"},"children":[],"key":"B4oUazj5ju"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:29,766 - stpipe.Image2Pipeline.photom - INFO - Using area reference file: /home/runner/crds/references/jwst/miri/jwst_miri_area_0006.fits\n"},"children":[],"key":"XPkOhH1E7C"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:29,795 - jwst.photom.photom - INFO - Using instrument: MIRI\n"},"children":[],"key":"FcPCyx2KzI"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:29,796 - jwst.photom.photom - INFO -  detector: MIRIMAGE\n"},"children":[],"key":"DxTNQ3UYwS"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:29,796 - jwst.photom.photom - INFO -  exp_type: MIR_IMAGE\n"},"children":[],"key":"VwHT2AiwC1"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:29,797 - jwst.photom.photom - INFO -  filter: F770W\n"},"children":[],"key":"Gv7DVURbSw"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:29,825 - jwst.photom.photom - INFO - Pixel area map copied to output.\n"},"children":[],"key":"Lov1LwBCxg"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:29,825 - jwst.photom.photom - INFO - Values for PIXAR_SR and PIXAR_A2 obtained from AREA reference file.\n"},"children":[],"key":"BeA3qA4Boi"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:29,827 - jwst.photom.photom - INFO -  subarray: FULL\n"},"children":[],"key":"x1lF1YIRqn"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:29,827 - jwst.photom.photom - INFO - Applying the time-dependent correction to the PHOTOM value.\n"},"children":[],"key":"fwMGqdfWJK"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:29,832 - jwst.photom.photom - INFO - PHOTMJSR value: 0.257756\n"},"children":[],"key":"lmNJg6PEbL"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:29,848 - stpipe.Image2Pipeline.photom - INFO - Step photom done\n"},"children":[],"key":"GS1D4d8g5B"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:29,998 - stpipe.Image2Pipeline.resample - INFO - Step resample running with args (\u003cImageModel(1024, 1032) from ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00004_mirimage_image2pipeline.fits\u003e,).\n"},"children":[],"key":"Yc9x3LxqCd"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:30,029 - jwst.resample.resample_utils - INFO - Pixel scale ratio (pscale_out/pscale_in): 1.0\n"},"children":[],"key":"gt3SdMc272"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:30,029 - jwst.resample.resample_utils - INFO - Computed output pixel scale: 0.11091590921335213 arcsec.\n"},"children":[],"key":"Axu6VLc4f8"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:30,036 - stcal.resample.resample - INFO - Output pixel scale: 0.11091590921335213 arcsec.\n"},"children":[],"key":"LEJ394zNgZ"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:30,037 - stcal.resample.resample - INFO - Driz parameter kernel: square\n"},"children":[],"key":"hgwp4M3X13"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:30,037 - stcal.resample.resample - INFO - Driz parameter pixfrac: 1.0\n"},"children":[],"key":"ovgUtVA7Kx"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:30,038 - stcal.resample.resample - INFO - Driz parameter fillval: NAN\n"},"children":[],"key":"RdKqhtFLQ2"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:30,038 - stcal.resample.resample - INFO - Driz parameter weight_type: exptime\n"},"children":[],"key":"Db89d9XkiK"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:30,042 - jwst.resample.resample - INFO - Resampling science and variance data\n"},"children":[],"key":"LdhXuyEieX"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:30,490 - stcal.resample.resample - INFO - Resampling science and variance data\n"},"children":[],"key":"pLnNBZ4HVX"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:30,734 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --\u003e (1019, 1029)\n"},"children":[],"key":"EAnHydJ1y3"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:30,933 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --\u003e (1019, 1029)\n"},"children":[],"key":"l9he3CYepR"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:31,134 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --\u003e (1019, 1029)\n"},"children":[],"key":"ob3j6V3LIA"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:31,438 - stcal.alignment.util - INFO - Update S_REGION to POLYGON ICRS  80.513216006 -69.439697212 80.531806689 -69.470407193 80.620205865 -69.463791803 80.601494627 -69.433091273\n"},"children":[],"key":"scgqGnhioO"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:31,536 - stpipe.Image2Pipeline.resample - INFO - Saved model in ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00004_mirimage_i2d.fits\n"},"children":[],"key":"U44SBTPzYA"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:31,537 - stpipe.Image2Pipeline.resample - INFO - Step resample done\n"},"children":[],"key":"TsRfT70BRg"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:31,539 - stpipe.Image2Pipeline - INFO - Finished processing product /home/runner/work/notebook-ci-testing/notebook-ci-testing/notebooks/MIRI/Imaging/mir_im_demo_data/Obs001/stage1/jw01040001005_03103_00004_mirimage\n"},"children":[],"key":"LR1IvSUCeM"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:31,540 - stpipe.Image2Pipeline - INFO - ... ending calwebb_image2\n"},"children":[],"key":"mHrC5ZErbS"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:31,541 - jwst.stpipe.core - INFO - Results used CRDS context: jwst_1413.pmap\n"},"children":[],"key":"YTlMBBPTVa"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:31,668 - stpipe.Image2Pipeline - INFO - Saved model in ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00004_mirimage_cal.fits\n"},"children":[],"key":"WuwOzbV0as"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:31,669 - stpipe.Image2Pipeline - INFO - Step Image2Pipeline done\n"},"children":[],"key":"oDlHX1aCLo"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:31,669 - jwst.stpipe.core - INFO - Results used jwst version: 1.19.1\n"},"children":[],"key":"X5Z6Ppc4Nv"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:31,727 - stpipe - INFO - PARS-RESAMPLESTEP parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-resamplestep_0001.asdf\n"},"children":[],"key":"rJ0Hhm5h8J"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:31,735 - stpipe - INFO - PARS-IMAGE2PIPELINE parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-image2pipeline_0004.asdf\n"},"children":[],"key":"LUdmowAvqw"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:31,746 - stpipe.Image2Pipeline - INFO - Image2Pipeline instance created.\n"},"children":[],"key":"YA9yXuseUS"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:31,747 - stpipe.Image2Pipeline.bkg_subtract - INFO - BackgroundStep instance created.\n"},"children":[],"key":"A1Xc0iqnVm"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:31,749 - stpipe.Image2Pipeline.assign_wcs - INFO - AssignWcsStep instance created.\n"},"children":[],"key":"fSPbEVswPG"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:31,750 - stpipe.Image2Pipeline.flat_field - INFO - FlatFieldStep instance created.\n"},"children":[],"key":"Jybez6Da74"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:31,751 - stpipe.Image2Pipeline.photom - INFO - PhotomStep instance created.\n"},"children":[],"key":"rUEFrbiu06"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:31,752 - stpipe.Image2Pipeline.resample - INFO - ResampleStep instance created.\n"},"children":[],"key":"gEq3GLm1Yf"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:31,899 - stpipe.Image2Pipeline - INFO - Step Image2Pipeline running with args ('./mir_im_demo_data/Obs001/l2asn.json',).\n"},"children":[],"key":"boDfkRRZCt"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:31,907 - stpipe.Image2Pipeline - INFO - Step Image2Pipeline parameters are:\n  pre_hooks: []\n  post_hooks: []\n  output_file: None\n  output_dir: ./mir_im_demo_data/Obs001/stage2\n  output_ext: .fits\n  output_use_model: False\n  output_use_index: True\n  save_results: True\n  skip: False\n  suffix: None\n  search_output_file: True\n  input_dir: ''\n  save_bsub: False\n  steps:\n    bkg_subtract:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      bkg_list: None\n      save_combined_background: False\n      sigma: 2\n      maxiters: None\n      soss_source_percentile: 35.0\n      soss_bkg_percentile: None\n      wfss_mmag_extract: None\n      wfss_maxiter: 5\n      wfss_rms_stop: 0.0\n      wfss_outlier_percent: 1.0\n    assign_wcs:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      sip_approx: True\n      sip_max_pix_error: 0.01\n      sip_degree: None\n      sip_max_inv_pix_error: 0.01\n      sip_inv_degree: None\n      sip_npoints: 12\n      slit_y_low: -0.55\n      slit_y_high: 0.55\n      nrs_ifu_slice_wcs: False\n    flat_field:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      save_interpolated_flat: False\n      user_supplied_flat: None\n      inverse: False\n    photom:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      inverse: False\n      source_type: None\n      mrs_time_correction: True\n    resample:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      pixfrac: 1.0\n      kernel: square\n      fillval: NAN\n      weight_type: exptime\n      output_shape: None\n      crpix: None\n      crval: None\n      rotation: None\n      pixel_scale_ratio: 1.0\n      pixel_scale: None\n      output_wcs: ''\n      single: False\n      blendheaders: True\n      in_memory: True\n      enable_ctx: True\n      enable_err: True\n      report_var: True\n"},"children":[],"key":"dLrgCALVF4"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:31,954 - stpipe.Image2Pipeline - INFO - Prefetching reference files for dataset: 'l2asn.json' reftypes = ['area', 'bkg', 'camera', 'collimator', 'dflat', 'disperser', 'distortion', 'fflat', 'filteroffset', 'flat', 'fore', 'fpa', 'ifufore', 'ifupost', 'ifuslicer', 'msa', 'ote', 'photom', 'regions', 'sflat', 'specwcs', 'wavelengthrange']\n"},"children":[],"key":"uAF2xXVwsy"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:31,957 - stpipe.Image2Pipeline - INFO - Prefetch for AREA reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_area_0006.fits'.\n"},"children":[],"key":"GAnI3mVRUh"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:31,957 - stpipe.Image2Pipeline - INFO - Prefetch for BKG reference file is 'N/A'.\n"},"children":[],"key":"ook9vKfDMK"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:31,958 - stpipe.Image2Pipeline - INFO - Prefetch for CAMERA reference file is 'N/A'.\n"},"children":[],"key":"ArGoV8XUI8"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:31,958 - stpipe.Image2Pipeline - INFO - Prefetch for COLLIMATOR reference file is 'N/A'.\n"},"children":[],"key":"aYY94UPtMu"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:31,959 - stpipe.Image2Pipeline - INFO - Prefetch for DFLAT reference file is 'N/A'.\n"},"children":[],"key":"tOQQ9am1QN"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:31,959 - stpipe.Image2Pipeline - INFO - Prefetch for DISPERSER reference file is 'N/A'.\n"},"children":[],"key":"vtj7rqmJnH"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:31,960 - stpipe.Image2Pipeline - INFO - Prefetch for DISTORTION reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_distortion_0047.asdf'.\n"},"children":[],"key":"Mil6SYwsWR"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:31,960 - stpipe.Image2Pipeline - INFO - Prefetch for FFLAT reference file is 'N/A'.\n"},"children":[],"key":"EmKx6MC5Lo"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:31,961 - stpipe.Image2Pipeline - INFO - Prefetch for FILTEROFFSET reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_filteroffset_0008.asdf'.\n"},"children":[],"key":"N8ENsfX8ii"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:31,961 - stpipe.Image2Pipeline - INFO - Prefetch for FLAT reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_flat_0829.fits'.\n"},"children":[],"key":"D1rNFtqowf"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:31,961 - stpipe.Image2Pipeline - INFO - Prefetch for FORE reference file is 'N/A'.\n"},"children":[],"key":"GRSKq3BYLU"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:31,962 - stpipe.Image2Pipeline - INFO - Prefetch for FPA reference file is 'N/A'.\n"},"children":[],"key":"My9Gu8EeqJ"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:31,962 - stpipe.Image2Pipeline - INFO - Prefetch for IFUFORE reference file is 'N/A'.\n"},"children":[],"key":"unIqj68aCo"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:31,963 - stpipe.Image2Pipeline - INFO - Prefetch for IFUPOST reference file is 'N/A'.\n"},"children":[],"key":"geewynSZVC"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:31,964 - stpipe.Image2Pipeline - INFO - Prefetch for IFUSLICER reference file is 'N/A'.\n"},"children":[],"key":"HHenlvAHEF"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:31,965 - stpipe.Image2Pipeline - INFO - Prefetch for MSA reference file is 'N/A'.\n"},"children":[],"key":"ujlqJB7Wo2"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:31,965 - stpipe.Image2Pipeline - INFO - Prefetch for OTE reference file is 'N/A'.\n"},"children":[],"key":"e723XLZ7Dt"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:31,966 - stpipe.Image2Pipeline - INFO - Prefetch for PHOTOM reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_photom_0218.fits'.\n"},"children":[],"key":"ZAwAuXd0gY"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:31,966 - stpipe.Image2Pipeline - INFO - Prefetch for REGIONS reference file is 'N/A'.\n"},"children":[],"key":"bqYSvJ7NzN"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:31,967 - stpipe.Image2Pipeline - INFO - Prefetch for SFLAT reference file is 'N/A'.\n"},"children":[],"key":"QuAmOrKKxM"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:31,967 - stpipe.Image2Pipeline - INFO - Prefetch for SPECWCS reference file is 'N/A'.\n"},"children":[],"key":"sg2z3KHoSj"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:31,968 - stpipe.Image2Pipeline - INFO - Prefetch for WAVELENGTHRANGE reference file is 'N/A'.\n"},"children":[],"key":"usCSps03IB"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:31,968 - stpipe.Image2Pipeline - INFO - Starting calwebb_image2 ...\n"},"children":[],"key":"ScZL4YQakp"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:31,975 - stpipe.Image2Pipeline - INFO - Processing product /home/runner/work/notebook-ci-testing/notebook-ci-testing/notebooks/MIRI/Imaging/mir_im_demo_data/Obs001/stage1/jw01040001005_03103_00005_mirimage\n"},"children":[],"key":"HRdHwU887D"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:31,975 - stpipe.Image2Pipeline - INFO - Working on input /home/runner/work/notebook-ci-testing/notebook-ci-testing/notebooks/MIRI/Imaging/mir_im_demo_data/Obs001/stage1/jw01040001005_03103_00005_mirimage_rate.fits ...\n"},"children":[],"key":"Xz85ptRs1R"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:32,155 - stpipe.Image2Pipeline.assign_wcs - INFO - Step assign_wcs running with args (\u003cImageModel(1024, 1032) from ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00005_mirimage_image2pipeline.fits\u003e,).\n"},"children":[],"key":"i43k5ZUhdc"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:32,253 - jwst.assign_wcs.miri - INFO - Created a MIRI mir_image pipeline with references {'distortion': '/home/runner/crds/references/jwst/miri/jwst_miri_distortion_0047.asdf', 'filteroffset': '/home/runner/crds/references/jwst/miri/jwst_miri_filteroffset_0008.asdf', 'specwcs': None, 'regions': None, 'wavelengthrange': None, 'camera': None, 'collimator': None, 'disperser': None, 'fore': None, 'fpa': None, 'msa': None, 'ote': None, 'ifupost': None, 'ifufore': None, 'ifuslicer': None}\n"},"children":[],"key":"rl4I7wB3HC"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:32,303 - stcal.alignment.util - INFO - Update S_REGION to POLYGON ICRS  80.515622414 -69.443455639 80.534444344 -69.474030777 80.622018926 -69.467412656 80.603853712 -69.436735566\n"},"children":[],"key":"pMBtzYppIR"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:32,304 - jwst.assign_wcs.assign_wcs - INFO - assign_wcs updated S_REGION to POLYGON ICRS  80.515622414 -69.443455639 80.534444344 -69.474030777 80.622018926 -69.467412656 80.603853712 -69.436735566\n"},"children":[],"key":"sNDZomhkzF"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:32,305 - jwst.assign_wcs.assign_wcs - INFO - COMPLETED assign_wcs\n"},"children":[],"key":"qrjk59kKwH"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:32,338 - py.warnings - WARNING - /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages/gwcs/wcs/_wcs.py:1790: LinAlgWarning: Failed to achieve requested SIP approximation accuracy.\n  fit_inv_poly_u, fit_inv_poly_v, max_inv_resid = fit_2D_poly(\n\n"},"children":[],"key":"xh8QKr8v1a"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:32,349 - stpipe.Image2Pipeline.assign_wcs - INFO - Step assign_wcs done\n"},"children":[],"key":"AQQDdBeh2b"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:32,492 - stpipe.Image2Pipeline.flat_field - INFO - Step flat_field running with args (\u003cImageModel(1024, 1032) from ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00005_mirimage_image2pipeline.fits\u003e,).\n"},"children":[],"key":"j8xawYkK9k"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:32,530 - stpipe.Image2Pipeline.flat_field - INFO - Using FLAT reference file: /home/runner/crds/references/jwst/miri/jwst_miri_flat_0829.fits\n"},"children":[],"key":"VWZ2SXXywx"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:32,530 - stpipe.Image2Pipeline.flat_field - INFO - No reference found for type FFLAT\n"},"children":[],"key":"fgtiPStzYO"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:32,531 - stpipe.Image2Pipeline.flat_field - INFO - No reference found for type SFLAT\n"},"children":[],"key":"X0N0oyWFu6"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:32,531 - stpipe.Image2Pipeline.flat_field - INFO - No reference found for type DFLAT\n"},"children":[],"key":"DE1EesmRv0"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:32,595 - stpipe.Image2Pipeline.flat_field - INFO - Step flat_field done\n"},"children":[],"key":"as5sDGzuvC"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:32,735 - stpipe.Image2Pipeline.photom - INFO - Step photom running with args (\u003cImageModel(1024, 1032) from ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00005_mirimage_image2pipeline.fits\u003e,).\n"},"children":[],"key":"fiJptdUEyD"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:32,748 - stpipe.Image2Pipeline.photom - INFO - Using photom reference file: /home/runner/crds/references/jwst/miri/jwst_miri_photom_0218.fits\n"},"children":[],"key":"U2r0zMo7VO"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:32,748 - stpipe.Image2Pipeline.photom - INFO - Using area reference file: /home/runner/crds/references/jwst/miri/jwst_miri_area_0006.fits\n"},"children":[],"key":"DShXl7kFAg"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:32,774 - jwst.photom.photom - INFO - Using instrument: MIRI\n"},"children":[],"key":"bUVK1Zc2PS"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:32,774 - jwst.photom.photom - INFO -  detector: MIRIMAGE\n"},"children":[],"key":"kyR1fiL2TE"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:32,775 - jwst.photom.photom - INFO -  exp_type: MIR_IMAGE\n"},"children":[],"key":"M4fWlbKAqm"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:32,776 - jwst.photom.photom - INFO -  filter: F770W\n"},"children":[],"key":"FFLZLcGoY3"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:32,804 - jwst.photom.photom - INFO - Pixel area map copied to output.\n"},"children":[],"key":"GbSEVCsFYF"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:32,804 - jwst.photom.photom - INFO - Values for PIXAR_SR and PIXAR_A2 obtained from AREA reference file.\n"},"children":[],"key":"yglqyxARzn"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:32,806 - jwst.photom.photom - INFO -  subarray: FULL\n"},"children":[],"key":"jSLONA44Dr"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:32,806 - jwst.photom.photom - INFO - Applying the time-dependent correction to the PHOTOM value.\n"},"children":[],"key":"h3vsgPimZw"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:32,812 - jwst.photom.photom - INFO - PHOTMJSR value: 0.257756\n"},"children":[],"key":"yuu1wK4vnw"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:32,827 - stpipe.Image2Pipeline.photom - INFO - Step photom done\n"},"children":[],"key":"H5ylRn4CEN"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:32,974 - stpipe.Image2Pipeline.resample - INFO - Step resample running with args (\u003cImageModel(1024, 1032) from ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00005_mirimage_image2pipeline.fits\u003e,).\n"},"children":[],"key":"JzyTdttOjM"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:33,006 - jwst.resample.resample_utils - INFO - Pixel scale ratio (pscale_out/pscale_in): 1.0\n"},"children":[],"key":"OxaH36NnNm"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:33,007 - jwst.resample.resample_utils - INFO - Computed output pixel scale: 0.11091590924628925 arcsec.\n"},"children":[],"key":"RGJtEQCqnD"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:33,014 - stcal.resample.resample - INFO - Output pixel scale: 0.11091590924628925 arcsec.\n"},"children":[],"key":"ZL5N3BjD1Q"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:33,014 - stcal.resample.resample - INFO - Driz parameter kernel: square\n"},"children":[],"key":"aslW0LOolU"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:33,015 - stcal.resample.resample - INFO - Driz parameter pixfrac: 1.0\n"},"children":[],"key":"JeVxYYDfmK"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:33,015 - stcal.resample.resample - INFO - Driz parameter fillval: NAN\n"},"children":[],"key":"qzCis3ezex"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:33,015 - stcal.resample.resample - INFO - Driz parameter weight_type: exptime\n"},"children":[],"key":"tiwLiH6YRO"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:33,019 - jwst.resample.resample - INFO - Resampling science and variance data\n"},"children":[],"key":"RFsWUfZHg2"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:33,465 - stcal.resample.resample - INFO - Resampling science and variance data\n"},"children":[],"key":"WlRGU5wOnL"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:33,709 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --\u003e (1019, 1029)\n"},"children":[],"key":"pJJ1DF1BEE"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:33,905 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --\u003e (1019, 1029)\n"},"children":[],"key":"Qau2JPSduJ"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:34,101 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --\u003e (1019, 1029)\n"},"children":[],"key":"KFeat2HMbv"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:34,402 - stcal.alignment.util - INFO - Update S_REGION to POLYGON ICRS  80.515502380 -69.443331306 80.534099480 -69.474041043 80.622512917 -69.467424488 80.603795222 -69.436724206\n"},"children":[],"key":"EQbgee6fro"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:34,500 - stpipe.Image2Pipeline.resample - INFO - Saved model in ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00005_mirimage_i2d.fits\n"},"children":[],"key":"GRy1wUY5rs"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:34,501 - stpipe.Image2Pipeline.resample - INFO - Step resample done\n"},"children":[],"key":"z8EtziyS1K"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:34,503 - stpipe.Image2Pipeline - INFO - Finished processing product /home/runner/work/notebook-ci-testing/notebook-ci-testing/notebooks/MIRI/Imaging/mir_im_demo_data/Obs001/stage1/jw01040001005_03103_00005_mirimage\n"},"children":[],"key":"yDI0t8PLnX"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:34,504 - stpipe.Image2Pipeline - INFO - ... ending calwebb_image2\n"},"children":[],"key":"MKs7KzPPte"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:34,505 - jwst.stpipe.core - INFO - Results used CRDS context: jwst_1413.pmap\n"},"children":[],"key":"ZjlbuKTSjI"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:34,635 - stpipe.Image2Pipeline - INFO - Saved model in ./mir_im_demo_data/Obs001/stage2/jw01040001005_03103_00005_mirimage_cal.fits\n"},"children":[],"key":"ifJocgKzbY"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:34,636 - stpipe.Image2Pipeline - INFO - Step Image2Pipeline done\n"},"children":[],"key":"uVI5Vma4a3"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:34,636 - jwst.stpipe.core - INFO - Results used jwst version: 1.19.1\n"},"children":[],"key":"mDpftRwXlM"}],"visibility":"show","key":"oF8hFZNdur"}],"visibility":"show","key":"OQFBVz4IiK"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-11-19T20:27:34.641816Z","iopub.status.busy":"2025-11-19T20:27:34.641663Z","iopub.status.idle":"2025-11-19T20:27:34.644895Z","shell.execute_reply":"2025-11-19T20:27:34.644268Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Print out the time benchmark\ntime1 = time.perf_counter()\nprint(f\"Runtime so far: {time1 - time0:0.0f} seconds\")\nprint(f\"Runtime for Image2: {time1 - time_image2:0.0f} seconds\")","key":"mkUB4b83kC"},{"type":"outputs","id":"f8dlTXxpEniqBgbv2HkZ_","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Runtime so far: 83 seconds\nRuntime for Image2: 15 seconds\n"},"children":[],"key":"nIOX6Rdctc"}],"key":"l7mHuy1rdg"}],"key":"yVe1Zk4ys3"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Verify which pipeline steps were run and reference files used","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GDK2TabhvU"}],"identifier":"verify-which-pipeline-steps-were-run-and-reference-files-used","label":"Verify which pipeline steps were run and reference files used","html_id":"verify-which-pipeline-steps-were-run-and-reference-files-used","implicit":true,"key":"jWmEEVGx5I"}],"key":"ZmBIe8mIFe"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-11-19T20:27:34.646475Z","iopub.status.busy":"2025-11-19T20:27:34.646336Z","iopub.status.idle":"2025-11-19T20:27:34.740419Z","shell.execute_reply":"2025-11-19T20:27:34.739751Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"if doimage2:\n    # Identify *_cal.fits files\n    cal_files = sorted(glob.glob(os.path.join(image2_dir, '*_cal.fits')))\n\n    cal_f = datamodels.open(cal_files[0])\n\n    # Check which steps were run:\n    cal_f.meta.cal_step.instance\n\n    # Check which reference files were used to calibrate the dataset:\n    cal_f.meta.ref_file.instance","key":"JmusUbD2pJ"},{"type":"outputs","id":"uNoMPcAFOi_Q_-tFAXPVM","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":26,"metadata":{},"data":{"text/plain":{"content":"{'assign_wcs': 'COMPLETE',\n 'charge_migration': 'SKIPPED',\n 'clean_flicker_noise': 'SKIPPED',\n 'dark_sub': 'COMPLETE',\n 'dq_init': 'COMPLETE',\n 'emicorr': 'COMPLETE',\n 'firstframe': 'COMPLETE',\n 'flat_field': 'COMPLETE',\n 'gain_scale': 'SKIPPED',\n 'group_scale': 'SKIPPED',\n 'ipc': 'SKIPPED',\n 'jump': 'COMPLETE',\n 'lastframe': 'COMPLETE',\n 'linearity': 'COMPLETE',\n 'photom': 'COMPLETE',\n 'ramp_fit': 'COMPLETE',\n 'refpix': 'SKIPPED',\n 'reset': 'COMPLETE',\n 'rscd': 'COMPLETE',\n 'saturation': 'COMPLETE'}","content_type":"text/plain"}}},"children":[],"key":"XYKuMdnrW0"},{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":26,"metadata":{},"data":{"text/plain":{"content":"{'area': {'name': 'crds://jwst_miri_area_0006.fits'},\n 'camera': {'name': 'N/A'},\n 'collimator': {'name': 'N/A'},\n 'crds': {'context_used': 'jwst_1413.pmap', 'sw_version': '13.0.6'},\n 'dark': {'name': 'crds://jwst_miri_dark_0113.fits'},\n 'dflat': {'name': 'N/A'},\n 'disperser': {'name': 'N/A'},\n 'distortion': {'name': 'crds://jwst_miri_distortion_0047.asdf'},\n 'emicorr': {'name': 'crds://jwst_miri_emicorr_0003.asdf'},\n 'fflat': {'name': 'N/A'},\n 'filteroffset': {'name': 'crds://jwst_miri_filteroffset_0008.asdf'},\n 'flat': {'name': 'crds://jwst_miri_flat_0829.fits'},\n 'fore': {'name': 'N/A'},\n 'fpa': {'name': 'N/A'},\n 'gain': {'name': 'crds://jwst_miri_gain_0034.fits'},\n 'ifufore': {'name': 'N/A'},\n 'ifupost': {'name': 'N/A'},\n 'ifuslicer': {'name': 'N/A'},\n 'linearity': {'name': 'crds://jwst_miri_linearity_0032.fits'},\n 'mask': {'name': 'crds://jwst_miri_mask_0036.fits'},\n 'msa': {'name': 'N/A'},\n 'ote': {'name': 'N/A'},\n 'photom': {'name': 'crds://jwst_miri_photom_0218.fits'},\n 'readnoise': {'name': 'crds://jwst_miri_readnoise_0085.fits'},\n 'regions': {'name': 'N/A'},\n 'reset': {'name': 'crds://jwst_miri_reset_0077.fits'},\n 'rscd': {'name': 'crds://jwst_miri_rscd_0017.fits'},\n 'saturation': {'name': 'crds://jwst_miri_saturation_0034.fits'},\n 'sflat': {'name': 'N/A'},\n 'specwcs': {'name': 'N/A'},\n 'superbias': {'name': 'N/A'},\n 'wavelengthrange': {'name': 'N/A'}}","content_type":"text/plain"}}},"children":[],"key":"QUqnLLrnyt"}],"key":"jK2875wVtc"}],"key":"ILSgs5FR71"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","key":"uF2m0k1Mse"}],"key":"vYhOYvqvxc"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"7. Image3 Pipeline","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tOr23Nq2Wv"}],"identifier":"id-7-image3-pipeline","label":"7. Image3 Pipeline","html_id":"id-7-image3-pipeline","implicit":true,"key":"yyoyhFTAi5"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"In the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"QajGeUA2Fp"},{"type":"link","url":"https://jwst-pipeline.readthedocs.io/en/latest/jwst/pipeline/calwebb_image3.html","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Image3","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"LiCkXArKhm"}],"urlSource":"https://jwst-pipeline.readthedocs.io/en/latest/jwst/pipeline/calwebb_image3.html","key":"iILml86feT"},{"type":"text","value":"\nstage of the pipeline, the individual ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"tdV3yXmHX9"},{"type":"inlineCode","value":"*_cal.fits","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Xx9Ppy5Fyw"},{"type":"text","value":" files for each of the dither positions are\ncombined to one single distortion corrected image. First, an\n","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"GWEScfQ4Nr"},{"type":"link","url":"https://jwst-pipeline.readthedocs.io/en/latest/jwst/associations/overview.html","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Association","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"mMvpLm0fz1"}],"urlSource":"https://jwst-pipeline.readthedocs.io/en/latest/jwst/associations/overview.html","key":"BNkTruKJdd"},{"type":"text","value":"\nneeds to be created to inform the pipeline that these individual exposures are linked together.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ePuPSVwfPY"}],"key":"pnu6MnKhRr"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"By default, the ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"zQncjnbcPH"},{"type":"inlineCode","value":"Image3","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"eloUz2gFCK"},{"type":"text","value":" stage of the pipeline performs the following steps on MIRI data:","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"JRsMAC73yH"}],"key":"gYTrsFJDKc"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":10,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://jwst-pipeline.readthedocs.io/en/latest/jwst/tweakreg/index.html#tweakreg-step","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"tweakreg","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"LJi5dB86RC"}],"urlSource":"https://jwst-pipeline.readthedocs.io/en/latest/jwst/tweakreg/index.html#tweakreg-step","key":"NkbSSXoVkZ"},{"type":"text","value":" -\ncreates source catalogs of pointlike sources for each input image. The source catalog for each input\nimage is compared to each other to derive coordinate transforms to align the images relative to each other.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"XZqYQi6vqk"}],"key":"NiEWe6TZfx"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"As of pipeline version 1.14.0, the default source finding algorithm is ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"DAxJhmA7Em"},{"type":"inlineCode","value":"IRAFStarFinder","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"ngJwpfncqB"},{"type":"text","value":".","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"zR7Jo7qHw8"}],"key":"uaLeGewaaS"}],"key":"rY1nzb8WXy"}],"key":"W71R1BVHZX"}],"key":"pqMGSczUCt"},{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://jwst-pipeline.readthedocs.io/en/latest/jwst/skymatch/index.html#skymatch-step","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"skymatch","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"cMcdSsrMYI"}],"urlSource":"https://jwst-pipeline.readthedocs.io/en/latest/jwst/skymatch/index.html#skymatch-step","key":"NKJhKfasAY"},{"type":"text","value":" -\nmeasures the background level from the sky to use as input into the subsequent ","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"hNqj50bBBz"},{"type":"inlineCode","value":"outlier detection","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"df1OtCeMsX"},{"type":"text","value":" and ","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"oQpbcgYJgf"},{"type":"inlineCode","value":"resample","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"ZjPD3y0jo9"},{"type":"text","value":" steps.","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"jnuLky7eRX"}],"key":"k6elMkM8ZR"}],"key":"Kw1d7cVqYq"},{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://jwst-pipeline.readthedocs.io/en/latest/jwst/outlier_detection/index.html#outlier-detection-step","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"outlier detection","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"BDjV7w9APp"}],"urlSource":"https://jwst-pipeline.readthedocs.io/en/latest/jwst/outlier_detection/index.html#outlier-detection-step","key":"ftw27fRgun"},{"type":"text","value":" -\nflags any remaining cosmic rays, bad pixels, or other artifacts not already flagged during the ","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"lqWoQxysFG"},{"type":"inlineCode","value":"DETECTOR1","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"gd2afMRMmt"},{"type":"text","value":" stage\nof the pipeline, using all input images to create a median image so that outliers in individual images can be identified.","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"rTjqWQGkth"}],"key":"IhNczVuMyk"}],"key":"oe3w3cXTuO"},{"type":"listItem","spread":true,"position":{"start":{"line":19,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://jwst-pipeline.readthedocs.io/en/latest/jwst/resample/index.html#resample-step","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"resample","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"gYXbqnnMb5"}],"urlSource":"https://jwst-pipeline.readthedocs.io/en/latest/jwst/resample/index.html#resample-step","key":"XOU6BRbPP2"},{"type":"text","value":" -\nresamples each input image based on its WCS and distortion information and creates a single undistorted image.","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"lVM7BDB4o2"}],"key":"XjkWdhgy05"}],"key":"UN2OxCO0yE"},{"type":"listItem","spread":true,"position":{"start":{"line":21,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://jwst-pipeline.readthedocs.io/en/latest/jwst/source_catalog/index.html#source-catalog-step","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"source catalog","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"AM1LQDYdhn"}],"urlSource":"https://jwst-pipeline.readthedocs.io/en/latest/jwst/source_catalog/index.html#source-catalog-step","key":"SIZSkXnx1x"},{"type":"text","value":" -\ncreates a catalog of detected sources along with measured photometries and morphologies (i.e., point-like vs extended).\nUseful for quicklooks, but optimization is likely needed for specific science cases. Users may wish to experiment with\nchanging the ","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"OEHstxBKI4"},{"type":"inlineCode","value":"snr_threshold","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"Dqv6pEht1Y"},{"type":"text","value":" and ","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"lhoX6U1f07"},{"type":"inlineCode","value":"deblend","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"EvZfWFY6a7"},{"type":"text","value":" options. Modifications to the following parameters will not significantly\nimprove data quality and it is advised to keep them at their default values: ","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"nDgc9xZra3"},{"type":"inlineCode","value":"aperture_ee1","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"ve5ScrbXnT"},{"type":"text","value":", ","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"AL9EwVG5w1"},{"type":"inlineCode","value":"aperture_ee2","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"zo7MkDO8SG"},{"type":"text","value":",\n","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"hrMrZAoRDh"},{"type":"inlineCode","value":"aperture_ee3","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"pmKViED4uN"},{"type":"text","value":", ","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"bVJqvQmsme"},{"type":"inlineCode","value":"ci1_star_threshold","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"asbLP6E0f4"},{"type":"text","value":", ","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"AcY9MpLoDI"},{"type":"inlineCode","value":"ci2_star_threshold","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"ZUr2m0csmw"},{"type":"text","value":".","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"XpAZkfEKgv"}],"key":"UgtcQA8GoY"}],"key":"k3haKBHjCy"}],"key":"eMedkidJ3i"},{"type":"paragraph","position":{"start":{"line":28,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"text","value":"Some values that have been shown to give good results for MIRI data are to set the outlier_detection’s parameter ","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"ydoZw1d1Mo"},{"type":"inlineCode","value":"scale","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"FeG79n51yX"},{"type":"text","value":"\nto ‘1.0 0.8’ and to set the resample parameter ","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"LGkwY3eVZh"},{"type":"inlineCode","value":"weight_type","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"bWtdxyyaoJ"},{"type":"text","value":" to ‘exptime’, both currently set in the\n","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"XfcqfSb7KV"},{"type":"link","url":"https://jwst-pipeline.readthedocs.io/en/stable/jwst/stpipe/parameter_files.html#parameter-files","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"text","value":"parameter reference file","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"aFgxAGUuHi"}],"urlSource":"https://jwst-pipeline.readthedocs.io/en/stable/jwst/stpipe/parameter_files.html#parameter-files","key":"jzhTHchNai"},{"type":"text","value":"\n","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"z9N8m1Gric"},{"type":"emphasis","children":[{"type":"text","value":"pars-outlierdetectionstep","key":"fYj3batRTh"}],"key":"Pi9lcOTi3z"},{"type":"text","value":", but can be overridden as indicated below.","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"xfOv4PBVy1"}],"key":"tNEN0immwn"}],"key":"hdusevjOzD"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-11-19T20:27:34.742117Z","iopub.status.busy":"2025-11-19T20:27:34.741951Z","iopub.status.idle":"2025-11-19T20:27:34.744623Z","shell.execute_reply":"2025-11-19T20:27:34.743907Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"time_image3 = time.perf_counter()","key":"UgsJns3vcA"},{"type":"outputs","id":"648Lvs-6cEmpwXs4oMX8Z","children":[],"key":"jU9YaiSt99"}],"key":"W4Yvtw0RD7"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-11-19T20:27:34.746105Z","iopub.status.busy":"2025-11-19T20:27:34.745955Z","iopub.status.idle":"2025-11-19T20:27:34.749108Z","shell.execute_reply":"2025-11-19T20:27:34.748438Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Set up a dictionary to define how the Image3 pipeline should be configured\n# Boilerplate dictionary setup\nimage3dict = {}\nimage3dict['assign_mtwcs'], image3dict['tweakreg'], image3dict['skymatch'] = {}, {}, {}\nimage3dict['outlier_detection'], image3dict['resample'], image3dict['source_catalog'] = {}, {}, {}\n\n# Overrides for whether or not certain steps should be skipped (example)\n#image3dict['outlier_detection']['skip'] = True\n\n# Overrides for various reference files\n# Files should be in the base local directory or provide full path\n#image3dict['source_catalog']['override_apcorr'] = 'myfile.fits'  # Aperture correction parameters\n#image3dict['source_catalog']['override_abvegaoffset'] = 'myfile.asdf'  # Data to convert from AB to Vega magnitudes (ASDF file)\n\n# Overrides for specific parameters in the step (examples)\n#image3dict['resample']['weight_type'] = ['exptime']\n#image3dict['outlier_detection']['scale'] = ['1.0 0.8']","key":"CrcE9LsGiP"},{"type":"outputs","id":"hbSsfxriGkDTOOV66BGKa","children":[],"key":"MImlVleOMy"}],"key":"amHtP1MASh"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Find and sort all of the input files, ensuring use of absolute paths","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"IvZ0BxvVw0"}],"key":"GymYGDCuVK"}],"key":"wCY4ujCnJ4"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-11-19T20:27:34.750718Z","iopub.status.busy":"2025-11-19T20:27:34.750577Z","iopub.status.idle":"2025-11-19T20:27:34.754353Z","shell.execute_reply":"2025-11-19T20:27:34.753702Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Science Files need are the cal.fits files\nsstring = os.path.join(image2_dir, 'jw*cal.fits')\ncal_files = sorted(glob.glob(sstring))\nfor ii in range(0, len(cal_files)):\n    cal_files[ii] = os.path.abspath(cal_files[ii])\ncalfiles = np.array(cal_files)\n\nprint(f'Found {str(len(cal_files))} science files to process')","key":"J1vUituMfO"},{"type":"outputs","id":"MPu1EmOJut6MFBq1m2gDi","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Found 5 science files to process\n"},"children":[],"key":"Qy1bqKFN08"}],"key":"i7zC34vInF"}],"key":"joROkUHAVw"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Create Association File","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"xFjQ5USjWG"}],"identifier":"create-association-file","label":"Create Association File","html_id":"create-association-file","implicit":true,"key":"opjZrXEuIQ"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"An association file lists the exposures to calibrated together in ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"N1JErRbpDy"},{"type":"inlineCode","value":"Stage3","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Sbeo7fxj0Z"},{"type":"text","value":"\nof the pipeline. Note that an association file is available for download\nfrom MAST, with a filename of ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"XzEqeMEzp3"},{"type":"inlineCode","value":"*_asn.json","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"tUp09yUd6X"},{"type":"text","value":". Here we show how to create an\nassociation file to point to the data products created when processing data\nthrough the pipeline. Note that the output products will have a rootname\nthat is specified by the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"qoJ6sLvaDj"},{"type":"inlineCode","value":"product_name","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"xlodwKVpbN"},{"type":"text","value":" in the association file. For\nthis tutorial, the rootname of the output products will be\n","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"yfBwIjZxYW"},{"type":"inlineCode","value":"image3_association","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"jrry1k1cVx"},{"type":"text","value":".","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"wddPQwpKdV"}],"key":"iXh2IHF0Yo"}],"key":"y3ojfons37"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-11-19T20:27:34.755979Z","iopub.status.busy":"2025-11-19T20:27:34.755827Z","iopub.status.idle":"2025-11-19T20:27:34.851143Z","shell.execute_reply":"2025-11-19T20:27:34.850382Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create a Level 3 Association\nif doimage3:\n    associations = afl.asn_from_list(cal_files, rule=DMS_Level3_Base, product_name='image3_association')\n\n    associations.data['asn_type'] = 'image3'\n    program = datamodels.open(cal_files[0]).meta.observation.program_number\n    associations.data['program'] = program\n\n    # Format association as .json file\n    asn_filename, serialized = associations.dump(format=\"json\")\n\n    # Write out association file\n    association_im3 = os.path.join(sci_dir, asn_filename)\n    with open(association_im3, \"w\") as fd:\n        fd.write(serialized)","key":"MCoWuA3CPQ"},{"type":"outputs","id":"MxIjbRYYjtYNHQkxtESsX","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":30,"metadata":{},"data":{"text/plain":{"content":"1782","content_type":"text/plain"}}},"children":[],"key":"gQUVnn6kic"}],"key":"tud7u3qebK"}],"key":"hBJmUPvM09"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Run Image3 stage of the pipeline","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"F3iB5JioD1"}],"identifier":"run-image3-stage-of-the-pipeline","label":"Run Image3 stage of the pipeline","html_id":"run-image3-stage-of-the-pipeline","implicit":true,"key":"sWWATSaEoD"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Given the grouped exposures in the association file, the products if the\n","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"jLZmttpuyx"},{"type":"inlineCode","value":"Image3","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"TLuUrkfQoE"},{"type":"text","value":" stage of the pipeline are:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"U3DH0CFGdT"}],"key":"dDhsCSFnoK"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"a ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Hazj0Faifz"},{"type":"inlineCode","value":"*_crf.fits","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"GsX8snmT9u"},{"type":"text","value":" file produced by the ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"jWV6UIBvlQ"},{"type":"inlineCode","value":"outlier_detection","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"H6Ok7LkFFo"},{"type":"text","value":" step, where the ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"i1i7HD3K7r"},{"type":"inlineCode","value":"DQ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"NxFfwD8ta3"},{"type":"text","value":" array marks the pixels flagged as outliers.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"y6sjpHwqOy"}],"key":"HRWmyfk3Dd"}],"key":"OCuB6bTqut"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"a final combined, rectified image with name ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"wjobXDXCZK"},{"type":"inlineCode","value":"*_i2d.fits","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"i7M7MKSa23"},{"type":"text","value":",","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"jcfvig18TV"}],"key":"jPgHewd5Q0"}],"key":"S3Hu81AQIf"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"a source catalog with name ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"gumf8FFeO7"},{"type":"inlineCode","value":"*_cat.ecsv","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"KcchpNUUWN"},{"type":"text","value":",","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"hSoK4DBGA3"}],"key":"RjVVnhstfX"}],"key":"M640np5Rq2"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"a segmentation map file (","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"uq7Oo6YDlB"},{"type":"inlineCode","value":"*_segm.fits","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"Y0yA9RvDo5"},{"type":"text","value":") which has integer values at the pixel locations where a source is detected where the pixel values match the source ID number in the catalog.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"cDIw74Qai5"}],"key":"JhxqTdoNfA"}],"key":"mPC6WAUdH6"}],"key":"b0Tbz1V0Hl"}],"key":"ir8tJfYexa"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-11-19T20:27:34.852796Z","iopub.status.busy":"2025-11-19T20:27:34.852624Z","iopub.status.idle":"2025-11-19T20:27:59.577286Z","shell.execute_reply":"2025-11-19T20:27:59.576605Z"},"tags":["scroll-output"]},"children":[{"type":"code","lang":"python","executable":true,"value":"# Run Stage 3\nif doimage3:\n    i2d_result = Image3Pipeline.call(association_im3, output_dir=image3_dir, steps=image3dict, save_results=True)\nelse:\n    print('Skipping Spec3 processing')","visibility":"show","key":"dCYPK5nyAy"},{"type":"outputs","id":"gKrfuqrQcBgHpq8fhSfgh","children":[{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:34,932 - stpipe - INFO - PARS-TWEAKREGSTEP parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-tweakregstep_0020.asdf\n"},"children":[],"key":"oqvcLW8a76"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:34,943 - stpipe - INFO - PARS-OUTLIERDETECTIONSTEP parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-outlierdetectionstep_0096.asdf\n"},"children":[],"key":"RNVztL19mK"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:34,952 - stpipe - INFO - PARS-RESAMPLESTEP parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-resamplestep_0001.asdf\n"},"children":[],"key":"omWcB57ED5"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:34,960 - stpipe - INFO - PARS-SOURCECATALOGSTEP parameters found: /home/runner/crds/references/jwst/miri/jwst_miri_pars-sourcecatalogstep_0018.asdf\n"},"children":[],"key":"m0V4AeYhO7"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:34,974 - stpipe.Image3Pipeline - INFO - Image3Pipeline instance created.\n"},"children":[],"key":"sJJ6wnPl9p"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:34,975 - stpipe.Image3Pipeline.assign_mtwcs - INFO - AssignMTWcsStep instance created.\n"},"children":[],"key":"aik2eDe8WO"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:34,978 - stpipe.Image3Pipeline.tweakreg - INFO - TweakRegStep instance created.\n"},"children":[],"key":"OO6sf70J3C"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:34,979 - stpipe.Image3Pipeline.skymatch - INFO - SkyMatchStep instance created.\n"},"children":[],"key":"tsX3pSAOre"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:34,981 - stpipe.Image3Pipeline.outlier_detection - INFO - OutlierDetectionStep instance created.\n"},"children":[],"key":"W7u4dxnS4l"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:34,982 - stpipe.Image3Pipeline.resample - INFO - ResampleStep instance created.\n"},"children":[],"key":"a759WkY5cw"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:34,983 - stpipe.Image3Pipeline.source_catalog - INFO - SourceCatalogStep instance created.\n"},"children":[],"key":"ZQN3MQxKTD"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:35,141 - stpipe.Image3Pipeline - INFO - Step Image3Pipeline running with args ('./mir_im_demo_data/Obs001/jw01040-a3001_image3_00007_asn.json',).\n"},"children":[],"key":"y2mhw58pJa"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:35,153 - stpipe.Image3Pipeline - INFO - Step Image3Pipeline parameters are:\n  pre_hooks: []\n  post_hooks: []\n  output_file: None\n  output_dir: ./mir_im_demo_data/Obs001/stage3\n  output_ext: .fits\n  output_use_model: False\n  output_use_index: True\n  save_results: True\n  skip: False\n  suffix: None\n  search_output_file: True\n  input_dir: ''\n  in_memory: True\n  steps:\n    assign_mtwcs:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: True\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: assign_mtwcs\n      search_output_file: True\n      input_dir: ''\n    tweakreg:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: True\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      save_catalogs: False\n      use_custom_catalogs: False\n      catalog_format: ecsv\n      catfile: ''\n      starfinder: iraf\n      snr_threshold: 10.0\n      kernel_fwhm: 2.19\n      bkg_boxsize: 400\n      minsep_fwhm: 0.0\n      sigma_radius: 1.5\n      sharplo: 0.5\n      sharphi: 2.0\n      roundlo: 0.0\n      roundhi: 0.2\n      brightest: 200\n      peakmax: None\n      npixels: 10\n      connectivity: '8'\n      nlevels: 32\n      contrast: 0.001\n      multithresh_mode: exponential\n      localbkg_width: 0\n      apermask_method: correct\n      kron_params: None\n      enforce_user_order: False\n      expand_refcat: False\n      minobj: 15\n      fitgeometry: rshift\n      nclip: 3\n      sigma: 3\n      searchrad: 1.0\n      use2dhist: True\n      separation: 1.0\n      tolerance: 0.7\n      xoffset: 0.0\n      yoffset: 0.0\n      abs_refcat: ''\n      save_abs_catalog: False\n      abs_minobj: 15\n      abs_fitgeometry: rshift\n      abs_nclip: 3\n      abs_sigma: 3.0\n      abs_searchrad: 6.0\n      abs_use2dhist: True\n      abs_separation: 1.0\n      abs_tolerance: 0.7\n      sip_approx: True\n      sip_max_pix_error: 0.01\n      sip_degree: None\n      sip_max_inv_pix_error: 0.01\n      sip_inv_degree: None\n      sip_npoints: 12\n      in_memory: True\n    skymatch:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      skymethod: match\n      match_down: True\n      subtract: False\n      skylist: None\n      stepsize: None\n      skystat: mode\n      dqbits: ~DO_NOT_USE+NON_SCIENCE\n      lower: None\n      upper: None\n      nclip: 5\n      lsigma: 4.0\n      usigma: 4.0\n      binwidth: 0.1\n      in_memory: True\n    outlier_detection:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: False\n      input_dir: ''\n      weight_type: exptime\n      pixfrac: 1.0\n      kernel: square\n      fillval: NAN\n      maskpt: 0.7\n      snr: 4.0 3.0\n      scale: 1.0 0.8\n      backg: 0.0\n      kernel_size: 7 7\n      threshold_percent: 99.8\n      rolling_window_width: 25\n      ifu_second_check: False\n      save_intermediate_results: False\n      resample_data: True\n      good_bits: ~DO_NOT_USE+NON_SCIENCE\n      in_memory: True\n    resample:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: None\n      search_output_file: True\n      input_dir: ''\n      pixfrac: 1.0\n      kernel: square\n      fillval: NAN\n      weight_type: exptime\n      output_shape: None\n      crpix: None\n      crval: None\n      rotation: None\n      pixel_scale_ratio: 1.0\n      pixel_scale: None\n      output_wcs: ''\n      single: False\n      blendheaders: True\n      in_memory: True\n      enable_ctx: True\n      enable_err: True\n      report_var: True\n    source_catalog:\n      pre_hooks: []\n      post_hooks: []\n      output_file: None\n      output_dir: None\n      output_ext: .fits\n      output_use_model: False\n      output_use_index: True\n      save_results: False\n      skip: False\n      suffix: cat\n      search_output_file: True\n      input_dir: ''\n      bkg_boxsize: 1000\n      kernel_fwhm: 2.27\n      snr_threshold: 3.0\n      npixels: 5\n      deblend: False\n      aperture_ee1: 30\n      aperture_ee2: 50\n      aperture_ee3: 70\n      ci1_star_threshold: 2.0\n      ci2_star_threshold: 1.8\n"},"children":[],"key":"Ntko9PrT2H"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:35,216 - stpipe.Image3Pipeline - INFO - Prefetching reference files for dataset: 'jw01040-a3001_image3_00007_asn.json' reftypes = ['abvegaoffset', 'apcorr']\n"},"children":[],"key":"AkLv4mAqup"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:35,219 - stpipe.Image3Pipeline - INFO - Prefetch for ABVEGAOFFSET reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_abvegaoffset_0002.asdf'.\n"},"children":[],"key":"C3HO931C5B"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:35,219 - stpipe.Image3Pipeline - INFO - Prefetch for APCORR reference file is '/home/runner/crds/references/jwst/miri/jwst_miri_apcorr_0014.fits'.\n"},"children":[],"key":"utyxNyhG32"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:35,220 - stpipe.Image3Pipeline - INFO - Starting calwebb_image3 ...\n"},"children":[],"key":"GRu2J48kPX"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:35,621 - stpipe.Image3Pipeline.tweakreg - INFO - Step tweakreg running with args (\u003cjwst.datamodels.library.ModelLibrary object at 0x7f9d346348d0\u003e,).\n"},"children":[],"key":"UbsHxCO84I"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:35,983 - stpipe.Image3Pipeline.tweakreg - INFO - Detected 97 sources in jw01040001005_03103_00001_mirimage_cal.fits.\n"},"children":[],"key":"McBi41mzLB"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:36,470 - stpipe.Image3Pipeline.tweakreg - INFO - Detected 90 sources in jw01040001005_03103_00002_mirimage_cal.fits.\n"},"children":[],"key":"k1cKioAILK"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:36,949 - stpipe.Image3Pipeline.tweakreg - INFO - Detected 92 sources in jw01040001005_03103_00003_mirimage_cal.fits.\n"},"children":[],"key":"cZqv2yDP5q"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:37,427 - stpipe.Image3Pipeline.tweakreg - INFO - Detected 89 sources in jw01040001005_03103_00004_mirimage_cal.fits.\n"},"children":[],"key":"mqLfd3jdD9"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:37,903 - stpipe.Image3Pipeline.tweakreg - INFO - Detected 97 sources in jw01040001005_03103_00005_mirimage_cal.fits.\n"},"children":[],"key":"oyyBBtumCd"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:37,924 - stpipe.Image3Pipeline.tweakreg - INFO - \n"},"children":[],"key":"mv6GKlTl1G"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:37,925 - stpipe.Image3Pipeline.tweakreg - INFO - Number of image groups to be aligned: 5.\n"},"children":[],"key":"pdcENWaDQR"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:37,925 - tweakwcs.imalign - INFO -  \n"},"children":[],"key":"HD891kwjhF"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:37,926 - tweakwcs.imalign - INFO - ***** tweakwcs.imalign.align_wcs() started on 2025-11-19 20:27:37.925636\n"},"children":[],"key":"ddrqgTu0RL"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:37,926 - tweakwcs.imalign - INFO -       Version 0.8.12\n"},"children":[],"key":"J5sLI0cGNe"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:37,927 - tweakwcs.imalign - INFO -  \n"},"children":[],"key":"jliSuZH6f7"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:38,207 - tweakwcs.imalign - INFO - Selected image 'GROUP ID: jw01040001005_03103_1' as reference image\n"},"children":[],"key":"nqnkabCxWa"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:38,211 - tweakwcs.imalign - INFO - Aligning image catalog 'GROUP ID: jw01040001005_03103_2' to the reference catalog.\n"},"children":[],"key":"cYuxFk4nY4"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:38,257 - tweakwcs.matchutils - INFO - Matching sources from 'jw01040001005_03103_00002_mirimage_cal' catalog with sources from the reference 'jw01040001005_03103_00001_mirimage_cal' catalog.\n"},"children":[],"key":"A2DMuNFN1s"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:38,258 - tweakwcs.matchutils - INFO - Computing initial guess for X and Y shifts...\n"},"children":[],"key":"hbLPeDXkCh"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:38,259 - tweakwcs.matchutils - INFO - Found initial X and Y shifts of 0.1091, 0.1091 (arcsec) with significance of 68 and 68 matches.\n"},"children":[],"key":"tPS06btVEC"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:38,260 - tweakwcs.wcsimage - INFO - Found 67 matches for 'GROUP ID: jw01040001005_03103_2'...\n"},"children":[],"key":"IHCb5V7vcN"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:38,261 - tweakwcs.linearfit - INFO - Performing 'rshift' fit\n"},"children":[],"key":"S4ZZh52g3D"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:38,263 - tweakwcs.wcsimage - INFO - Computed 'rshift' fit for GROUP ID: jw01040001005_03103_2:\n"},"children":[],"key":"kqgFs9cKMf"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:38,263 - tweakwcs.wcsimage - INFO - XSH: -0.00430263  YSH: -0.000731216    ROT: 0.00134208    SCALE: 1\n"},"children":[],"key":"WUtKLJc4ho"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:38,264 - tweakwcs.wcsimage - INFO - \n"},"children":[],"key":"DjGl9K7mQG"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:38,264 - tweakwcs.wcsimage - INFO - FIT RMSE: 0.0145465   FIT MAE: 0.0134298\n"},"children":[],"key":"W4KUQwbPLA"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:38,265 - tweakwcs.wcsimage - INFO - Final solution based on 67 objects.\n"},"children":[],"key":"fzg61dLTat"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:38,296 - tweakwcs.imalign - INFO - Aligning image catalog 'GROUP ID: jw01040001005_03103_3' to the reference catalog.\n"},"children":[],"key":"Y9jbKelNTg"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:38,341 - tweakwcs.matchutils - INFO - Matching sources from 'jw01040001005_03103_00003_mirimage_cal' catalog with sources from the reference 'jw01040001005_03103_00001_mirimage_cal' catalog.\n"},"children":[],"key":"ZclOs49F1Q"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:38,341 - tweakwcs.matchutils - INFO - Computing initial guess for X and Y shifts...\n"},"children":[],"key":"MncEy8QtVv"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:38,343 - tweakwcs.matchutils - INFO - Found initial X and Y shifts of 0.1091, 0.1091 (arcsec) with significance of 69 and 69 matches.\n"},"children":[],"key":"U8KNOOHPUK"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:38,344 - tweakwcs.wcsimage - INFO - Found 68 matches for 'GROUP ID: jw01040001005_03103_3'...\n"},"children":[],"key":"nL7E0NkGH7"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:38,345 - tweakwcs.linearfit - INFO - Performing 'rshift' fit\n"},"children":[],"key":"UnAN4Q3Vpv"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:38,346 - tweakwcs.wcsimage - INFO - Computed 'rshift' fit for GROUP ID: jw01040001005_03103_3:\n"},"children":[],"key":"Ci0sWxKiaQ"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:38,347 - tweakwcs.wcsimage - INFO - XSH: -0.00584086  YSH: -0.00174599    ROT: 0.000139988    SCALE: 1\n"},"children":[],"key":"bxO1UZdnmf"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:38,348 - tweakwcs.wcsimage - INFO - \n"},"children":[],"key":"KtNw34T8zX"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:38,348 - tweakwcs.wcsimage - INFO - FIT RMSE: 0.0130717   FIT MAE: 0.011891\n"},"children":[],"key":"q8zDcbLBzA"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:38,349 - tweakwcs.wcsimage - INFO - Final solution based on 68 objects.\n"},"children":[],"key":"Vkual2cr5i"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:38,379 - tweakwcs.imalign - INFO - Aligning image catalog 'GROUP ID: jw01040001005_03103_4' to the reference catalog.\n"},"children":[],"key":"AB9pSLfeSV"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:38,423 - tweakwcs.matchutils - INFO - Matching sources from 'jw01040001005_03103_00004_mirimage_cal' catalog with sources from the reference 'jw01040001005_03103_00001_mirimage_cal' catalog.\n"},"children":[],"key":"tvmEHttz8l"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:38,423 - tweakwcs.matchutils - INFO - Computing initial guess for X and Y shifts...\n"},"children":[],"key":"vhJyWrT6Z7"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:38,425 - tweakwcs.matchutils - INFO - Found initial X and Y shifts of 0.1091, 0.1091 (arcsec) with significance of 60 and 60 matches.\n"},"children":[],"key":"fsWMNeN8Y2"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:38,426 - tweakwcs.wcsimage - INFO - Found 59 matches for 'GROUP ID: jw01040001005_03103_4'...\n"},"children":[],"key":"j0TpLeHH4d"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:38,426 - tweakwcs.linearfit - INFO - Performing 'rshift' fit\n"},"children":[],"key":"Vo15Mejhyd"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:38,428 - tweakwcs.wcsimage - INFO - Computed 'rshift' fit for GROUP ID: jw01040001005_03103_4:\n"},"children":[],"key":"XZeKBSrzGv"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:38,429 - tweakwcs.wcsimage - INFO - XSH: -0.00880372  YSH: -0.00263095    ROT: 0.00459673    SCALE: 1\n"},"children":[],"key":"J8qDmhDdKX"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:38,429 - tweakwcs.wcsimage - INFO - \n"},"children":[],"key":"g5w5OtMrPY"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:38,430 - tweakwcs.wcsimage - INFO - FIT RMSE: 0.0141322   FIT MAE: 0.0122104\n"},"children":[],"key":"g1AAujjdbd"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:38,430 - tweakwcs.wcsimage - INFO - Final solution based on 59 objects.\n"},"children":[],"key":"BkQZRfvTIm"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:38,461 - tweakwcs.imalign - INFO - Aligning image catalog 'GROUP ID: jw01040001005_03103_5' to the reference catalog.\n"},"children":[],"key":"IhRCgZEoXO"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:38,506 - tweakwcs.matchutils - INFO - Matching sources from 'jw01040001005_03103_00005_mirimage_cal' catalog with sources from the reference 'jw01040001005_03103_00001_mirimage_cal' catalog.\n"},"children":[],"key":"Ol9qx8noWt"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:38,506 - tweakwcs.matchutils - INFO - Computing initial guess for X and Y shifts...\n"},"children":[],"key":"QtyDRIDDLh"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:38,508 - tweakwcs.matchutils - INFO - Found initial X and Y shifts of 0.1091, 0.1091 (arcsec) with significance of 65 and 65 matches.\n"},"children":[],"key":"YeqqOXKG7E"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:38,509 - tweakwcs.wcsimage - INFO - Found 63 matches for 'GROUP ID: jw01040001005_03103_5'...\n"},"children":[],"key":"TFXRWSFmrz"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:38,510 - tweakwcs.linearfit - INFO - Performing 'rshift' fit\n"},"children":[],"key":"vwEgFNhslQ"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:38,511 - tweakwcs.wcsimage - INFO - Computed 'rshift' fit for GROUP ID: jw01040001005_03103_5:\n"},"children":[],"key":"SH5dStNbTb"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:38,512 - tweakwcs.wcsimage - INFO - XSH: -0.00683569  YSH: -0.00371656    ROT: -0.000710487    SCALE: 1\n"},"children":[],"key":"E0lsS6o18l"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:38,512 - tweakwcs.wcsimage - INFO - \n"},"children":[],"key":"v1QXNeQl4Z"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:38,513 - tweakwcs.wcsimage - INFO - FIT RMSE: 0.0124526   FIT MAE: 0.0105718\n"},"children":[],"key":"wp2LBP2ly0"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:38,513 - tweakwcs.wcsimage - INFO - Final solution based on 63 objects.\n"},"children":[],"key":"mNvZJHlbpL"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:38,544 - tweakwcs.imalign - INFO -  \n"},"children":[],"key":"z5drdH1gbY"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:38,544 - tweakwcs.imalign - INFO - ***** tweakwcs.imalign.align_wcs() ended on 2025-11-19 20:27:38.544619\n"},"children":[],"key":"POq8vNLKI6"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:38,545 - tweakwcs.imalign - INFO - ***** tweakwcs.imalign.align_wcs() TOTAL RUN TIME: 0:00:00.618983\n"},"children":[],"key":"GQNpQPUbKv"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:38,545 - tweakwcs.imalign - INFO -  \n"},"children":[],"key":"n4gJ6AVfHt"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:38,616 - stcal.alignment.util - INFO - Update S_REGION to POLYGON ICRS  80.519756096 -69.441178981 80.538579735 -69.471753838 80.626144221 -69.465134413 80.607977234 -69.434457593\n"},"children":[],"key":"j3RXJsD07Y"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:38,655 - py.warnings - WARNING - /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages/gwcs/wcs/_wcs.py:1790: LinAlgWarning: Failed to achieve requested SIP approximation accuracy.\n  fit_inv_poly_u, fit_inv_poly_v, max_inv_resid = fit_2D_poly(\n\n"},"children":[],"key":"F0n2qP7FPi"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:38,712 - stcal.alignment.util - INFO - Update S_REGION to POLYGON ICRS  80.517105846 -69.438900240 80.535925744 -69.469475230 80.623481314 -69.462856423 80.605318017 -69.432179474\n"},"children":[],"key":"lYBQB6RNRu"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:38,751 - py.warnings - WARNING - /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages/gwcs/wcs/_wcs.py:1790: LinAlgWarning: Failed to achieve requested SIP approximation accuracy.\n  fit_inv_poly_u, fit_inv_poly_v, max_inv_resid = fit_2D_poly(\n\n"},"children":[],"key":"cEjhmRTIw6"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:38,809 - stcal.alignment.util - INFO - Update S_REGION to POLYGON ICRS  80.513331520 -69.439820350 80.532140011 -69.470396265 80.619701993 -69.463781765 80.601550154 -69.433103923\n"},"children":[],"key":"Q1Vxzlbm2u"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:38,847 - py.warnings - WARNING - /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages/gwcs/wcs/_wcs.py:1790: LinAlgWarning: Failed to achieve requested SIP approximation accuracy.\n  fit_inv_poly_u, fit_inv_poly_v, max_inv_resid = fit_2D_poly(\n\n"},"children":[],"key":"KR98gFeLSU"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:39,079 - stcal.alignment.util - INFO - Update S_REGION to POLYGON ICRS  80.515616620 -69.443456967 80.534439624 -69.474032024 80.622013978 -69.467413524 80.603847687 -69.436736512\n"},"children":[],"key":"tYHRes3Voi"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:39,118 - py.warnings - WARNING - /home/runner/micromamba/envs/ci-env/lib/python3.11/site-packages/gwcs/wcs/_wcs.py:1790: LinAlgWarning: Failed to achieve requested SIP approximation accuracy.\n  fit_inv_poly_u, fit_inv_poly_v, max_inv_resid = fit_2D_poly(\n\n"},"children":[],"key":"S9cX3YuZiD"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:39,135 - stpipe.Image3Pipeline.tweakreg - INFO - Step tweakreg done\n"},"children":[],"key":"TSf6qv73jB"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:39,298 - stpipe.Image3Pipeline.skymatch - INFO - Step skymatch running with args (\u003cjwst.datamodels.library.ModelLibrary object at 0x7f9d346348d0\u003e,).\n"},"children":[],"key":"DZ6YA8VP00"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:39,388 - stcal.skymatch.skymatch - INFO -  \n"},"children":[],"key":"BgBynzthbb"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:39,389 - stcal.skymatch.skymatch - INFO - ***** stcal.skymatch.skymatch.skymatch() started on 2025-11-19 20:27:39.388442\n"},"children":[],"key":"hFpqEuuybP"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:39,389 - stcal.skymatch.skymatch - INFO -  \n"},"children":[],"key":"rsfbgZYfEl"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:39,390 - stcal.skymatch.skymatch - INFO - Sky computation method: 'match'\n"},"children":[],"key":"erJHURx0QB"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:39,390 - stcal.skymatch.skymatch - INFO - Sky matching direction: DOWN\n"},"children":[],"key":"o1WLl7IpNz"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:39,391 - stcal.skymatch.skymatch - INFO - Sky subtraction from image data: OFF\n"},"children":[],"key":"VMKv54M8uv"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:39,392 - stcal.skymatch.skymatch - INFO -  \n"},"children":[],"key":"ZvqrzluVNK"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:39,392 - stcal.skymatch.skymatch - INFO - ----  Computing differences in sky values in overlapping regions.\n"},"children":[],"key":"oRClUbBbKr"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:40,782 - stcal.skymatch.skymatch - INFO -    *  Image ID=jw01040001005_03103_00001_mirimage_cal.fits. Sky background: 0.0203066\n"},"children":[],"key":"gABJWLrTpo"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:40,783 - stcal.skymatch.skymatch - INFO -    *  Image ID=jw01040001005_03103_00002_mirimage_cal.fits. Sky background: 0\n"},"children":[],"key":"gK2EHjYZQt"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:40,784 - stcal.skymatch.skymatch - INFO -    *  Image ID=jw01040001005_03103_00003_mirimage_cal.fits. Sky background: 0.0248103\n"},"children":[],"key":"NcNYySfEVX"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:40,784 - stcal.skymatch.skymatch - INFO -    *  Image ID=jw01040001005_03103_00004_mirimage_cal.fits. Sky background: 0.00271931\n"},"children":[],"key":"wuLIo7f6KU"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:40,784 - stcal.skymatch.skymatch - INFO -    *  Image ID=jw01040001005_03103_00005_mirimage_cal.fits. Sky background: 0.0137427\n"},"children":[],"key":"RFjtkwrtUD"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:40,786 - stcal.skymatch.skymatch - INFO -  \n"},"children":[],"key":"rUe0OXRE01"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:40,786 - stcal.skymatch.skymatch - INFO - ***** stcal.skymatch.skymatch.skymatch() ended on 2025-11-19 20:27:40.786013\n"},"children":[],"key":"W0JQNEKhJJ"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:40,787 - stcal.skymatch.skymatch - INFO - ***** stcal.skymatch.skymatch.skymatch() TOTAL RUN TIME: 0:00:01.397571\n"},"children":[],"key":"SyNiancb6z"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:40,787 - stcal.skymatch.skymatch - INFO -  \n"},"children":[],"key":"tNRFycjXoH"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:40,802 - stpipe.Image3Pipeline.skymatch - INFO - Step skymatch done\n"},"children":[],"key":"e2mEyhUKLJ"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:40,977 - stpipe.Image3Pipeline.outlier_detection - INFO - Step outlier_detection running with args (\u003cjwst.datamodels.library.ModelLibrary object at 0x7f9d346348d0\u003e,).\n"},"children":[],"key":"AcRRSbZeed"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:40,978 - stpipe.Image3Pipeline.outlier_detection - INFO - Outlier Detection mode: imaging\n"},"children":[],"key":"sI2F2AK2hF"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:40,979 - stpipe.Image3Pipeline.outlier_detection - INFO - Outlier Detection asn_id: a3001\n"},"children":[],"key":"OdM34WI0Na"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:41,000 - jwst.resample.resample_utils - INFO - Pixel scale ratio (pscale_out/pscale_in): 1.0\n"},"children":[],"key":"hIWHidSqDy"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:41,001 - jwst.resample.resample_utils - INFO - Computed output pixel scale: 0.11091590874981953 arcsec.\n"},"children":[],"key":"YjYhz96A8S"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:41,016 - stcal.resample.resample - INFO - Output pixel scale: 0.11091590874981953 arcsec.\n"},"children":[],"key":"ESrgm5WJc5"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:41,017 - stcal.resample.resample - INFO - Driz parameter kernel: square\n"},"children":[],"key":"DN2p9VazbT"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:41,018 - stcal.resample.resample - INFO - Driz parameter pixfrac: 1.0\n"},"children":[],"key":"KmA0XdOTTM"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:41,018 - stcal.resample.resample - INFO - Driz parameter fillval: NAN\n"},"children":[],"key":"ofsabljHEm"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:41,019 - stcal.resample.resample - INFO - Driz parameter weight_type: exptime\n"},"children":[],"key":"x4xD6Ibkjr"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:41,020 - jwst.resample.resample - INFO - 1 exposures to drizzle together\n"},"children":[],"key":"vsx19MbPGp"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:41,478 - stcal.resample.resample - INFO - Resampling science and variance data\n"},"children":[],"key":"crksYgwdLg"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:41,784 - stcal.alignment.util - INFO - Update S_REGION to POLYGON ICRS  80.512843494 -69.439087442 80.534017190 -69.474046113 80.629901790 -69.466865561 80.608579256 -69.431918568\n"},"children":[],"key":"LZ0MTXmwGm"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:41,817 - jwst.resample.resample - INFO - 1 exposures to drizzle together\n"},"children":[],"key":"CqAFEhOZkM"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:42,422 - stcal.resample.resample - INFO - Resampling science and variance data\n"},"children":[],"key":"OaBNKBJOkc"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:42,724 - stcal.alignment.util - INFO - Update S_REGION to POLYGON ICRS  80.512843494 -69.439087442 80.534017190 -69.474046113 80.629901790 -69.466865561 80.608579256 -69.431918568\n"},"children":[],"key":"LzkYctzsiC"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:42,754 - jwst.resample.resample - INFO - 1 exposures to drizzle together\n"},"children":[],"key":"SG3JIhXVZd"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:43,358 - stcal.resample.resample - INFO - Resampling science and variance data\n"},"children":[],"key":"ZgDz9UF0Sc"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:43,659 - stcal.alignment.util - INFO - Update S_REGION to POLYGON ICRS  80.512843494 -69.439087442 80.534017190 -69.474046113 80.629901790 -69.466865561 80.608579256 -69.431918568\n"},"children":[],"key":"EcFmBHa8v1"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:43,689 - jwst.resample.resample - INFO - 1 exposures to drizzle together\n"},"children":[],"key":"DmpFWQDjz7"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:44,287 - stcal.resample.resample - INFO - Resampling science and variance data\n"},"children":[],"key":"zl8qGadbzy"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:44,589 - stcal.alignment.util - INFO - Update S_REGION to POLYGON ICRS  80.512843494 -69.439087442 80.534017190 -69.474046113 80.629901790 -69.466865561 80.608579256 -69.431918568\n"},"children":[],"key":"C0JQuWgeJd"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:44,618 - jwst.resample.resample - INFO - 1 exposures to drizzle together\n"},"children":[],"key":"qJbncdexEc"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:45,223 - stcal.resample.resample - INFO - Resampling science and variance data\n"},"children":[],"key":"mql4fr8JW5"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:45,523 - stcal.alignment.util - INFO - Update S_REGION to POLYGON ICRS  80.512843494 -69.439087442 80.534017190 -69.474046113 80.629901790 -69.466865561 80.608579256 -69.431918568\n"},"children":[],"key":"nNSg46ywpT"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:46,809 - stcal.outlier_detection.utils - INFO - Blotting (1024, 1032) \u003c-- (1160, 1116)\n"},"children":[],"key":"Plo6PuGLwZ"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:46,895 - jwst.outlier_detection.utils - INFO - 237 pixels marked as outliers\n"},"children":[],"key":"uKVsilLwjJ"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:47,552 - stcal.outlier_detection.utils - INFO - Blotting (1024, 1032) \u003c-- (1160, 1116)\n"},"children":[],"key":"wlY1KK8lbA"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:47,625 - jwst.outlier_detection.utils - INFO - 217 pixels marked as outliers\n"},"children":[],"key":"rhiEdyNKJ8"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:48,286 - stcal.outlier_detection.utils - INFO - Blotting (1024, 1032) \u003c-- (1160, 1116)\n"},"children":[],"key":"nn7MLU29gg"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:48,358 - jwst.outlier_detection.utils - INFO - 170 pixels marked as outliers\n"},"children":[],"key":"a6tUuDpzeT"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:49,004 - stcal.outlier_detection.utils - INFO - Blotting (1024, 1032) \u003c-- (1160, 1116)\n"},"children":[],"key":"aaqAOY8hl9"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:49,076 - jwst.outlier_detection.utils - INFO - 209 pixels marked as outliers\n"},"children":[],"key":"yjOiMAAyJz"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:49,725 - stcal.outlier_detection.utils - INFO - Blotting (1024, 1032) \u003c-- (1160, 1116)\n"},"children":[],"key":"BbRP6rBSmB"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:49,799 - jwst.outlier_detection.utils - INFO - 153 pixels marked as outliers\n"},"children":[],"key":"Kxy3846k0h"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:49,957 - stpipe.Image3Pipeline.outlier_detection - INFO - Saved model in ./mir_im_demo_data/Obs001/stage3/jw01040001005_03103_00001_mirimage_a3001_crf.fits\n"},"children":[],"key":"usb72ZGw1A"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:50,111 - stpipe.Image3Pipeline.outlier_detection - INFO - Saved model in ./mir_im_demo_data/Obs001/stage3/jw01040001005_03103_00002_mirimage_a3001_crf.fits\n"},"children":[],"key":"taDv1BOCle"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:50,264 - stpipe.Image3Pipeline.outlier_detection - INFO - Saved model in ./mir_im_demo_data/Obs001/stage3/jw01040001005_03103_00003_mirimage_a3001_crf.fits\n"},"children":[],"key":"NJZlnABoDR"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:50,417 - stpipe.Image3Pipeline.outlier_detection - INFO - Saved model in ./mir_im_demo_data/Obs001/stage3/jw01040001005_03103_00004_mirimage_a3001_crf.fits\n"},"children":[],"key":"TO5cPVSo4Q"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:50,574 - stpipe.Image3Pipeline.outlier_detection - INFO - Saved model in ./mir_im_demo_data/Obs001/stage3/jw01040001005_03103_00005_mirimage_a3001_crf.fits\n"},"children":[],"key":"cpKJegucpn"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:50,575 - stpipe.Image3Pipeline.outlier_detection - INFO - Step outlier_detection done\n"},"children":[],"key":"HrImP9D2ZR"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:50,742 - stpipe.Image3Pipeline.resample - INFO - Step resample running with args (\u003cjwst.datamodels.library.ModelLibrary object at 0x7f9d346348d0\u003e,).\n"},"children":[],"key":"oWasoJBeiB"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:50,799 - jwst.resample.resample_utils - INFO - Pixel scale ratio (pscale_out/pscale_in): 1.0\n"},"children":[],"key":"PCsZF0VkQW"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:50,800 - jwst.resample.resample_utils - INFO - Computed output pixel scale: 0.11091590874981953 arcsec.\n"},"children":[],"key":"VibBQZjZvV"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:50,815 - stcal.resample.resample - INFO - Output pixel scale: 0.11091590874981953 arcsec.\n"},"children":[],"key":"Gk71h9HHQq"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:50,816 - stcal.resample.resample - INFO - Driz parameter kernel: square\n"},"children":[],"key":"RMpDTl4e8Y"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:50,816 - stcal.resample.resample - INFO - Driz parameter pixfrac: 1.0\n"},"children":[],"key":"LGSO8sbeNh"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:50,817 - stcal.resample.resample - INFO - Driz parameter fillval: NAN\n"},"children":[],"key":"G8DNh7sVeK"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:50,817 - stcal.resample.resample - INFO - Driz parameter weight_type: exptime\n"},"children":[],"key":"lwNee1ofBJ"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:50,823 - jwst.resample.resample - INFO - Resampling science and variance data\n"},"children":[],"key":"Ruz9iQm94D"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:51,264 - stcal.resample.resample - INFO - Resampling science and variance data\n"},"children":[],"key":"UQSXfQnU5n"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:51,508 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --\u003e (1160, 1116)\n"},"children":[],"key":"EDlQuEUDxY"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:51,704 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --\u003e (1160, 1116)\n"},"children":[],"key":"On67LYmw8M"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:51,902 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --\u003e (1160, 1116)\n"},"children":[],"key":"JkbLq3Cx9p"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:52,771 - stcal.resample.resample - INFO - Resampling science and variance data\n"},"children":[],"key":"Gnf3IDWs0J"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:53,016 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --\u003e (1160, 1116)\n"},"children":[],"key":"cugDCfTmMj"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:53,212 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --\u003e (1160, 1116)\n"},"children":[],"key":"mPfWy3RhiL"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:53,409 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --\u003e (1160, 1116)\n"},"children":[],"key":"p1JYjoKYGV"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:54,221 - stcal.resample.resample - INFO - Resampling science and variance data\n"},"children":[],"key":"yVc1fLumMV"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:54,465 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --\u003e (1160, 1116)\n"},"children":[],"key":"HuS1KxIrBz"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:54,661 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --\u003e (1160, 1116)\n"},"children":[],"key":"sUsJrsmGHs"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:54,859 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --\u003e (1160, 1116)\n"},"children":[],"key":"RKHZTr7zBl"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:55,675 - stcal.resample.resample - INFO - Resampling science and variance data\n"},"children":[],"key":"imBqK260Oo"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:55,919 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --\u003e (1160, 1116)\n"},"children":[],"key":"jSLZZg93E9"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:56,115 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --\u003e (1160, 1116)\n"},"children":[],"key":"Oex5m61ehV"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:56,313 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --\u003e (1160, 1116)\n"},"children":[],"key":"V9F7flBVRC"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:57,129 - stcal.resample.resample - INFO - Resampling science and variance data\n"},"children":[],"key":"QZdpQY3Rlr"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:57,379 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --\u003e (1160, 1116)\n"},"children":[],"key":"Wx4cnxOkyZ"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:57,582 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --\u003e (1160, 1116)\n"},"children":[],"key":"Nv9zgfvAz9"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:57,781 - stcal.resample.resample - INFO - Drizzling (1024, 1032) --\u003e (1160, 1116)\n"},"children":[],"key":"T6oyRQxWMv"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:58,215 - stcal.alignment.util - INFO - Update S_REGION to POLYGON ICRS  80.512843494 -69.439087442 80.534017190 -69.474046113 80.629901790 -69.466865561 80.608579256 -69.431918568\n"},"children":[],"key":"cLIs872XzF"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:58,443 - stpipe.Image3Pipeline.resample - INFO - Saved model in ./mir_im_demo_data/Obs001/stage3/image3_association_i2d.fits\n"},"children":[],"key":"PNDvFhEuZf"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:58,444 - stpipe.Image3Pipeline.resample - INFO - Step resample done\n"},"children":[],"key":"OlyDIuKfK9"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:58,623 - stpipe.Image3Pipeline.source_catalog - INFO - Step source_catalog running with args (\u003cImageModel(1160, 1116) from image3_association_i2d.fits\u003e,).\n"},"children":[],"key":"PtrXHmG4zB"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:58,650 - stpipe.Image3Pipeline.source_catalog - INFO - Using APCORR reference file: /home/runner/crds/references/jwst/miri/jwst_miri_apcorr_0014.fits\n"},"children":[],"key":"K5IoRd7Eev"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:58,653 - stpipe.Image3Pipeline.source_catalog - INFO - Using ABVEGAOFFSET reference file: /home/runner/crds/references/jwst/miri/jwst_miri_abvegaoffset_0002.asdf\n"},"children":[],"key":"jLvTcvI7wV"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:58,653 - jwst.source_catalog.reference_data - INFO - Instrument: MIRI\n"},"children":[],"key":"HSp8Xnai8H"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:58,654 - jwst.source_catalog.reference_data - INFO - Detector: MIRIMAGE\n"},"children":[],"key":"runnm7PnLZ"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:58,655 - jwst.source_catalog.reference_data - INFO - Filter: F770W\n"},"children":[],"key":"bw6UICg7R3"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:58,655 - jwst.source_catalog.reference_data - INFO - Subarray: FULL\n"},"children":[],"key":"Ki9uaawQ1m"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:58,693 - jwst.source_catalog.reference_data - INFO - AB to Vega magnitude offset 4.38398\n"},"children":[],"key":"QZU9ozf2ZV"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:58,809 - jwst.source_catalog.detection - INFO - Background could not be estimated in meshes. Using the entire unmasked array for background estimation: bkg_boxsize=(1160, 1116).\n"},"children":[],"key":"Bn6IU3f3Wz"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:58,922 - jwst.source_catalog.detection - INFO - Detected 705 sources\n"},"children":[],"key":"yAq2ny8EAq"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:59,466 - stpipe.Image3Pipeline.source_catalog - INFO - Wrote source catalog: ./mir_im_demo_data/Obs001/stage3/image3_association_cat.ecsv\n"},"children":[],"key":"sFR9IGj6UF"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:59,563 - stpipe.Image3Pipeline.source_catalog - INFO - Saved model in ./mir_im_demo_data/Obs001/stage3/image3_association_segm.fits\n"},"children":[],"key":"D1cGwpbWIG"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:59,564 - stpipe.Image3Pipeline.source_catalog - INFO - Wrote segmentation map: image3_association_segm.fits\n"},"children":[],"key":"fLFoWNoT2Y"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:59,565 - stpipe.Image3Pipeline.source_catalog - INFO - Step source_catalog done\n"},"children":[],"key":"jW1xTBXOhI"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:59,574 - stpipe.Image3Pipeline - INFO - Step Image3Pipeline done\n"},"children":[],"key":"V8XjQKHRMl"},{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"2025-11-19 20:27:59,574 - jwst.stpipe.core - INFO - Results used jwst version: 1.19.1\n"},"children":[],"key":"ykai3I8wiJ"}],"visibility":"show","key":"htITEDLqQv"}],"visibility":"show","key":"bXy5Aqjjwx"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-11-19T20:27:59.578889Z","iopub.status.busy":"2025-11-19T20:27:59.578738Z","iopub.status.idle":"2025-11-19T20:27:59.581654Z","shell.execute_reply":"2025-11-19T20:27:59.580919Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Print out the time benchmark\ntime1 = time.perf_counter()\nprint(f\"Runtime so far: {time1 - time0:0.0f} seconds\")\nprint(f\"Runtime for Image3: {time1 - time_image3:0.0f} seconds\")","key":"q2qC1NntYq"},{"type":"outputs","id":"tlf0FST4LmJd48OY5PCDN","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Runtime so far: 108 seconds\nRuntime for Image3: 25 seconds\n"},"children":[],"key":"RrvI1n2zR0"}],"key":"gytFHFTXSZ"}],"key":"WQ6zGo57dt"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Verify which pipeline steps were run and reference files used","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ZJlb6x8jL8"}],"identifier":"verify-which-pipeline-steps-were-run-and-reference-files-used","label":"Verify which pipeline steps were run and reference files used","html_id":"verify-which-pipeline-steps-were-run-and-reference-files-used-1","implicit":true,"key":"OW09csiUeg"}],"key":"c3M3gDWp2Q"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-11-19T20:27:59.583105Z","iopub.status.busy":"2025-11-19T20:27:59.582961Z","iopub.status.idle":"2025-11-19T20:27:59.746485Z","shell.execute_reply":"2025-11-19T20:27:59.745712Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"if doimage3:\n    # Identify *_i2d file and open as datamodel\n    i2d = glob.glob(os.path.join(image3_dir, \"*_i2d.fits\"))[0]\n    i2d_f = datamodels.open(i2d)\n\n    # Check which steps were run\n    i2d_f.meta.cal_step.instance\n\n    # Check which reference files were used to calibrate the dataset\n    i2d_f.meta.ref_file.instance","key":"PRQiGuIHqq"},{"type":"outputs","id":"o8EEgYdqhD-_Ko9p5ZLZB","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":33,"metadata":{},"data":{"text/plain":{"content":"{'assign_wcs': 'COMPLETE',\n 'charge_migration': 'SKIPPED',\n 'clean_flicker_noise': 'SKIPPED',\n 'dark_sub': 'COMPLETE',\n 'dq_init': 'COMPLETE',\n 'emicorr': 'COMPLETE',\n 'firstframe': 'COMPLETE',\n 'flat_field': 'COMPLETE',\n 'gain_scale': 'SKIPPED',\n 'group_scale': 'SKIPPED',\n 'ipc': 'SKIPPED',\n 'jump': 'COMPLETE',\n 'lastframe': 'COMPLETE',\n 'linearity': 'COMPLETE',\n 'outlier_detection': 'COMPLETE',\n 'photom': 'COMPLETE',\n 'ramp_fit': 'COMPLETE',\n 'refpix': 'SKIPPED',\n 'resample': 'COMPLETE',\n 'reset': 'COMPLETE',\n 'rscd': 'COMPLETE',\n 'saturation': 'COMPLETE',\n 'skymatch': 'COMPLETE',\n 'tweakreg': 'COMPLETE'}","content_type":"text/plain"}}},"children":[],"key":"TSOK7trZSw"},{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":33,"metadata":{},"data":{"text/plain":{"content":"{'area': {'name': 'crds://jwst_miri_area_0006.fits'},\n 'camera': {'name': 'N/A'},\n 'collimator': {'name': 'N/A'},\n 'crds': {'context_used': 'jwst_1413.pmap', 'sw_version': '13.0.6'},\n 'dark': {'name': 'crds://jwst_miri_dark_0113.fits'},\n 'dflat': {'name': 'N/A'},\n 'disperser': {'name': 'N/A'},\n 'distortion': {'name': 'crds://jwst_miri_distortion_0047.asdf'},\n 'emicorr': {'name': 'crds://jwst_miri_emicorr_0003.asdf'},\n 'fflat': {'name': 'N/A'},\n 'filteroffset': {'name': 'crds://jwst_miri_filteroffset_0008.asdf'},\n 'flat': {'name': 'crds://jwst_miri_flat_0829.fits'},\n 'fore': {'name': 'N/A'},\n 'fpa': {'name': 'N/A'},\n 'gain': {'name': 'crds://jwst_miri_gain_0034.fits'},\n 'ifufore': {'name': 'N/A'},\n 'ifupost': {'name': 'N/A'},\n 'ifuslicer': {'name': 'N/A'},\n 'linearity': {'name': 'crds://jwst_miri_linearity_0032.fits'},\n 'mask': {'name': 'crds://jwst_miri_mask_0036.fits'},\n 'msa': {'name': 'N/A'},\n 'ote': {'name': 'N/A'},\n 'photom': {'name': 'crds://jwst_miri_photom_0218.fits'},\n 'readnoise': {'name': 'crds://jwst_miri_readnoise_0085.fits'},\n 'regions': {'name': 'N/A'},\n 'reset': {'name': 'crds://jwst_miri_reset_0077.fits'},\n 'rscd': {'name': 'crds://jwst_miri_rscd_0017.fits'},\n 'saturation': {'name': 'crds://jwst_miri_saturation_0034.fits'},\n 'sflat': {'name': 'N/A'},\n 'specwcs': {'name': 'N/A'},\n 'superbias': {'name': 'N/A'},\n 'wavelengthrange': {'name': 'N/A'}}","content_type":"text/plain"}}},"children":[],"key":"UMZh1aSxJE"}],"key":"azc9Xir1MK"}],"key":"pEb23CC0H7"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","key":"HQZ3B8Lmwi"}],"key":"W0yab0NJSM"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"8. Visualize the drizzle-combined image","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TOvVxd5BC9"}],"identifier":"id-8-visualize-the-drizzle-combined-image","label":"8. Visualize the drizzle-combined image","html_id":"id-8-visualize-the-drizzle-combined-image","implicit":true,"key":"EKUxuFQFYP"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We will use matplotlib routines for visualizing the data. Display the combined i2d image.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"WQ7h7eC9P7"}],"key":"YDvmXa3eG7"}],"key":"H1EkjJ1fgn"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-11-19T20:27:59.748274Z","iopub.status.busy":"2025-11-19T20:27:59.748078Z","iopub.status.idle":"2025-11-19T20:28:00.405440Z","shell.execute_reply":"2025-11-19T20:28:00.404723Z"},"tags":["scroll-output"]},"children":[{"type":"code","lang":"python","executable":true,"value":"if doviz:\n    # Look at the final i2d image (combined mosaic)\n    sstring = os.path.join(image3_dir, '*i2d.fits')\n    miri_mosaic_file = glob.glob(sstring)\n    print(miri_mosaic_file)\n\n    # Read your mosaic image into an ImageModel datamodel\n    miri_mosaic = ImageModel(miri_mosaic_file[0])\n    \n    # Autoscale the stretch\n    display_vals = [np.nanpercentile(miri_mosaic.data, 1), np.nanpercentile(miri_mosaic.data, 99)]\n\n    plt.figure(figsize=(8, 8))\n\n    fig, ax = plt.subplots(figsize=(8, 8))\n\n    # Set up image\n    cax = ax.imshow(miri_mosaic.data, cmap='Greys', origin='lower', vmin=display_vals[0], vmax=display_vals[1])\n\n    # Set up colorbar\n    cb = fig.colorbar(cax, fraction=0.046)\n    cb.ax.set_ylabel('MJy/str', fontsize=14)\n\n    # Set labels \n    ax.set_xlabel('X', fontsize=16)\n    ax.set_ylabel('Y', fontsize=16)\n    ax.set_title('Final MIRI mosaic', fontsize=16)\n    plt.tight_layout()","visibility":"show","key":"J2MC5f3JVr"},{"type":"outputs","id":"HJxA2Zt1gTchpeween6HS","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"['./mir_im_demo_data/Obs001/stage3/image3_association_i2d.fits']\n"},"children":[],"key":"zmk254WRBK"},{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"\u003cFigure size 800x800 with 0 Axes\u003e","content_type":"text/plain"}}},"children":[],"key":"XFPHs7UUPK"},{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"b15039575f8beb496d106dd1b3b95136","path":"/build/b15039575f8beb496d106dd1b3b95136.png"},"text/plain":{"content":"\u003cFigure size 800x800 with 2 Axes\u003e","content_type":"text/plain"}}},"children":[],"key":"rqn2dfuVBu"}],"visibility":"show","key":"iPmCJbdC2c"}],"visibility":"show","key":"eEnY0550Ex"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-11-19T20:28:00.409028Z","iopub.status.busy":"2025-11-19T20:28:00.408840Z","iopub.status.idle":"2025-11-19T20:28:00.412737Z","shell.execute_reply":"2025-11-19T20:28:00.412029Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"display_vals","key":"phIV5h0n5u"},{"type":"outputs","id":"v9QfKfFx8ZRo_gmOg56wI","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":35,"metadata":{},"data":{"text/plain":{"content":"[np.float32(4.089625), np.float32(5.5585766)]","content_type":"text/plain"}}},"children":[],"key":"xJ2fhyGOMU"}],"key":"CUaGUXwr2N"}],"key":"fOJS1ed2a7"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"link","identifier":"detections","label":"detections","url":"","children":[{"type":"text","value":"Visualize Detected Sources","key":"DR1vnp8yP9"}],"urlSource":"","key":"GSq7XaBuUG"}],"identifier":"visualize-detected-sources","label":"Visualize Detected Sources","html_id":"visualize-detected-sources","implicit":true,"key":"TiZNBRhY26"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Using the source catalog created by the ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"YYdhpxDpbs"},{"type":"inlineCode","value":"IMAGE3","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"mhMdH65MqE"},{"type":"text","value":" stage of the pipeline,\nmark the detected sources, using different markers for point sources\nand extended sources. The source catalog is saved in\n","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"gKeQpzwQyE"},{"type":"inlineCode","value":"image3/image3_association_cat.ecsv","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"KBtwastKnX"},{"type":"text","value":" file.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"t70BHjcFek"}],"key":"qYHwGIjBzo"}],"key":"so6Q36C52X"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Read in catalog file and identify point/extended sources","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"KNeQukPQMh"}],"identifier":"read-in-catalog-file-and-identify-point-extended-sources","label":"Read in catalog file and identify point/extended sources","html_id":"read-in-catalog-file-and-identify-point-extended-sources","implicit":true,"key":"pzmRvnLIbZ"}],"key":"ADLqmfqXSz"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-11-19T20:28:00.414347Z","iopub.status.busy":"2025-11-19T20:28:00.414171Z","iopub.status.idle":"2025-11-19T20:28:00.526837Z","shell.execute_reply":"2025-11-19T20:28:00.526013Z"},"tags":["scroll-output"]},"children":[{"type":"code","lang":"python","executable":true,"value":"if doviz:\n    catalog_file = glob.glob(os.path.join(image3_dir, \"*_cat.ecsv\"))[0]\n    catalog = Table.read(catalog_file)\n\n    # find where sources are considered extended or point sources\n    pt_src, = np.where(~catalog['is_extended'])\n    ext_src, = np.where(catalog['is_extended'])\n\n    # Get x and y coordinates of the objects found \n    miri_x = catalog['xcentroid'][pt_src]\n    miri_y = catalog['ycentroid'][pt_src]\n\n    ext_x = catalog['xcentroid'][ext_src]\n    ext_y = catalog['ycentroid'][ext_src]\n\n    # Show catalog\n    catalog","visibility":"show","key":"QVpwTh7UbT"},{"type":"outputs","id":"Qcjfwbnct_AW2drkoW0iU","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":36,"metadata":{},"data":{"text/html":{"content":"\u003cdiv\u003e\u003ci\u003eTable length=705\u003c/i\u003e\n\u003ctable id=\"table140313124127760\" class=\"table-striped table-bordered table-condensed\"\u003e\n\u003cthead\u003e\u003ctr\u003e\u003cth\u003elabel\u003c/th\u003e\u003cth\u003excentroid\u003c/th\u003e\u003cth\u003eycentroid\u003c/th\u003e\u003cth\u003esky_centroid\u003c/th\u003e\u003cth\u003eaper_bkg_flux\u003c/th\u003e\u003cth\u003eaper_bkg_flux_err\u003c/th\u003e\u003cth\u003eaper30_flux\u003c/th\u003e\u003cth\u003eaper30_flux_err\u003c/th\u003e\u003cth\u003eaper50_flux\u003c/th\u003e\u003cth\u003eaper50_flux_err\u003c/th\u003e\u003cth\u003eaper70_flux\u003c/th\u003e\u003cth\u003eaper70_flux_err\u003c/th\u003e\u003cth\u003eaper_total_flux\u003c/th\u003e\u003cth\u003eaper_total_flux_err\u003c/th\u003e\u003cth\u003eaper30_abmag\u003c/th\u003e\u003cth\u003eaper30_abmag_err\u003c/th\u003e\u003cth\u003eaper50_abmag\u003c/th\u003e\u003cth\u003eaper50_abmag_err\u003c/th\u003e\u003cth\u003eaper70_abmag\u003c/th\u003e\u003cth\u003eaper70_abmag_err\u003c/th\u003e\u003cth\u003eaper_total_abmag\u003c/th\u003e\u003cth\u003eaper_total_abmag_err\u003c/th\u003e\u003cth\u003eaper30_vegamag\u003c/th\u003e\u003cth\u003eaper30_vegamag_err\u003c/th\u003e\u003cth\u003eaper50_vegamag\u003c/th\u003e\u003cth\u003eaper50_vegamag_err\u003c/th\u003e\u003cth\u003eaper70_vegamag\u003c/th\u003e\u003cth\u003eaper70_vegamag_err\u003c/th\u003e\u003cth\u003eaper_total_vegamag\u003c/th\u003e\u003cth\u003eaper_total_vegamag_err\u003c/th\u003e\u003cth\u003eCI_50_30\u003c/th\u003e\u003cth\u003eCI_70_50\u003c/th\u003e\u003cth\u003eCI_70_30\u003c/th\u003e\u003cth\u003eis_extended\u003c/th\u003e\u003cth\u003esharpness\u003c/th\u003e\u003cth\u003eroundness\u003c/th\u003e\u003cth\u003enn_label\u003c/th\u003e\u003cth\u003enn_dist\u003c/th\u003e\u003cth\u003eisophotal_flux\u003c/th\u003e\u003cth\u003eisophotal_flux_err\u003c/th\u003e\u003cth\u003eisophotal_abmag\u003c/th\u003e\u003cth\u003eisophotal_abmag_err\u003c/th\u003e\u003cth\u003eisophotal_vegamag\u003c/th\u003e\u003cth\u003eisophotal_vegamag_err\u003c/th\u003e\u003cth\u003eisophotal_area\u003c/th\u003e\u003cth\u003esemimajor_sigma\u003c/th\u003e\u003cth\u003esemiminor_sigma\u003c/th\u003e\u003cth\u003eellipticity\u003c/th\u003e\u003cth\u003eorientation\u003c/th\u003e\u003cth\u003esky_orientation\u003c/th\u003e\u003cth\u003esky_bbox_ll\u003c/th\u003e\u003cth\u003esky_bbox_ul\u003c/th\u003e\u003cth\u003esky_bbox_lr\u003c/th\u003e\u003cth\u003esky_bbox_ur\u003c/th\u003e\u003c/tr\u003e\u003c/thead\u003e\n\u003cthead\u003e\u003ctr\u003e\u003cth\u003e\u003c/th\u003e\u003cth\u003e\u003c/th\u003e\u003cth\u003e\u003c/th\u003e\u003cth\u003edeg,deg\u003c/th\u003e\u003cth\u003eJy\u003c/th\u003e\u003cth\u003eJy\u003c/th\u003e\u003cth\u003eJy\u003c/th\u003e\u003cth\u003eJy\u003c/th\u003e\u003cth\u003eJy\u003c/th\u003e\u003cth\u003eJy\u003c/th\u003e\u003cth\u003eJy\u003c/th\u003e\u003cth\u003eJy\u003c/th\u003e\u003cth\u003eJy\u003c/th\u003e\u003cth\u003eJy\u003c/th\u003e\u003cth\u003e\u003c/th\u003e\u003cth\u003e\u003c/th\u003e\u003cth\u003e\u003c/th\u003e\u003cth\u003e\u003c/th\u003e\u003cth\u003e\u003c/th\u003e\u003cth\u003e\u003c/th\u003e\u003cth\u003e\u003c/th\u003e\u003cth\u003e\u003c/th\u003e\u003cth\u003e\u003c/th\u003e\u003cth\u003e\u003c/th\u003e\u003cth\u003e\u003c/th\u003e\u003cth\u003e\u003c/th\u003e\u003cth\u003e\u003c/th\u003e\u003cth\u003e\u003c/th\u003e\u003cth\u003e\u003c/th\u003e\u003cth\u003e\u003c/th\u003e\u003cth\u003e\u003c/th\u003e\u003cth\u003e\u003c/th\u003e\u003cth\u003e\u003c/th\u003e\u003cth\u003e\u003c/th\u003e\u003cth\u003e\u003c/th\u003e\u003cth\u003e\u003c/th\u003e\u003cth\u003e\u003c/th\u003e\u003cth\u003epix\u003c/th\u003e\u003cth\u003eJy\u003c/th\u003e\u003cth\u003eJy\u003c/th\u003e\u003cth\u003e\u003c/th\u003e\u003cth\u003e\u003c/th\u003e\u003cth\u003e\u003c/th\u003e\u003cth\u003e\u003c/th\u003e\u003cth\u003epix2\u003c/th\u003e\u003cth\u003epix\u003c/th\u003e\u003cth\u003epix\u003c/th\u003e\u003cth\u003e\u003c/th\u003e\u003cth\u003edeg\u003c/th\u003e\u003cth\u003edeg\u003c/th\u003e\u003cth\u003edeg,deg\u003c/th\u003e\u003cth\u003edeg,deg\u003c/th\u003e\u003cth\u003edeg,deg\u003c/th\u003e\u003cth\u003edeg,deg\u003c/th\u003e\u003c/tr\u003e\u003c/thead\u003e\n\u003cthead\u003e\u003ctr\u003e\u003cth\u003eint32\u003c/th\u003e\u003cth\u003efloat64\u003c/th\u003e\u003cth\u003efloat64\u003c/th\u003e\u003cth\u003eSkyCoord\u003c/th\u003e\u003cth\u003efloat64\u003c/th\u003e\u003cth\u003efloat64\u003c/th\u003e\u003cth\u003efloat64\u003c/th\u003e\u003cth\u003efloat64\u003c/th\u003e\u003cth\u003efloat64\u003c/th\u003e\u003cth\u003efloat64\u003c/th\u003e\u003cth\u003efloat64\u003c/th\u003e\u003cth\u003efloat64\u003c/th\u003e\u003cth\u003efloat64\u003c/th\u003e\u003cth\u003efloat64\u003c/th\u003e\u003cth\u003efloat64\u003c/th\u003e\u003cth\u003efloat64\u003c/th\u003e\u003cth\u003efloat64\u003c/th\u003e\u003cth\u003efloat64\u003c/th\u003e\u003cth\u003efloat64\u003c/th\u003e\u003cth\u003efloat64\u003c/th\u003e\u003cth\u003efloat64\u003c/th\u003e\u003cth\u003efloat64\u003c/th\u003e\u003cth\u003efloat64\u003c/th\u003e\u003cth\u003efloat64\u003c/th\u003e\u003cth\u003efloat64\u003c/th\u003e\u003cth\u003efloat64\u003c/th\u003e\u003cth\u003efloat64\u003c/th\u003e\u003cth\u003efloat64\u003c/th\u003e\u003cth\u003efloat64\u003c/th\u003e\u003cth\u003efloat64\u003c/th\u003e\u003cth\u003efloat64\u003c/th\u003e\u003cth\u003efloat64\u003c/th\u003e\u003cth\u003efloat64\u003c/th\u003e\u003cth\u003ebool\u003c/th\u003e\u003cth\u003efloat64\u003c/th\u003e\u003cth\u003efloat32\u003c/th\u003e\u003cth\u003eint32\u003c/th\u003e\u003cth\u003efloat64\u003c/th\u003e\u003cth\u003efloat64\u003c/th\u003e\u003cth\u003efloat32\u003c/th\u003e\u003cth\u003efloat64\u003c/th\u003e\u003cth\u003efloat64\u003c/th\u003e\u003cth\u003efloat64\u003c/th\u003e\u003cth\u003efloat64\u003c/th\u003e\u003cth\u003efloat64\u003c/th\u003e\u003cth\u003efloat64\u003c/th\u003e\u003cth\u003efloat64\u003c/th\u003e\u003cth\u003efloat64\u003c/th\u003e\u003cth\u003efloat64\u003c/th\u003e\u003cth\u003efloat64\u003c/th\u003e\u003cth\u003eSkyCoord\u003c/th\u003e\u003cth\u003eSkyCoord\u003c/th\u003e\u003cth\u003eSkyCoord\u003c/th\u003e\u003cth\u003eSkyCoord\u003c/th\u003e\u003c/tr\u003e\u003c/thead\u003e\n\u003ctr\u003e\u003ctd\u003e1\u003c/td\u003e\u003ctd\u003e565.2549\u003c/td\u003e\u003ctd\u003e14.4137\u003c/td\u003e\u003ctd\u003e80.56165735947239,-69.43590915581524\u003c/td\u003e\u003ctd\u003e2.135599e-08\u003c/td\u003e\u003ctd\u003e5.627136e-09\u003c/td\u003e\u003ctd\u003e1.477625e-05\u003c/td\u003e\u003ctd\u003e2.609391e-07\u003c/td\u003e\u003ctd\u003e2.869221e-05\u003c/td\u003e\u003ctd\u003e3.854329e-07\u003c/td\u003e\u003ctd\u003e4.774304e-05\u003c/td\u003e\u003ctd\u003e6.700192e-07\u003c/td\u003e\u003ctd\u003e6.885998e-05\u003c/td\u003e\u003ctd\u003e9.663716e-07\u003c/td\u003e\u003ctd\u003e20.976089\u003c/td\u003e\u003ctd\u003e0.019006\u003c/td\u003e\u003ctd\u003e20.255590\u003c/td\u003e\u003ctd\u003e0.014488\u003c/td\u003e\u003ctd\u003e19.702725\u003c/td\u003e\u003ctd\u003e0.015131\u003c/td\u003e\u003ctd\u003e19.305083\u003c/td\u003e\u003ctd\u003e0.015131\u003c/td\u003e\u003ctd\u003e16.592109\u003c/td\u003e\u003ctd\u003e0.019006\u003c/td\u003e\u003ctd\u003e15.871610\u003c/td\u003e\u003ctd\u003e0.014488\u003c/td\u003e\u003ctd\u003e15.318745\u003c/td\u003e\u003ctd\u003e0.015131\u003c/td\u003e\u003ctd\u003e14.921103\u003c/td\u003e\u003ctd\u003e0.015131\u003c/td\u003e\u003ctd\u003e1.9418\u003c/td\u003e\u003ctd\u003e1.6640\u003c/td\u003e\u003ctd\u003e3.2311\u003c/td\u003e\u003ctd\u003eFalse\u003c/td\u003e\u003ctd\u003e0.226591\u003c/td\u003e\u003ctd\u003e1.603836\u003c/td\u003e\u003ctd\u003e7\u003c/td\u003e\u003ctd\u003e24.667159\u003c/td\u003e\u003ctd\u003e6.061346e-05\u003c/td\u003e\u003ctd\u003e8.536932e-07\u003c/td\u003e\u003ctd\u003e19.443577\u003c/td\u003e\u003ctd\u003e0.015185\u003c/td\u003e\u003ctd\u003e15.059597\u003c/td\u003e\u003ctd\u003e0.015185\u003c/td\u003e\u003ctd\u003e96.0\u003c/td\u003e\u003ctd\u003e2.955318\u003c/td\u003e\u003ctd\u003e1.650560\u003c/td\u003e\u003ctd\u003e0.441495\u003c/td\u003e\u003ctd\u003e62.906187\u003c/td\u003e\u003ctd\u003e320.862340\u003c/td\u003e\u003ctd\u003e80.56103723043908,-69.43573779668367\u003c/td\u003e\u003ctd\u003e80.56127498171776,-69.4361295234562\u003c/td\u003e\u003ctd\u003e80.56206665354586,-69.43566070706972\u003c/td\u003e\u003ctd\u003e80.56230442273437,-69.4360524324372\u003c/td\u003e\u003c/tr\u003e\n\u003ctr\u003e\u003ctd\u003e2\u003c/td\u003e\u003ctd\u003e605.1704\u003c/td\u003e\u003ctd\u003e8.7669\u003c/td\u003e\u003ctd\u003e80.56497821428461,-69.43548254664304\u003c/td\u003e\u003ctd\u003e3.034837e-08\u003c/td\u003e\u003ctd\u003e7.038789e-09\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003eFalse\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003e5\u003c/td\u003e\u003ctd\u003e13.644258\u003c/td\u003e\u003ctd\u003e2.050962e-06\u003c/td\u003e\u003ctd\u003e2.268761e-07\u003c/td\u003e\u003ctd\u003e23.120106\u003c/td\u003e\u003ctd\u003e0.113913\u003c/td\u003e\u003ctd\u003e18.736126\u003c/td\u003e\u003ctd\u003e0.113913\u003c/td\u003e\u003ctd\u003e8.0\u003c/td\u003e\u003ctd\u003e0.808785\u003c/td\u003e\u003ctd\u003e0.687845\u003c/td\u003e\u003ctd\u003e0.149534\u003c/td\u003e\u003ctd\u003e45.430000\u003c/td\u003e\u003ctd\u003e303.386153\u003c/td\u003e\u003ctd\u003e80.56481174572897,-69.43545510502864\u003c/td\u003e\u003ctd\u003e80.5648849192506,-69.43557563479227\u003c/td\u003e\u003ctd\u003e80.56515487855927,-69.43542940173224\u003c/td\u003e\u003ctd\u003e80.56522805391762,-69.43554993135173\u003c/td\u003e\u003c/tr\u003e\n\u003ctr\u003e\u003ctd\u003e3\u003c/td\u003e\u003ctd\u003e1066.5938\u003c/td\u003e\u003ctd\u003e10.7844\u003c/td\u003e\u003ctd\u003e80.60459221557207,-69.43257380940443\u003c/td\u003e\u003ctd\u003e4.756915e-08\u003c/td\u003e\u003ctd\u003e7.975070e-09\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003eFalse\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003e6\u003c/td\u003e\u003ctd\u003e6.947139\u003c/td\u003e\u003ctd\u003e7.933763e-07\u003c/td\u003e\u003ctd\u003e1.833290e-07\u003c/td\u003e\u003ctd\u003e24.151302\u003c/td\u003e\u003ctd\u003e0.225711\u003c/td\u003e\u003ctd\u003e19.767322\u003c/td\u003e\u003ctd\u003e0.225711\u003c/td\u003e\u003ctd\u003e5.0\u003c/td\u003e\u003ctd\u003e0.779008\u003c/td\u003e\u003ctd\u003e0.443822\u003c/td\u003e\u003ctd\u003e0.430272\u003c/td\u003e\u003ctd\u003e70.823373\u003c/td\u003e\u003ctd\u003e328.779526\u003c/td\u003e\u003ctd\u003e80.60447484843624,-69.43254216271937\u003c/td\u003e\u003ctd\u003e80.60454823441864,-69.43266267579226\u003c/td\u003e\u003ctd\u003e80.60473212762793,-69.43252282672651\u003c/td\u003e\u003ctd\u003e80.60480551498671,-69.43264333969091\u003c/td\u003e\u003c/tr\u003e\n\u003ctr\u003e\u003ctd\u003e4\u003c/td\u003e\u003ctd\u003e791.4352\u003c/td\u003e\u003ctd\u003e14.1301\u003c/td\u003e\u003ctd\u003e80.58105397139425,-69.43444650532162\u003c/td\u003e\u003ctd\u003e1.791873e-08\u003c/td\u003e\u003ctd\u003e5.753170e-09\u003c/td\u003e\u003ctd\u003e5.471495e-06\u003c/td\u003e\u003ctd\u003e2.166655e-07\u003c/td\u003e\u003ctd\u003e9.136369e-06\u003c/td\u003e\u003ctd\u003e3.236250e-07\u003c/td\u003e\u003ctd\u003e1.350058e-05\u003c/td\u003e\u003ctd\u003e6.067353e-07\u003c/td\u003e\u003ctd\u003e1.947195e-05\u003c/td\u003e\u003ctd\u003e8.750970e-07\u003c/td\u003e\u003ctd\u003e22.054735\u003c/td\u003e\u003ctd\u003e0.042165\u003c/td\u003e\u003ctd\u003e21.498066\u003c/td\u003e\u003ctd\u003e0.037793\u003c/td\u003e\u003ctd\u003e21.074119\u003c/td\u003e\u003ctd\u003e0.047730\u003c/td\u003e\u003ctd\u003e20.676477\u003c/td\u003e\u003ctd\u003e0.047730\u003c/td\u003e\u003ctd\u003e17.670755\u003c/td\u003e\u003ctd\u003e0.042165\u003c/td\u003e\u003ctd\u003e17.114086\u003c/td\u003e\u003ctd\u003e0.037793\u003c/td\u003e\u003ctd\u003e16.690139\u003c/td\u003e\u003ctd\u003e0.047730\u003c/td\u003e\u003ctd\u003e16.292497\u003c/td\u003e\u003ctd\u003e0.047730\u003c/td\u003e\u003ctd\u003e1.6698\u003c/td\u003e\u003ctd\u003e1.4777\u003c/td\u003e\u003ctd\u003e2.4674\u003c/td\u003e\u003ctd\u003eFalse\u003c/td\u003e\u003ctd\u003e0.612833\u003c/td\u003e\u003ctd\u003e-0.138018\u003c/td\u003e\u003ctd\u003e9\u003c/td\u003e\u003ctd\u003e10.922342\u003c/td\u003e\u003ctd\u003e1.264074e-05\u003c/td\u003e\u003ctd\u003e4.831865e-07\u003c/td\u003e\u003ctd\u003e21.145569\u003c/td\u003e\u003ctd\u003e0.040728\u003c/td\u003e\u003ctd\u003e16.761589\u003c/td\u003e\u003ctd\u003e0.040728\u003c/td\u003e\u003ctd\u003e34.0\u003c/td\u003e\u003ctd\u003e1.440662\u003c/td\u003e\u003ctd\u003e1.319030\u003c/td\u003e\u003ctd\u003e0.084428\u003c/td\u003e\u003ctd\u003e-55.789108\u003c/td\u003e\u003ctd\u003e202.167045\u003c/td\u003e\u003ctd\u003e80.58073572382544,-69.43435601274635\u003c/td\u003e\u003ctd\u003e80.58088224279138,-69.43459705885498\u003c/td\u003e\u003ctd\u003e80.58133614168793,-69.43431097665017\u003c/td\u003e\u003ctd\u003e80.58148266708021,-69.43455202225364\u003c/td\u003e\u003c/tr\u003e\n\u003ctr\u003e\u003ctd\u003e5\u003c/td\u003e\u003ctd\u003e617.9026\u003c/td\u003e\u003ctd\u003e13.6718\u003c/td\u003e\u003ctd\u003e80.56616015379018,-69.43554852263067\u003c/td\u003e\u003ctd\u003e2.024294e-08\u003c/td\u003e\u003ctd\u003e5.633569e-09\u003c/td\u003e\u003ctd\u003e1.205345e-06\u003c/td\u003e\u003ctd\u003e1.924078e-07\u003c/td\u003e\u003ctd\u003e2.365828e-06\u003c/td\u003e\u003ctd\u003e2.961119e-07\u003c/td\u003e\u003ctd\u003e4.359931e-06\u003c/td\u003e\u003ctd\u003e5.894469e-07\u003c/td\u003e\u003ctd\u003e6.288347e-06\u003c/td\u003e\u003ctd\u003e8.501617e-07\u003c/td\u003e\u003ctd\u003e23.697222\u003c/td\u003e\u003ctd\u003e0.160798\u003c/td\u003e\u003ctd\u003e22.965042\u003c/td\u003e\u003ctd\u003e0.128038\u003c/td\u003e\u003ctd\u003e22.301301\u003c/td\u003e\u003ctd\u003e0.137677\u003c/td\u003e\u003ctd\u003e21.903659\u003c/td\u003e\u003ctd\u003e0.137677\u003c/td\u003e\u003ctd\u003e19.313242\u003c/td\u003e\u003ctd\u003e0.160798\u003c/td\u003e\u003ctd\u003e18.581062\u003c/td\u003e\u003ctd\u003e0.128038\u003c/td\u003e\u003ctd\u003e17.917321\u003c/td\u003e\u003ctd\u003e0.137677\u003c/td\u003e\u003ctd\u003e17.519679\u003c/td\u003e\u003ctd\u003e0.137677\u003c/td\u003e\u003ctd\u003e1.9628\u003c/td\u003e\u003ctd\u003e1.8429\u003c/td\u003e\u003ctd\u003e3.6172\u003c/td\u003e\u003ctd\u003eFalse\u003c/td\u003e\u003ctd\u003e0.288238\u003c/td\u003e\u003ctd\u003e0.495850\u003c/td\u003e\u003ctd\u003e2\u003c/td\u003e\u003ctd\u003e13.644258\u003c/td\u003e\u003ctd\u003e2.376658e-06\u003c/td\u003e\u003ctd\u003e2.650625e-07\u003c/td\u003e\u003ctd\u003e22.960083\u003c/td\u003e\u003ctd\u003e0.114800\u003c/td\u003e\u003ctd\u003e18.576103\u003c/td\u003e\u003ctd\u003e0.114800\u003c/td\u003e\u003ctd\u003e11.0\u003c/td\u003e\u003ctd\u003e1.045422\u003c/td\u003e\u003ctd\u003e0.752996\u003c/td\u003e\u003ctd\u003e0.279720\u003c/td\u003e\u003ctd\u003e75.995131\u003c/td\u003e\u003ctd\u003e333.951283\u003c/td\u003e\u003ctd\u003e80.56600010391784,-69.4354920961395\u003c/td\u003e\u003ctd\u003e80.56609157943576,-69.43564275771543\u003c/td\u003e\u003ctd\u003e80.56634323591763,-69.43546639050251\u003c/td\u003e\u003ctd\u003e80.56643471373145,-69.43561705189822\u003c/td\u003e\u003c/tr\u003e\n\u003ctr\u003e\u003ctd\u003e6\u003c/td\u003e\u003ctd\u003e1065.3737\u003c/td\u003e\u003ctd\u003e17.6236\u003c/td\u003e\u003ctd\u003e80.60461306066411,-69.43278772522945\u003c/td\u003e\u003ctd\u003e3.401776e-08\u003c/td\u003e\u003ctd\u003e6.639909e-09\u003c/td\u003e\u003ctd\u003e3.827103e-06\u003c/td\u003e\u003ctd\u003e2.164807e-07\u003c/td\u003e\u003ctd\u003e5.340309e-06\u003c/td\u003e\u003ctd\u003e3.214883e-07\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003e22.442825\u003c/td\u003e\u003ctd\u003e0.059741\u003c/td\u003e\u003ctd\u003e22.081084\u003c/td\u003e\u003ctd\u003e0.063470\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003e18.058845\u003c/td\u003e\u003ctd\u003e0.059741\u003c/td\u003e\u003ctd\u003e17.697104\u003c/td\u003e\u003ctd\u003e0.063470\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003e1.3954\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003eFalse\u003c/td\u003e\u003ctd\u003e0.389282\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003e3\u003c/td\u003e\u003ctd\u003e6.947139\u003c/td\u003e\u003ctd\u003e6.315297e-06\u003c/td\u003e\u003ctd\u003e3.719940e-07\u003c/td\u003e\u003ctd\u003e21.899016\u003c/td\u003e\u003ctd\u003e0.062141\u003c/td\u003e\u003ctd\u003e17.515036\u003c/td\u003e\u003ctd\u003e0.062141\u003c/td\u003e\u003ctd\u003e19.0\u003c/td\u003e\u003ctd\u003e1.138851\u003c/td\u003e\u003ctd\u003e1.032484\u003c/td\u003e\u003ctd\u003e0.093399\u003c/td\u003e\u003ctd\u003e25.520352\u003c/td\u003e\u003ctd\u003e283.476505\u003c/td\u003e\u003ctd\u003e80.6043276459992,-69.43274226809272\u003c/td\u003e\u003ctd\u003e80.6044377250683,-69.43292303778397\u003c/td\u003e\u003ctd\u003e80.60484220897465,-69.43270359616159\u003c/td\u003e\u003ctd\u003e80.6049522921728,-69.43288436552744\u003c/td\u003e\u003c/tr\u003e\n\u003ctr\u003e\u003ctd\u003e7\u003c/td\u003e\u003ctd\u003e541.6894\u003c/td\u003e\u003ctd\u003e21.7032\u003c/td\u003e\u003ctd\u003e80.55976905775438,-69.43628018835581\u003c/td\u003e\u003ctd\u003e1.926328e-08\u003c/td\u003e\u003ctd\u003e4.804349e-09\u003c/td\u003e\u003ctd\u003e1.353692e-06\u003c/td\u003e\u003ctd\u003e1.944472e-07\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003e23.571201\u003c/td\u003e\u003ctd\u003e0.145725\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003e19.187221\u003c/td\u003e\u003ctd\u003e0.145725\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003eFalse\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003e11\u003c/td\u003e\u003ctd\u003e16.945230\u003c/td\u003e\u003ctd\u003e7.742785e-06\u003c/td\u003e\u003ctd\u003e4.592082e-07\u003c/td\u003e\u003ctd\u003e21.677757\u003c/td\u003e\u003ctd\u003e0.062556\u003c/td\u003e\u003ctd\u003e17.293777\u003c/td\u003e\u003ctd\u003e0.062556\u003c/td\u003e\u003ctd\u003e33.0\u003c/td\u003e\u003ctd\u003e2.473988\u003c/td\u003e\u003ctd\u003e1.008454\u003c/td\u003e\u003ctd\u003e0.592377\u003c/td\u003e\u003ctd\u003e8.915792\u003c/td\u003e\u003ctd\u003e266.871945\u003c/td\u003e\u003ctd\u003e80.55926529339474,-69.4362169981896\u003c/td\u003e\u003ctd\u003e80.55937501121768,-69.4363977963184\u003c/td\u003e\u003ctd\u003e80.56020895838877,-69.4361463425399\u003c/td\u003e\u003ctd\u003e80.56031868378945,-69.43632714007435\u003c/td\u003e\u003c/tr\u003e\n\u003ctr\u003e\u003ctd\u003e8\u003c/td\u003e\u003ctd\u003e658.0809\u003c/td\u003e\u003ctd\u003e22.3145\u003c/td\u003e\u003ctd\u003e80.56976490338103,-69.43555070830153\u003c/td\u003e\u003ctd\u003e-1.817932e-08\u003c/td\u003e\u003ctd\u003e3.585952e-09\u003c/td\u003e\u003ctd\u003e4.165073e-06\u003c/td\u003e\u003ctd\u003e2.076989e-07\u003c/td\u003e\u003ctd\u003e6.690058e-06\u003c/td\u003e\u003ctd\u003e3.124935e-07\u003c/td\u003e\u003ctd\u003e9.915614e-06\u003c/td\u003e\u003ctd\u003e5.997184e-07\u003c/td\u003e\u003ctd\u003e1.430133e-05\u003c/td\u003e\u003ctd\u003e8.649764e-07\u003c/td\u003e\u003ctd\u003e22.350943\u003c/td\u003e\u003ctd\u003e0.052836\u003c/td\u003e\u003ctd\u003e21.836425\u003c/td\u003e\u003ctd\u003e0.049566\u003c/td\u003e\u003ctd\u003e21.409201\u003c/td\u003e\u003ctd\u003e0.063758\u003c/td\u003e\u003ctd\u003e21.011559\u003c/td\u003e\u003ctd\u003e0.063758\u003c/td\u003e\u003ctd\u003e17.966964\u003c/td\u003e\u003ctd\u003e0.052836\u003c/td\u003e\u003ctd\u003e17.452445\u003c/td\u003e\u003ctd\u003e0.049566\u003c/td\u003e\u003ctd\u003e17.025221\u003c/td\u003e\u003ctd\u003e0.063758\u003c/td\u003e\u003ctd\u003e16.627579\u003c/td\u003e\u003ctd\u003e0.063758\u003c/td\u003e\u003ctd\u003e1.6062\u003c/td\u003e\u003ctd\u003e1.4821\u003c/td\u003e\u003ctd\u003e2.3807\u003c/td\u003e\u003ctd\u003eFalse\u003c/td\u003e\u003ctd\u003e0.596213\u003c/td\u003e\u003ctd\u003e0.761041\u003c/td\u003e\u003ctd\u003e5\u003c/td\u003e\u003ctd\u003e41.097377\u003c/td\u003e\u003ctd\u003e7.504351e-06\u003c/td\u003e\u003ctd\u003e3.805835e-07\u003c/td\u003e\u003ctd\u003e21.711717\u003c/td\u003e\u003ctd\u003e0.053712\u003c/td\u003e\u003ctd\u003e17.327737\u003c/td\u003e\u003ctd\u003e0.053712\u003c/td\u003e\u003ctd\u003e21.0\u003c/td\u003e\u003ctd\u003e1.206566\u003c/td\u003e\u003ctd\u003e1.055660\u003c/td\u003e\u003ctd\u003e0.125070\u003c/td\u003e\u003ctd\u003e35.806792\u003c/td\u003e\u003ctd\u003e293.762945\u003c/td\u003e\u003ctd\u003e80.56949200316296,-69.43548249303822\u003c/td\u003e\u003ctd\u003e80.56960180326236,-69.43566328472315\u003c/td\u003e\u003ctd\u003e80.57000669435986,-69.43544392401299\u003c/td\u003e\u003ctd\u003e80.57011649859166,-69.43562471537346\u003c/td\u003e\u003c/tr\u003e\n\u003ctr\u003e\u003ctd\u003e9\u003c/td\u003e\u003ctd\u003e789.7568\u003c/td\u003e\u003ctd\u003e24.9227\u003c/td\u003e\u003ctd\u003e80.5811076761154,-69.43478249315326\u003c/td\u003e\u003ctd\u003e1.263688e-08\u003c/td\u003e\u003ctd\u003e3.820460e-09\u003c/td\u003e\u003ctd\u003e5.710165e-06\u003c/td\u003e\u003ctd\u003e2.192161e-07\u003c/td\u003e\u003ctd\u003e1.023130e-05\u003c/td\u003e\u003ctd\u003e3.276696e-07\u003c/td\u003e\u003ctd\u003e1.681019e-05\u003c/td\u003e\u003ctd\u003e5.927907e-07\u003c/td\u003e\u003ctd\u003e2.424540e-05\u003c/td\u003e\u003ctd\u003e8.549846e-07\u003c/td\u003e\u003ctd\u003e22.008378\u003c/td\u003e\u003ctd\u003e0.040902\u003c/td\u003e\u003ctd\u003e21.375173\u003c/td\u003e\u003ctd\u003e0.034227\u003c/td\u003e\u003ctd\u003e20.836069\u003c/td\u003e\u003ctd\u003e0.037628\u003c/td\u003e\u003ctd\u003e20.438426\u003c/td\u003e\u003ctd\u003e0.037628\u003c/td\u003e\u003ctd\u003e17.624399\u003c/td\u003e\u003ctd\u003e0.040902\u003c/td\u003e\u003ctd\u003e16.991194\u003c/td\u003e\u003ctd\u003e0.034227\u003c/td\u003e\u003ctd\u003e16.452089\u003c/td\u003e\u003ctd\u003e0.037628\u003c/td\u003e\u003ctd\u003e16.054447\u003c/td\u003e\u003ctd\u003e0.037628\u003c/td\u003e\u003ctd\u003e1.7918\u003c/td\u003e\u003ctd\u003e1.6430\u003c/td\u003e\u003ctd\u003e2.9439\u003c/td\u003e\u003ctd\u003eFalse\u003c/td\u003e\u003ctd\u003e0.502781\u003c/td\u003e\u003ctd\u003e-0.556190\u003c/td\u003e\u003ctd\u003e4\u003c/td\u003e\u003ctd\u003e10.922342\u003c/td\u003e\u003ctd\u003e1.763360e-05\u003c/td\u003e\u003ctd\u003e5.568799e-07\u003c/td\u003e\u003ctd\u003e20.784147\u003c/td\u003e\u003ctd\u003e0.033758\u003c/td\u003e\u003ctd\u003e16.400168\u003c/td\u003e\u003ctd\u003e0.033758\u003c/td\u003e\u003ctd\u003e47.0\u003c/td\u003e\u003ctd\u003e2.012710\u003c/td\u003e\u003ctd\u003e1.337076\u003c/td\u003e\u003ctd\u003e0.335684\u003c/td\u003e\u003ctd\u003e-35.348373\u003c/td\u003e\u003ctd\u003e222.607780\u003c/td\u003e\u003ctd\u003e80.58066154689224,-69.43467662118421\u003c/td\u003e\u003ctd\u003e80.58082638248288,-69.43494779811896\u003c/td\u003e\u003ctd\u003e80.58151929894179,-69.43461228363535\u003c/td\u003e\u003ctd\u003e80.58168414486079,-69.43488345975818\u003c/td\u003e\u003c/tr\u003e\n\u003ctr\u003e\u003ctd\u003e...\u003c/td\u003e\u003ctd\u003e...\u003c/td\u003e\u003ctd\u003e...\u003c/td\u003e\u003ctd\u003e...\u003c/td\u003e\u003ctd\u003e...\u003c/td\u003e\u003ctd\u003e...\u003c/td\u003e\u003ctd\u003e...\u003c/td\u003e\u003ctd\u003e...\u003c/td\u003e\u003ctd\u003e...\u003c/td\u003e\u003ctd\u003e...\u003c/td\u003e\u003ctd\u003e...\u003c/td\u003e\u003ctd\u003e...\u003c/td\u003e\u003ctd\u003e...\u003c/td\u003e\u003ctd\u003e...\u003c/td\u003e\u003ctd\u003e...\u003c/td\u003e\u003ctd\u003e...\u003c/td\u003e\u003ctd\u003e...\u003c/td\u003e\u003ctd\u003e...\u003c/td\u003e\u003ctd\u003e...\u003c/td\u003e\u003ctd\u003e...\u003c/td\u003e\u003ctd\u003e...\u003c/td\u003e\u003ctd\u003e...\u003c/td\u003e\u003ctd\u003e...\u003c/td\u003e\u003ctd\u003e...\u003c/td\u003e\u003ctd\u003e...\u003c/td\u003e\u003ctd\u003e...\u003c/td\u003e\u003ctd\u003e...\u003c/td\u003e\u003ctd\u003e...\u003c/td\u003e\u003ctd\u003e...\u003c/td\u003e\u003ctd\u003e...\u003c/td\u003e\u003ctd\u003e...\u003c/td\u003e\u003ctd\u003e...\u003c/td\u003e\u003ctd\u003e...\u003c/td\u003e\u003ctd\u003e...\u003c/td\u003e\u003ctd\u003e...\u003c/td\u003e\u003ctd\u003e...\u003c/td\u003e\u003ctd\u003e...\u003c/td\u003e\u003ctd\u003e...\u003c/td\u003e\u003ctd\u003e...\u003c/td\u003e\u003ctd\u003e...\u003c/td\u003e\u003ctd\u003e...\u003c/td\u003e\u003ctd\u003e...\u003c/td\u003e\u003ctd\u003e...\u003c/td\u003e\u003ctd\u003e...\u003c/td\u003e\u003ctd\u003e...\u003c/td\u003e\u003ctd\u003e...\u003c/td\u003e\u003ctd\u003e...\u003c/td\u003e\u003ctd\u003e...\u003c/td\u003e\u003ctd\u003e...\u003c/td\u003e\u003ctd\u003e...\u003c/td\u003e\u003ctd\u003e...\u003c/td\u003e\u003ctd\u003e...\u003c/td\u003e\u003ctd\u003e...\u003c/td\u003e\u003ctd\u003e...\u003c/td\u003e\u003c/tr\u003e\n\u003ctr\u003e\u003ctd\u003e697\u003c/td\u003e\u003ctd\u003e575.7960\u003c/td\u003e\u003ctd\u003e1146.4017\u003c/td\u003e\u003ctd\u003e80.58329912451543,-69.46995003865402\u003c/td\u003e\u003ctd\u003e6.771949e-08\u003c/td\u003e\u003ctd\u003e4.128105e-09\u003c/td\u003e\u003ctd\u003e6.308764e-07\u003c/td\u003e\u003ctd\u003e1.893037e-07\u003c/td\u003e\u003ctd\u003e1.138031e-06\u003c/td\u003e\u003ctd\u003e2.929553e-07\u003c/td\u003e\u003ctd\u003e1.073450e-06\u003c/td\u003e\u003ctd\u003e5.827915e-07\u003c/td\u003e\u003ctd\u003e1.548242e-06\u003c/td\u003e\u003ctd\u003e8.405627e-07\u003c/td\u003e\u003ctd\u003e24.400139\u003c/td\u003e\u003ctd\u003e0.284912\u003c/td\u003e\u003ctd\u003e23.759615\u003c/td\u003e\u003ctd\u003e0.248703\u003c/td\u003e\u003ctd\u003e23.823045\u003c/td\u003e\u003ctd\u003e0.470854\u003c/td\u003e\u003ctd\u003e23.425403\u003c/td\u003e\u003ctd\u003e0.470854\u003c/td\u003e\u003ctd\u003e20.016160\u003c/td\u003e\u003ctd\u003e0.284912\u003c/td\u003e\u003ctd\u003e19.375635\u003c/td\u003e\u003ctd\u003e0.248703\u003c/td\u003e\u003ctd\u003e19.439065\u003c/td\u003e\u003ctd\u003e0.470854\u003c/td\u003e\u003ctd\u003e19.041423\u003c/td\u003e\u003ctd\u003e0.470854\u003c/td\u003e\u003ctd\u003e1.8039\u003c/td\u003e\u003ctd\u003e0.9433\u003c/td\u003e\u003ctd\u003e1.7015\u003c/td\u003e\u003ctd\u003eFalse\u003c/td\u003e\u003ctd\u003e0.448804\u003c/td\u003e\u003ctd\u003e-0.383630\u003c/td\u003e\u003ctd\u003e679\u003c/td\u003e\u003ctd\u003e9.363685\u003c/td\u003e\u003ctd\u003e9.671084e-07\u003c/td\u003e\u003ctd\u003e1.768009e-07\u003c/td\u003e\u003ctd\u003e23.936312\u003c/td\u003e\u003ctd\u003e0.182291\u003c/td\u003e\u003ctd\u003e19.552332\u003c/td\u003e\u003ctd\u003e0.182291\u003c/td\u003e\u003ctd\u003e5.0\u003c/td\u003e\u003ctd\u003e0.758657\u003c/td\u003e\u003ctd\u003e0.451520\u003c/td\u003e\u003ctd\u003e0.404843\u003c/td\u003e\u003ctd\u003e-18.253470\u003c/td\u003e\u003ctd\u003e239.702683\u003c/td\u003e\u003ctd\u003e80.58317122975623,-69.46993120992222\u003c/td\u003e\u003ctd\u003e80.58322627533217,-69.47002160146005\u003c/td\u003e\u003ctd\u003e80.58351489186508,-69.46990547046013\u003c/td\u003e\u003ctd\u003e80.5835699388226,-69.46999586188953\u003c/td\u003e\u003c/tr\u003e\n\u003ctr\u003e\u003ctd\u003e698\u003c/td\u003e\u003ctd\u003e966.1076\u003c/td\u003e\u003ctd\u003e1149.2157\u003c/td\u003e\u003ctd\u003e80.61688083594882,-69.4675199994777\u003c/td\u003e\u003ctd\u003e1.108488e-07\u003c/td\u003e\u003ctd\u003e4.861149e-09\u003c/td\u003e\u003ctd\u003e1.730987e-07\u003c/td\u003e\u003ctd\u003e1.939805e-07\u003c/td\u003e\u003ctd\u003e2.899533e-07\u003c/td\u003e\u003ctd\u003e3.017202e-07\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003e25.804266\u003c/td\u003e\u003ctd\u003e0.816165\u003c/td\u003e\u003ctd\u003e25.244180\u003c/td\u003e\u003ctd\u003e0.774385\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003e21.420286\u003c/td\u003e\u003ctd\u003e0.816165\u003c/td\u003e\u003ctd\u003e20.860200\u003c/td\u003e\u003ctd\u003e0.774385\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003e1.6751\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003eFalse\u003c/td\u003e\u003ctd\u003e1.611624\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003e689\u003c/td\u003e\u003ctd\u003e8.831272\u003c/td\u003e\u003ctd\u003e1.548932e-06\u003c/td\u003e\u003ctd\u003e2.434806e-07\u003c/td\u003e\u003ctd\u003e23.424919\u003c/td\u003e\u003ctd\u003e0.158514\u003c/td\u003e\u003ctd\u003e19.040939\u003c/td\u003e\u003ctd\u003e0.158514\u003c/td\u003e\u003ctd\u003e9.0\u003c/td\u003e\u003ctd\u003e1.838642\u003c/td\u003e\u003ctd\u003e0.515941\u003c/td\u003e\u003ctd\u003e0.719390\u003c/td\u003e\u003ctd\u003e43.327630\u003c/td\u003e\u003ctd\u003e301.283783\u003c/td\u003e\u003ctd\u003e80.61660690078944,-69.46745500627163\u003c/td\u003e\u003ctd\u003e80.61671726133397,-69.46763576820118\u003c/td\u003e\u003ctd\u003e80.61712227389773,-69.4674162980355\u003c/td\u003e\u003ctd\u003e80.61723263858397,-69.46759705963889\u003c/td\u003e\u003c/tr\u003e\n\u003ctr\u003e\u003ctd\u003e699\u003c/td\u003e\u003ctd\u003e951.5752\u003c/td\u003e\u003ctd\u003e1150.3874\u003c/td\u003e\u003ctd\u003e80.61565410283931,-69.4676490485075\u003c/td\u003e\u003ctd\u003e1.250354e-07\u003c/td\u003e\u003ctd\u003e4.166960e-09\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003eFalse\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003e702\u003c/td\u003e\u003ctd\u003e5.802521\u003c/td\u003e\u003ctd\u003e1.642639e-06\u003c/td\u003e\u003ctd\u003e2.452464e-07\u003c/td\u003e\u003ctd\u003e23.361145\u003c/td\u003e\u003ctd\u003e0.151084\u003c/td\u003e\u003ctd\u003e18.977165\u003c/td\u003e\u003ctd\u003e0.151084\u003c/td\u003e\u003ctd\u003e9.0\u003c/td\u003e\u003ctd\u003e1.043531\u003c/td\u003e\u003ctd\u003e0.651341\u003c/td\u003e\u003ctd\u003e0.375830\u003c/td\u003e\u003ctd\u003e-5.207379\u003c/td\u003e\u003ctd\u003e252.748774\u003c/td\u003e\u003ctd\u003e80.6154411397238,-69.46760557380597\u003c/td\u003e\u003ctd\u003e80.61551470718406,-69.46772608225852\u003c/td\u003e\u003ctd\u003e80.61587062221024,-69.4675733199183\u003c/td\u003e\u003ctd\u003e80.61594419197151,-69.4676938281897\u003c/td\u003e\u003c/tr\u003e\n\u003ctr\u003e\u003ctd\u003e700\u003c/td\u003e\u003ctd\u003e601.4662\u003c/td\u003e\u003ctd\u003e1152.7875\u003c/td\u003e\u003ctd\u003e80.5856217651151,-69.46997724844019\u003c/td\u003e\u003ctd\u003e8.517521e-08\u003c/td\u003e\u003ctd\u003e5.462420e-09\u003c/td\u003e\u003ctd\u003e5.538595e-07\u003c/td\u003e\u003ctd\u003e1.875325e-07\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003e24.541501\u003c/td\u003e\u003ctd\u003e0.316621\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003e20.157521\u003c/td\u003e\u003ctd\u003e0.316621\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003eFalse\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003e693\u003c/td\u003e\u003ctd\u003e7.356518\u003c/td\u003e\u003ctd\u003e4.544518e-06\u003c/td\u003e\u003ctd\u003e3.800020e-07\u003c/td\u003e\u003ctd\u003e22.256280\u003c/td\u003e\u003ctd\u003e0.087190\u003c/td\u003e\u003ctd\u003e17.872301\u003c/td\u003e\u003ctd\u003e0.087190\u003c/td\u003e\u003ctd\u003e23.0\u003c/td\u003e\u003ctd\u003e1.802814\u003c/td\u003e\u003ctd\u003e1.073277\u003c/td\u003e\u003ctd\u003e0.404666\u003c/td\u003e\u003ctd\u003e-14.765726\u003c/td\u003e\u003ctd\u003e243.190427\u003c/td\u003e\u003ctd\u003e80.5852206804177,-69.4699037199855\u003c/td\u003e\u003ctd\u003e80.58533078915818,-69.47008450175011\u003c/td\u003e\u003ctd\u003e80.58590799801176,-69.46985223230996\u003c/td\u003e\u003ctd\u003e80.58601811227838,-69.47003301364079\u003c/td\u003e\u003c/tr\u003e\n\u003ctr\u003e\u003ctd\u003e701\u003c/td\u003e\u003ctd\u003e748.0078\u003c/td\u003e\u003ctd\u003e1151.4257\u003c/td\u003e\u003ctd\u003e80.59818632881938,-69.4689926233867\u003c/td\u003e\u003ctd\u003e7.846477e-08\u003c/td\u003e\u003ctd\u003e8.922376e-09\u003c/td\u003e\u003ctd\u003e3.880110e-07\u003c/td\u003e\u003ctd\u003e1.931248e-07\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003e24.927890\u003c/td\u003e\u003ctd\u003e0.438584\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003e20.543910\u003c/td\u003e\u003ctd\u003e0.438584\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003eFalse\u003c/td\u003e\u003ctd\u003e1.558405\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003e685\u003c/td\u003e\u003ctd\u003e10.504169\u003c/td\u003e\u003ctd\u003e9.669711e-07\u003c/td\u003e\u003ctd\u003e1.825794e-07\u003c/td\u003e\u003ctd\u003e23.936466\u003c/td\u003e\u003ctd\u003e0.187786\u003c/td\u003e\u003ctd\u003e19.552486\u003c/td\u003e\u003ctd\u003e0.187786\u003c/td\u003e\u003ctd\u003e5.0\u003c/td\u003e\u003ctd\u003e1.328589\u003c/td\u003e\u003ctd\u003e0.333422\u003c/td\u003e\u003ctd\u003e0.749040\u003c/td\u003e\u003ctd\u003e49.561613\u003c/td\u003e\u003ctd\u003e307.517765\u003c/td\u003e\u003ctd\u003e80.59802142899433,-69.4689443176004\u003c/td\u003e\u003ctd\u003e80.59811327190796,-69.46909496233981\u003c/td\u003e\u003ctd\u003e80.59836505746901,-69.46891854888595\u003c/td\u003e\u003ctd\u003e80.59845690268455,-69.46906919344444\u003c/td\u003e\u003c/tr\u003e\n\u003ctr\u003e\u003ctd\u003e702\u003c/td\u003e\u003ctd\u003e957.3724\u003c/td\u003e\u003ctd\u003e1150.6353\u003c/td\u003e\u003ctd\u003e80.61615662434015,-69.46761912022609\u003c/td\u003e\u003ctd\u003e1.093764e-07\u003c/td\u003e\u003ctd\u003e4.608765e-09\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003eFalse\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003e699\u003c/td\u003e\u003ctd\u003e5.802521\u003c/td\u003e\u003ctd\u003e1.249060e-06\u003c/td\u003e\u003ctd\u003e2.317958e-07\u003c/td\u003e\u003ctd\u003e23.658542\u003c/td\u003e\u003ctd\u003e0.184824\u003c/td\u003e\u003ctd\u003e19.274562\u003c/td\u003e\u003ctd\u003e0.184824\u003c/td\u003e\u003ctd\u003e8.0\u003c/td\u003e\u003ctd\u003e1.308574\u003c/td\u003e\u003ctd\u003e0.442771\u003c/td\u003e\u003ctd\u003e0.661638\u003c/td\u003e\u003ctd\u003e-8.820101\u003c/td\u003e\u003ctd\u003e249.136052\u003c/td\u003e\u003ctd\u003e80.6158890145731,-69.46760344698907\u003c/td\u003e\u003ctd\u003e80.61594419197151,-69.4676938281897\u003c/td\u003e\u003ctd\u003e80.61640439254222,-69.4675647408738\u003c/td\u003e\u003ctd\u003e80.61645957201145,-69.46765512191133\u003c/td\u003e\u003c/tr\u003e\n\u003ctr\u003e\u003ctd\u003e703\u003c/td\u003e\u003ctd\u003e867.2400\u003c/td\u003e\u003ctd\u003e1151.6217\u003c/td\u003e\u003ctd\u003e80.60843249199557,-69.46823011288248\u003c/td\u003e\u003ctd\u003e2.594015e-08\u003c/td\u003e\u003ctd\u003e6.554188e-09\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003eFalse\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003e687\u003c/td\u003e\u003ctd\u003e8.802789\u003c/td\u003e\u003ctd\u003e1.051243e-06\u003c/td\u003e\u003ctd\u003e1.789142e-07\u003c/td\u003e\u003ctd\u003e23.845742\u003c/td\u003e\u003ctd\u003e0.170644\u003c/td\u003e\u003ctd\u003e19.461762\u003c/td\u003e\u003ctd\u003e0.170644\u003c/td\u003e\u003ctd\u003e5.0\u003c/td\u003e\u003ctd\u003e0.757644\u003c/td\u003e\u003ctd\u003e0.450516\u003c/td\u003e\u003ctd\u003e0.405373\u003c/td\u003e\u003ctd\u003e-17.139709\u003c/td\u003e\u003ctd\u003e240.816444\u003c/td\u003e\u003ctd\u003e80.60826240517058,-69.4682075367663\u003c/td\u003e\u003ctd\u003e80.60831755200313,-69.4682979203791\u003c/td\u003e\u003ctd\u003e80.60860600953738,-69.46818174788014\u003c/td\u003e\u003ctd\u003e80.6086611577507,-69.4682721313843\u003c/td\u003e\u003c/tr\u003e\n\u003ctr\u003e\u003ctd\u003e704\u003c/td\u003e\u003ctd\u003e619.0560\u003c/td\u003e\u003ctd\u003e1152.7933\u003c/td\u003e\u003ctd\u003e80.58713309115984,-69.46986420667244\u003c/td\u003e\u003ctd\u003e8.091279e-08\u003c/td\u003e\u003ctd\u003e5.929797e-09\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003eFalse\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003e700\u003c/td\u003e\u003ctd\u003e17.589799\u003c/td\u003e\u003ctd\u003e2.665898e-06\u003c/td\u003e\u003ctd\u003e2.903024e-07\u003c/td\u003e\u003ctd\u003e22.835391\u003c/td\u003e\u003ctd\u003e0.112226\u003c/td\u003e\u003ctd\u003e18.451412\u003c/td\u003e\u003ctd\u003e0.112226\u003c/td\u003e\u003ctd\u003e13.0\u003c/td\u003e\u003ctd\u003e2.827174\u003c/td\u003e\u003ctd\u003e0.399835\u003c/td\u003e\u003ctd\u003e0.858574\u003c/td\u003e\u003ctd\u003e1.316082\u003c/td\u003e\u003ctd\u003e259.272235\u003c/td\u003e\u003ctd\u003e80.58671793298352,-69.46985456572693\u003c/td\u003e\u003ctd\u003e80.58677299330257,-69.46994495614544\u003c/td\u003e\u003ctd\u003e80.58766298671831,-69.46978376136418\u003c/td\u003e\u003ctd\u003e80.58771805083646,-69.46987415148439\u003c/td\u003e\u003c/tr\u003e\n\u003ctr\u003e\u003ctd\u003e705\u003c/td\u003e\u003ctd\u003e697.6226\u003c/td\u003e\u003ctd\u003e1152.8283\u003c/td\u003e\u003ctd\u003e80.59388356007929,-69.46935941852239\u003c/td\u003e\u003ctd\u003e5.917846e-08\u003c/td\u003e\u003ctd\u003e4.475954e-09\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003eFalse\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003enan\u003c/td\u003e\u003ctd\u003e682\u003c/td\u003e\u003ctd\u003e20.605379\u003c/td\u003e\u003ctd\u003e1.018566e-06\u003c/td\u003e\u003ctd\u003e1.809988e-07\u003c/td\u003e\u003ctd\u003e23.880027\u003c/td\u003e\u003ctd\u003e0.177586\u003c/td\u003e\u003ctd\u003e19.496047\u003c/td\u003e\u003ctd\u003e0.177586\u003c/td\u003e\u003ctd\u003e5.0\u003c/td\u003e\u003ctd\u003e0.991346\u003c/td\u003e\u003ctd\u003e0.370467\u003c/td\u003e\u003ctd\u003e0.626299\u003c/td\u003e\u003ctd\u003e-4.409761\u003c/td\u003e\u003ctd\u003e253.546391\u003c/td\u003e\u003ctd\u003e80.59367681886094,-69.46933306820122\u003c/td\u003e\u003ctd\u003e80.59373190715328,-69.46942345642286\u003c/td\u003e\u003ctd\u003e80.59410636863056,-69.46930086789979\u003c/td\u003e\u003ctd\u003e80.59416145864951,-69.46939125598577\u003c/td\u003e\u003c/tr\u003e\n\u003c/table\u003e\u003c/div\u003e","content_type":"text/html"},"text/plain":{"content":"\u003cTable length=705\u003e\nlabel xcentroid ...             sky_bbox_ur             \n                ...               deg,deg               \nint32  float64  ...               SkyCoord              \n----- --------- ... ------------------------------------\n    1  565.2549 ...  80.56230442273437,-69.4360524324372\n    2  605.1704 ... 80.56522805391762,-69.43554993135173\n    3 1066.5938 ... 80.60480551498671,-69.43264333969091\n    4  791.4352 ... 80.58148266708021,-69.43455202225364\n    5  617.9026 ... 80.56643471373145,-69.43561705189822\n    6 1065.3737 ...  80.6049522921728,-69.43288436552744\n    7  541.6894 ... 80.56031868378945,-69.43632714007435\n    8  658.0809 ... 80.57011649859166,-69.43562471537346\n    9  789.7568 ... 80.58168414486079,-69.43488345975818\n  ...       ... ...                                  ...\n  697  575.7960 ...  80.5835699388226,-69.46999586188953\n  698  966.1076 ... 80.61723263858397,-69.46759705963889\n  699  951.5752 ...  80.61594419197151,-69.4676938281897\n  700  601.4662 ... 80.58601811227838,-69.47003301364079\n  701  748.0078 ... 80.59845690268455,-69.46906919344444\n  702  957.3724 ... 80.61645957201145,-69.46765512191133\n  703  867.2400 ...   80.6086611577507,-69.4682721313843\n  704  619.0560 ... 80.58771805083646,-69.46987415148439\n  705  697.6226 ... 80.59416145864951,-69.46939125598577","content_type":"text/plain"}}},"children":[],"key":"gfc37Yq1GN"}],"visibility":"show","key":"kNRxszPKE8"}],"visibility":"show","key":"spNqTBSOO5"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Mark the extended and point sources on the image","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"T546Mr8HQm"}],"identifier":"mark-the-extended-and-point-sources-on-the-image","label":"Mark the extended and point sources on the image","html_id":"mark-the-extended-and-point-sources-on-the-image","implicit":true,"key":"acBm0eaQK0"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Display combined image with point sources marked with red dots and extended sources marked with blue triangles. You will see that there are a grouping of sources near the top edge of the MIRI image, several of which may be spurious sources, which tend to be found near image edges.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"DQep7nFIPX"}],"key":"whxCZaawux"}],"key":"cN4Jw89yTT"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2025-11-19T20:28:00.528838Z","iopub.status.busy":"2025-11-19T20:28:00.528621Z","iopub.status.idle":"2025-11-19T20:28:01.004834Z","shell.execute_reply":"2025-11-19T20:28:01.003988Z"},"tags":["scroll-output"]},"children":[{"type":"code","lang":"python","executable":true,"value":"if doviz:\n    # Look at mosaic data and sources found with source_catalog\n    fig, ax = plt.subplots(figsize=(8, 8))\n\n    # Set up image\n    cax = ax.imshow(miri_mosaic.data, cmap='Greys', origin='lower', vmin=display_vals[0], vmax=display_vals[1])\n    ax.scatter(miri_x, miri_y, lw=1, s=10, color='red')  # overplot point source positions\n    ax.scatter(ext_x, ext_y, lw=1, s=20, color='blue', marker='v')  # overplot extended source positions\n\n    # Set up colorbar\n    cb = fig.colorbar(cax, fraction=0.046)\n    cb.ax.set_ylabel('MJy/str', fontsize=14)\n\n    # Set labels\n    ax.set_xlabel('X', fontsize=16)\n    ax.set_ylabel('Y', fontsize=16)\n    ax.set_title('Final MIRI mosaic', fontsize=16)\n    plt.tight_layout()","visibility":"show","key":"trfXuaCftY"},{"type":"outputs","id":"uS-2-4b6hsbLGEeIyCXev","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"877c06aac3e2de7bc19192dc6ca391cb","path":"/build/877c06aac3e2de7bc19192dc6ca391cb.png"},"text/plain":{"content":"\u003cFigure size 800x800 with 2 Axes\u003e","content_type":"text/plain"}}},"children":[],"key":"w60Wj0RoAt"}],"visibility":"show","key":"oWIVNGVVAJ"}],"visibility":"show","key":"OyN0xMSxDh"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","key":"n8OEVShUST"}],"key":"Kj1zOeT6HO"},{"type":"block","kind":"notebook-content","children":[{"type":"image","style":{"float":"center"},"url":"/build/a20cd1d49db2811c967bb509ffb59ecf.png","alt":"stsci_logo","width":"200px","key":"Opqc61iErV","urlSource":"https://github.com/spacetelescope/jwst-pipeline-notebooks/raw/main/_static/stsci_footer.png"}],"key":"QQvFo73ypi"}],"key":"oQ37Iq5nkM"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"MIRI Conagraphy Pipeline Notebook","short_title":"MIRI Coronagraphy Notebook","url":"/notebooks/miri/coronagraphy/jwpipenb-miri-coron","group":"MIRI"},"next":{"title":"MIRI Imaging TSO Pipeline Notebook","short_title":"MIRI Imaging TSO Notebook","url":"/notebooks/miri/imaging-tso/jwpipenb-miri-imaging-tso","group":"MIRI"}}},"domain":"http://localhost:3000"},"project":{"exports":[],"title":"JWST Pipeline Notebooks","authors":[{"nameParsed":{"literal":"STScI","family":"STScI"},"name":"STScI","id":"contributors-myst-generated-uid-0"}],"github":"https://github.com/spacetelescope/notebook-ci-testing","copyright":"2024","thebe":{"binder":{"url":"https://mybinder.org","provider":"github","repo":"https://github.com/spacetelescope/notebook-ci-testing","ref":"main"}},"toc":[{"file":"README.md"},{"children":[{"file":"notebooks/MIRI/Coronagraphy/JWPipeNB-MIRI-Coron.ipynb","title":"MIRI Coronagraphy Notebook"},{"file":"notebooks/MIRI/Imaging/JWPipeNB-MIRI-imaging.ipynb","title":"MIRI Imaging Notebook"},{"file":"notebooks/MIRI/Imaging-TSO/JWPipeNB-MIRI-imaging-TSO.ipynb","title":"MIRI Imaging TSO Notebook"},{"file":"notebooks/MIRI/LRS-slit/JWPipeNB-MIRI-LRS-slit.ipynb","title":"MIRI LRS Slit Notebook"},{"file":"notebooks/MIRI/LRS-slitless-TSO/JWPipeNB-MIRI-LRS-slitless-TSO.ipynb","title":"MIRI LRS Slitless TSO Notebook"},{"file":"notebooks/MIRI/MRS/JWPipeNB-MIRI-MRS.ipynb","title":"MIRI MRS Notebook"}],"title":"MIRI"},{"children":[{"file":"notebooks/NIRCAM/Coronagraphy/JWPipeNB-nircam-coronagraphy.ipynb","title":"NIRCam Coronagraphy Notebook"},{"file":"notebooks/NIRCAM/Imaging/JWPipeNB-nircam-imaging.ipynb","title":"NIRCam Imaging Notebook"}],"title":"NIRCAM"},{"children":[{"file":"notebooks/NIRISS/AMI/JWPipeNB-niriss-ami.ipynb","title":"NIRISS AMI Notebook"},{"file":"notebooks/NIRISS/Imaging/JWPipeNB-niriss-imaging.ipynb","title":"NIRISS Imaging Notebook"},{"file":"notebooks/NIRISS/SOSS/JWPipeNB-niriss-soss.ipynb","title":"NIRISS Single Object Slitless Spectroscopy Notebook"},{"file":"notebooks/NIRISS/WFSS/JWPipeNB-niriss-wfss.ipynb","title":"NIRISS Wide Field Slitless Spectroscopy Notebook"}],"title":"NIRISS"},{"children":[{"file":"notebooks/NIRSPEC/BOTS/JWPipeNB-NIRSpec-BOTS.ipynb","title":"NIRSpec BOTS Notebook"},{"file":"notebooks/NIRSPEC/FSlit/JWPipeNB-NIRSpec-FS.ipynb","title":"NIRSpec Fixed Slit Notebook"},{"file":"notebooks/NIRSPEC/IFU/JWPipeNB-NIRSpec-IFU.ipynb","title":"NIRSpec IFU Notebook"},{"file":"notebooks/NIRSPEC/MOS/JWPipeNB-NIRSpec-MOS.ipynb","title":"NIRSpec MOS Notebook"}],"title":"NIRSpec"}],"bibliography":[],"index":"index","pages":[{"level":1,"title":"MIRI"},{"slug":"notebooks.miri.coronagraphy.jwpipenb-miri-coron","title":"MIRI Conagraphy Pipeline Notebook","short_title":"MIRI Coronagraphy Notebook","description":"","date":"","thumbnail":"/build/d28265d85bf85e9f858ef5629b9e2037.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.miri.imaging.jwpipenb-miri-imaging","title":"MIRI Imaging Pipeline Notebook","short_title":"MIRI Imaging Notebook","description":"","date":"","thumbnail":"/build/d28265d85bf85e9f858ef5629b9e2037.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.miri.imaging-tso.jwpipenb-miri-imaging-tso","title":"MIRI Imaging TSO Pipeline Notebook","short_title":"MIRI Imaging TSO Notebook","description":"","date":"","thumbnail":"/build/d28265d85bf85e9f858ef5629b9e2037.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.miri.lrs-slit.jwpipenb-miri-lrs-slit","title":"MIRI LRS Slit Mode Pipeline Notebook","short_title":"MIRI LRS Slit Notebook","description":"","date":"","thumbnail":"/build/d28265d85bf85e9f858ef5629b9e2037.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.miri.lrs-slitless-tso.jwpipenb-miri-lrs-slitless-tso","title":"MIRI LRS Slitless Mode TSO Pipeline Notebook","short_title":"MIRI LRS Slitless TSO Notebook","description":"","date":"","thumbnail":"/build/d28265d85bf85e9f858ef5629b9e2037.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.miri.mrs.jwpipenb-miri-mrs","title":"MIRI MRS Pipeline Notebook","short_title":"MIRI MRS Notebook","description":"","date":"","thumbnail":"/build/d28265d85bf85e9f858ef5629b9e2037.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"NIRCAM"},{"slug":"notebooks.nircam.coronagraphy.jwpipenb-nircam-coronagraphy","title":"NIRCam Coronagraphy Pipeline Notebook","short_title":"NIRCam Coronagraphy Notebook","description":"","date":"","thumbnail":"/build/d28265d85bf85e9f858ef5629b9e2037.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.nircam.imaging.jwpipenb-nircam-imaging","title":"NIRCam Imaging Pipeline Notebook","short_title":"NIRCam Imaging Notebook","description":"","date":"","thumbnail":"/build/d28265d85bf85e9f858ef5629b9e2037.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"NIRISS"},{"slug":"notebooks.niriss.ami.jwpipenb-niriss-ami","title":"NIRISS AMI Pipeline Notebook","short_title":"NIRISS AMI Notebook","description":"","date":"","thumbnail":"/build/d28265d85bf85e9f858ef5629b9e2037.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.niriss.imaging.jwpipenb-niriss-imaging","title":"NIRISS Imaging Pipeline Notebook","short_title":"NIRISS Imaging Notebook","description":"","date":"","thumbnail":"/build/d28265d85bf85e9f858ef5629b9e2037.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"NIRSpec"},{"slug":"notebooks.nirspec.bots.jwpipenb-nirspec-bots","title":"NIRSpec BOTS Pipeline Notebook","short_title":"NIRSpec BOTS Notebook","description":"","date":"","thumbnail":"/build/d28265d85bf85e9f858ef5629b9e2037.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.nirspec.fslit.jwpipenb-nirspec-fs","title":"NIRSpec FS Pipeline Notebook","short_title":"NIRSpec Fixed Slit Notebook","description":"","date":"","thumbnail":"/build/d28265d85bf85e9f858ef5629b9e2037.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.nirspec.ifu.jwpipenb-nirspec-ifu","title":"NIRSpec IFU Pipeline Notebook","short_title":"NIRSpec IFU Notebook","description":"","date":"","thumbnail":"/build/d28265d85bf85e9f858ef5629b9e2037.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.nirspec.mos.jwpipenb-nirspec-mos","title":"NIRSpec MOS Pipeline Notebook","short_title":"NIRSpec MOS Notebook","description":"","date":"","thumbnail":"/build/d28265d85bf85e9f858ef5629b9e2037.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}}},"actionData":null,"errors":null},"future":{"unstable_dev":false,"unstable_postcss":false,"unstable_tailwind":false,"v2_errorBoundary":true,"v2_headers":true,"v2_meta":true,"v2_normalizeFormMethod":true,"v2_routeConvention":true}};</script><script type="module" async="">import "/build/manifest-7B0967AD.js";
import * as route0 from "/build/root-EDJFWIEV.js";
import * as route1 from "/build/routes/$-AD65NCUT.js";
window.__remixRouteModules = {"root":route0,"routes/$":route1};

import("/build/entry.client-PCJPW7TK.js");</script></body></html>